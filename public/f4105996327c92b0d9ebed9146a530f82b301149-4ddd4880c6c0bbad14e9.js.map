{"version":3,"file":"f4105996327c92b0d9ebed9146a530f82b301149-4ddd4880c6c0bbad14e9.js","mappings":"oPAOIA,EAAsB,CACxBC,OAAQ,MACRC,KAAM,2BACNC,OAAQ,MACRC,MAAO,MACPC,OAAQ,OACRC,QAAS,MACTC,SAAU,SACVC,WAAY,SACZC,SAAU,YAORC,GAAiB,QAAO,OAAQ,CAClCC,UAAWX,IAET,OACFU,EAAeE,YAAc,kBAQ/B,IAAIC,GAAsB,QAAO,QAAS,CACxCF,UAAWX,IAET,OACFa,EAAoBD,YAAc,uBCnCpC,SAASE,IAYP,OAXAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GACvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CACA,OAAOL,CACT,EACOH,EAASY,MAAMC,KAAMR,UAC9B,CAaA,IAAIS,EAAY,CAAC,QAAS,YAAa,QAAS,aAAc,aAC1DC,GAAO,QAAU,CACnB,KAAM,CACJC,UAAW,gBAEb,OAAQ,CACNA,UAAW,oBAUXC,GAAuB,SAAW,SAAUC,EAAOC,GACrD,IAAIC,GAAS,QAAe,UAAWF,GACnCG,GAAoB,QAAiBH,GACvCI,EAAwBD,EAAkBE,MAC1CA,OAAkC,IAA1BD,EAAmC,aAAeA,EAC1DE,EAAwBH,EAAkBI,UAC1CA,OAAsC,IAA1BD,EAAmC,MAAQA,EACvDE,EAAwBL,EAAkBM,MAC1CA,OAAkC,IAA1BD,EAAmC,QAAUA,EACrDE,EAAwBP,EAAkBQ,WAC1CA,OAAuC,IAA1BD,EAAmC,cAAgBA,EAChEE,EAAYT,EAAkBS,UAC9BC,EAxCJ,SAAuCxB,EAAQyB,GAC7C,GAAc,MAAVzB,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKJ,EAFLD,EAAS,CAAC,EACV8B,EAAahC,OAAOiC,KAAK3B,GAE7B,IAAKH,EAAI,EAAGA,EAAI6B,EAAW3B,OAAQF,IACjCI,EAAMyB,EAAW7B,GACb4B,EAASG,QAAQ3B,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAEvB,OAAOL,CACT,CA6BWiC,CAA8Bf,EAAmBP,GACtDuB,GAAa,IAAAC,IAAG,iBAAkBR,GAClCS,EAAgBvC,EAAS,CAC3BwC,QAAS,eACTC,YAAa,eACbC,YAAa,QACbC,aAAc,UACdC,YAAanB,EACboB,kBAAmBhB,EACnBiB,gBAAiBjB,EACjBkB,UAAWhC,EAAO,IAAMY,EAAQ,oBAC/BP,GACH,OAAoB,gBAAoB,SAAYpB,EAAS,CAC3DmB,IAAKA,EACL6B,MAAOT,EACPT,UAAWO,GACVN,GAAOR,GAAsB,gBAAoB3B,EAAgB,KAAM2B,GAC5E,ICrEA,SAAS,EAA8BhB,EAAQyB,GAC7C,GAAc,MAAVzB,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKJ,EAFLD,EAAS,CAAC,EACV8B,EAAahC,OAAOiC,KAAK3B,GAE7B,IAAKH,EAAI,EAAGA,EAAI6B,EAAW3B,OAAQF,IACjCI,EAAMyB,EAAW7B,GACb4B,EAASG,QAAQ3B,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAEvB,OAAOL,CACT,CACA,SAAS,IAYP,OAXA,EAAWF,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GACvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CACA,OAAOL,CACT,EACO,EAASS,MAAMC,KAAMR,UAC9B,CD6CI,OACFY,EAAQnB,YAAc,WC7CxB,IAAImD,EAAc,CAAC,OAAQ,cAAe,UAAW,YAAa,UAAW,aAAc,cACvFC,GAAiB,QAAc,CAC/BC,QAAQ,EACRC,KAAM,uBAERC,EAAsBH,EAAe,GACrCI,EAAiBJ,EAAe,GAC9BK,GAA2B,SAAW,SAAUrC,EAAOC,GACzD,IAAIqC,EAAOtC,EAAMsC,KACfC,EAAcvC,EAAMuC,YACpBC,EAAUxC,EAAMwC,QAChB5B,EAAYZ,EAAMY,UAClB6B,EAAiBzC,EAAM0C,QACvBA,OAA6B,IAAnBD,EAA4B,SAAWA,EACjDE,EAAa3C,EAAM2C,WACnBC,EAAa5C,EAAM4C,WACnB/B,EAAO,EAA8Bb,EAAO+B,GAC1CZ,GAAa,IAAAC,IAAG,uBAAwBR,GACxCiC,EAAU,WAAc,WAC1B,MAAO,CACLP,KAAMA,EACNC,YAAaA,EACbC,QAASA,EACTI,WAAYA,EAEhB,GAAG,CAACN,EAAMC,EAAaC,EAASI,IAC5BE,EAAc,CAChBxB,QAAS,eAqBX,OAlBEwB,EAAc,EAAS,CAAC,EAAGA,EADzBH,EACsC,CACtC,uCAAwC,CACtCI,gBAAiB,GAEnB,6CAA8C,CAC5CtB,aAAc,GAEhB,uCAAwC,CACtCuB,kBAAmB,IAIiB,CACtC,kCAAmC,CACjCC,YAAaP,KAIC,gBAAoBP,EAAqB,CAC3De,MAAOL,GACO,gBAAoB,SAAY,EAAS,CACvD5C,IAAKA,EACLkD,KAAM,QACNrB,MAAOgB,EACPlC,UAAWO,GACVN,IACL,IACI,OACFwB,EAAYzD,YAAc,eAE5B,IAAIwE,EAAc,CAAC,QAAS,YAAa,UAAW,WAAY,YAAa,SACzEC,EAAgB,SAAuBrD,GACzC,IAAIK,EAAQL,EAAMK,MAChBiD,EAAYtD,EAAMsD,UAClBb,EAAiBzC,EAAM0C,QACvBA,OAA6B,IAAnBD,EAA4B,SAAWA,EACjDc,EAAkBvD,EAAMwD,SACxBA,OAA+B,IAApBD,EAA0C,gBAAoBxD,EAAS,CAChF0D,MAAO,eACPrF,MAAO,MACPD,OAAQ,QACLoF,EACL3C,EAAYZ,EAAMY,UAClBkB,EAAQ9B,EAAM8B,MACdjB,EAAO,EAA8Bb,EAAOoD,GAC1CjC,GAAa,IAAAC,IAAG,yBAA0BR,GAC1C8C,EAA2B,UAAdJ,EAAwB,YAAc,cACnDjC,EAAgB,WAAc,WAChC,IAAIsC,EACJ,OAAO,IAAUA,EAAY,CAC3BrC,QAAS,OACTsC,WAAY,SACZnF,SAAU4B,EAAQ,WAAa,aACpBqD,GAAcrD,EAAQqC,EAAU,EAAGiB,EAAUE,SAAW,MAAOF,EAAUG,WAAa,SAAUH,GAAY7B,EAC3H,GAAG,CAACA,EAAOzB,EAAOqD,EAAYhB,IAC9B,OAAoB,gBAAoB,SAAY,EAAS,CAC3D9B,UAAWO,GACVN,EAAM,CACPiB,MAAOT,IACLmC,EACN,EACI,OACFH,EAAczE,YAAc,iBAE9B,IAAImF,EAAc,CAAC,WAAY,aAC3BC,EAAa,SAAoBhE,GACnC,IAAIwD,EAAWxD,EAAMwD,SACnB5C,EAAYZ,EAAMY,UAClBC,EAAO,EAA8Bb,EAAO+D,GAC1CE,EAAyB,iBAAqBT,GAAyB,eAAmBA,EAAU,CACtG,eAAe,EACfU,WAAW,IACRV,EACDrC,GAAa,IAAAC,IAAG,sBAAuBR,GAC3C,OAAoB,gBAAoB,UAAa,EAAS,CAC5DU,QAAS,cACT6C,UAAW,SACXC,WAAY,GACXvD,EAAM,CACPD,UAAWO,IACT8C,EACN,EACI,OACFD,EAAWpF,YAAc,cAgB3B,IAAIyF,EAAc,CAAC,aAAc,YAAa,WAAY,cAAe,WAAY,WAAY,YAAa,cAAe,cAAe,OAAQ,UAAW,mBAAoB,YAAa,MAC5LC,GAAsB,SAAW,SAAUtE,EAAOC,GACpD,IAhBqBiD,EACjBqB,EACFC,EACAC,EAaEC,EAAQtC,IACRlC,GAAS,QAAe,SAAU,EAAS,CAAC,EAAGwE,EAAO1E,IACtDG,GAAoB,QAAiBH,GACvC2E,EAAwBxE,EAAkByC,WAC1CA,OAAuC,IAA1B+B,EAA4C,MAATD,OAAgB,EAASA,EAAM9B,WAAa+B,EAC5FC,EAAYzE,EAAkByE,UAC9BC,EAAW1E,EAAkB0E,SAC7BC,EAAc3E,EAAkB2E,YAChCtB,EAAWrD,EAAkBqD,SAC7BuB,EAAW5E,EAAkB4E,SAC7BC,EAAY7E,EAAkB6E,UAC9BC,EAAc9E,EAAkB8E,YAChCC,EAAwB/E,EAAkBgF,YAC1CA,OAAwC,IAA1BD,EAAmC,SAAWA,EAC5DE,EAAOjF,EAAkBiF,KACzBC,EAAUlF,EAAkBkF,QAC5BC,EAAwBnF,EAAkBoF,iBAC1CA,OAA6C,IAA1BD,EAAmC,QAAUA,EAChE1E,EAAYT,EAAkBS,UAC9B4E,EAAKrF,EAAkBqF,GACvB3E,EAAO,EAA8BV,EAAmBkE,GAQtDoB,EAAe,WAAc,WAC/B,IAAIC,EACAC,EAAS,IAAU,CAAC,EAAoE,OAAhED,EAA2B,MAAVxF,OAAiB,EAASA,EAAe,QAAawF,EAAiB,CAAC,EAAG,CACtHE,OAAQ,IAEV,OAAO,EAAS,CACdtE,QAAS,cACTuE,WAAY,OACZjC,WAAY,SACZkC,eAAgB,SAChBC,WAAY,OACZtH,SAAU,WACVD,WAAY,SACZwH,cAAe,SACfC,QAAS,OACT7H,MAAO0G,EAAc,OAAS,QAC7B5E,IAAUwE,GAAS,CACpBiB,OAAQA,GAEZ,GAAG,CAACzF,EAAQwE,EAAOI,IACfoB,GAhEiBhD,EAgEcsC,EA/D/BjB,EAAkB,YAAgBrB,GACpCsB,EAAWD,EAAgB,GAC3BE,EAAcF,EAAgB,GAMzB,CACLtE,IANgB,eAAkB,SAAUkG,GACvCA,GACL1B,EAA6B,WAAjB0B,EAAKC,QACnB,GAAG,IAIDhB,KAHSZ,EAAW,cAAW6B,IAyD/BC,EAAOJ,EAAejG,IACtBsG,EAAcL,EAAed,KAC3BoB,EAAe,CACjBxB,UAAWA,EACXD,SAAUA,EACVI,YAAaA,EACb3B,SAAUA,GAEZ,OAAoB,gBAAoB,YAAe,EAAS,CAC9DiD,SAAU7D,GAAcgC,EACxB3E,KAAK,QAAaA,EAAKqG,GACvBd,GAAIA,EACJJ,KAAc,MAARA,EAAeA,EAAOmB,EAC5B,eAAe,QAAS1B,GACxB,gBAAgB,QAASD,GACzB9C,MAAO2D,EACP7E,WAAW,IAAAQ,IAAG,gBAAiBR,IAC9BC,GAAO+D,GAAkC,UAArBW,GAA6C,gBAAoBlC,EAAe,CACrGzC,UAAW,gCACXP,MAAO4E,EACP3B,UAAW,QACXZ,QAASyC,GACRE,GAAUT,EAAYK,GAA4B,gBAAoB,UAAa,CACpFyB,QAAS,GACK,gBAAoBC,EAAeH,IAA8B,gBAAoBG,EAAeH,GAAe5B,GAAkC,QAArBW,GAA2C,gBAAoBlC,EAAe,CAC5NzC,UAAW,8BACXP,MAAO4E,EACP3B,UAAW,MACXZ,QAASyC,GACRE,GACL,IAIA,SAASsB,EAAc3G,GACrB,IAAI+E,EAAW/E,EAAM+E,SACnBC,EAAYhF,EAAMgF,UAClBxB,EAAWxD,EAAMwD,SACjB2B,EAAcnF,EAAMmF,YACtB,OAAoB,gBAAoB,WAAgB,KAAMJ,GAAyB,gBAAoBf,EAAY,CACrH4C,UAAWzB,GACVJ,GAAWvB,EAAUwB,GAA0B,gBAAoBhB,EAAY,CAChFf,YAAakC,GACZH,GACL,CAbI,OACFV,EAAO1F,YAAc,UAavB,IAAI,EAAY,CAAC,OAAQ,WAAY,UAAW,cAC5CiI,GAA0B,SAAW,SAAU7G,EAAOC,GACxD,IAAI6G,EAAO9G,EAAM8G,KACftD,EAAWxD,EAAMwD,SACjBuD,EAAU/G,EAAM+G,QAChBC,EAAYhH,EAAM,cAClBa,EAAO,EAA8Bb,EAAO,GAK1CiH,EAAUH,GAAQtD,EAClBS,EAAyB,iBAAqBgD,GAAwB,eAAmBA,EAAS,CACpG,eAAe,EACf/C,WAAW,IACR,KACL,OAAoB,gBAAoBI,EAAQ,EAAS,CACvDhG,QAAS,IACTmD,aAAcsF,EAAU,YAASV,EACjCpG,IAAKA,EACL,aAAc+G,GACbnG,GAAOoD,EACZ,IACI,OACF4C,EAAWjI,YAAc,a,sHCtR3B,SAASE,IAYP,OAXAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GACvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CACA,OAAOL,CACT,EACOH,EAASY,MAAMC,KAAMR,UAC9B,CAaA,IAAIS,EAAY,CAAC,KAAM,UAAW,QAAS,YAAa,WAAY,YAAa,SAC7EsH,EAAe,CACjBC,KAAmB,gBAAoB,IAAK,CAC1CC,OAAQ,eACRC,YAAa,OACC,gBAAoB,OAAQ,CAC1CC,cAAe,QACfC,KAAM,OACNC,EAAG,uDACY,gBAAoB,OAAQ,CAC3CD,KAAM,eACND,cAAe,QACfE,EAAG,gEACY,gBAAoB,SAAU,CAC7CD,KAAM,OACNE,iBAAkB,KAClBrG,GAAI,KACJsG,GAAI,KACJC,EAAG,WAELC,QAAS,aAEPC,GAAoB,SAAW,SAAU7H,EAAOC,GAClD,IAAIgH,EAAUjH,EAAMwF,GAClBoC,EAAU5H,EAAM4H,QAChBE,EAAe9H,EAAMyD,MACrBA,OAAyB,IAAjBqE,EAA0B,eAAiBA,EACnDC,EAAmB/H,EAAMkE,UACzBA,OAAiC,IAArB6D,GAAsCA,EAClDvE,EAAWxD,EAAMwD,SACjB5C,EAAYZ,EAAMY,UAClBkB,EAAQ9B,EAAM8B,MACdjB,EA5CJ,SAAuCxB,EAAQyB,GAC7C,GAAc,MAAVzB,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKJ,EAFLD,EAAS,CAAC,EACV8B,EAAahC,OAAOiC,KAAK3B,GAE7B,IAAKH,EAAI,EAAGA,EAAI6B,EAAW3B,OAAQF,IACjCI,EAAMyB,EAAW7B,GACb4B,EAASG,QAAQ3B,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAEvB,OAAOL,CACT,CAiCWiC,CAA8BlB,EAAOJ,GAU1CoI,EAAS,CACX/H,IAAKA,EACLiE,UAAWA,EACXtD,WAZe,IAAAQ,IAAG,cAAeR,GAajCkB,MAZWhD,EAAS,CACpBmJ,EAAG,MACHC,EAAG,MACH5G,QAAS,eACTwC,WAAY,MACZM,WAAY,EACZX,MAAOA,GACN3B,IAOCqG,EAAsB,MAAXP,EAAkBA,EAAUV,EAAaU,QAMxD,GAAIX,GAA8B,iBAAZA,EACpB,OAAoB,gBAAoB,SAAYnI,EAAS,CAC3D0G,GAAIyB,GACHe,EAAQnH,IAEb,IAAIuH,EAAoB,MAAZ5E,EAAmBA,EAAW0D,EAAaC,KACvD,OAAoB,gBAAoB,SAAYrI,EAAS,CAC3DkH,cAAe,SACf4B,QAASO,GACRH,EAAQnH,GAAOuH,EACpB,IACI,OACFP,EAAKjJ,YAAc,QAErB,IAAIyJ,EAASR,C,wPC5Fb,SAAS/I,IAYP,OAXAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GACvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CACA,OAAOL,CACT,EACOH,EAASY,MAAMC,KAAMR,UAC9B,CACA,SAAS+B,EAA8B7B,EAAQyB,GAC7C,GAAc,MAAVzB,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKJ,EAFLD,EAAS,CAAC,EACV8B,EAAahC,OAAOiC,KAAK3B,GAE7B,IAAKH,EAAI,EAAGA,EAAI6B,EAAW3B,OAAQF,IACjCI,EAAMyB,EAAW7B,GACb4B,EAASG,QAAQ3B,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAEvB,OAAOL,CACT,CACA,IAAIqJ,EAAc,CAAC,QAAS,WAAY,aAQpCC,GAA2B,SAAW,SAAUvI,EAAOC,GACzD,IAAIuI,EAAexI,EAAMyI,MACvBA,OAAyB,IAAjBD,EAA0B,EAAI,EAAIA,EAC1ChF,EAAWxD,EAAMwD,SACjB5C,EAAYZ,EAAMY,UAClBC,EAAOK,EAA8BlB,EAAOsI,GAE1CI,EAAQ,gBAAoBlF,GAC5BrC,GAAa,IAAAC,IAAG,sBAAuBR,GAC3C,OAAoB,gBAAoB,SAAY9B,EAAS,CAC3DmB,IAAKA,EACLxB,SAAU,WACVmC,UAAWO,EACXwH,QAAS,CACPxK,OAAQ,EACRyK,QAAS,KACTtH,QAAS,QACTuH,eAAe,QAAcJ,GAAO,SAAUd,GAC5C,OAAO,EAAIA,EAAI,IAAM,GACvB,KAEF7F,MAAO,CACL,mBAAoB,CAClBvD,SAAU,SACVE,SAAU,WACVqK,IAAK,IACLC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACN3H,QAAS,OACTwE,eAAgB,SAChBlC,WAAY,SACZxF,MAAO,OACPD,OAAQ,QAEV,qBAAsB,CACpB+K,UAAW,WAGdrI,GAAO6H,EACZ,IACI,OACFH,EAAY3J,YAAc,eAE5B,IAAIuK,EAAc,CAAC,aAQfC,GAAqB,SAAW,SAAUpJ,EAAOC,GACnD,IAAIC,GAAS,QAAe,QAASF,GACjCG,GAAoB,QAAiBH,GACzCG,EAAkBS,UAClB,IAAIC,EAAOK,EAA8Bf,EAAmBgJ,GAC5D,OAAoB,gBAAoB,UAAarK,EAAS,CAC5DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,eAAgBpB,EAAMY,YACnCC,EAAM,CACPiB,MAAOhD,EAAS,CACdwC,QAAS,eACT9C,WAAY,SACZwH,cAAe,UACd9F,KAEP,IACI,OACFkJ,EAAMxK,YAAc,SAEtB,IAAIyK,EAAc,CAAC,OAAQ,iBACzBC,EAAe,CAAC,QAQdC,GAAM,QAAO,OACb,OACFA,EAAI3K,YAAc,OAOpB,IAAI4K,GAAsB,SAAW,SAAUxJ,EAAOC,GACpD,IAAIqC,EAAOtC,EAAMsC,KACfmH,EAAuBzJ,EAAM0J,cAC7BA,OAAyC,IAAzBD,GAAyCA,EACzD5I,EAAOK,EAA8BlB,EAAOqJ,GAC1CnJ,EAASwJ,EAAgB,CAC3BpI,QAAS,OACTsC,WAAY,SACZkC,eAAgB,UACd,CAAC,EACL,OAAoB,gBAAoByD,EAAKzK,EAAS,CACpDmB,IAAKA,EACL0J,QAASrH,EACTR,MAAOhD,EAAS,CAAC,EAAGoB,EAAQ,CAC1BkE,WAAY,EACZwF,SAAU,KAEX/I,GACL,IACI,OACF2I,EAAO5K,YAAc,UAEvB,IAAIiL,GAAsB,SAAW,SAAU7J,EAAOC,GACpD,IAAIqC,EAAOtC,EAAMsC,KACfzB,EAAOK,EAA8BlB,EAAOsJ,GAC9C,OAAoB,gBAAoBE,EAAQ1K,EAAS,CACvDwD,KAAMA,EACNrC,IAAKA,EACLwB,aAAc,UACbZ,GACL,IACI,OACFgJ,EAAOjL,YAAc,UAEvB,IAQIkL,GAAS,QAAO,MAAO,CACzBnL,UAAW,CACT2C,QAAS,OACTsC,WAAY,SACZkC,eAAgB,YAGhB,OACFgE,EAAOlL,YAAc,UAEvB,IAoCImL,EAAc,CAAC,aAOfC,GAAoB,SAAW,SAAUhK,EAAOC,GAClD,IAAIC,GAAS,QAAe,OAAQF,GAChCG,GAAoB,QAAiBH,GACzCG,EAAkBS,UAClB,IAAIC,EAAOK,EAA8Bf,EAAmB4J,GAC5D,OAAoB,gBAAoB,UAAajL,EAAS,CAC5DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,cAAepB,EAAMY,YAClCC,EAAM,CACPiB,MAAOhD,EAAS,CACdwC,QAAS,gBACRpB,KAEP,IACI,OACF8J,EAAKpL,YAAc,QAErB,IAAIqL,EAAc,CAAC,YAAa,iBAU5BC,GAAyB,SAAW,SAAUlK,EAAOC,GACvD,IAAIE,GAAoB,QAAiBH,GACvCY,EAAYT,EAAkBS,UAC9B8I,EAAgBvJ,EAAkBuJ,cAClC7I,EAAOK,EAA8Bf,EAAmB8J,GACtD/J,GAAS,QAAe,YAAaF,GACzC,OAAoB,gBAAoB,SAAYlB,EAAS,CAC3DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,mBAAoBR,IACjCC,EAAM,CACPiB,MAAOhD,EAAS,CAAC,EAAGoB,EAAQwJ,GAAiB,CAC3CpI,QAAS,OACT6I,cAAe,SACfvG,WAAY,aAGlB,IACI,OACFsG,EAAUtL,YAAc,aAE1B,IAAIwL,EAAc,CAAC,kBAAmB,oBAAqB,iBAAkB,mBAAoB,cAAe,cAAe,eAC7HC,EAAe,CAAC,YAAa,cAAe,SAQ1CC,GAAuB,SAAW,SAAUtK,EAAOC,GACrD,IAAIsK,GAAkB,QAAe,UAAWvK,GAC9CwK,EAAkBD,EAAgBC,gBAClCC,EAAoBF,EAAgBE,kBACpCC,EAAiBH,EAAgBG,eACjCC,EAAmBJ,EAAgBI,iBACnCjJ,EAAc6I,EAAgB7I,YAC9BF,EAAc+I,EAAgB/I,YAC9BD,EAAcgJ,EAAgBhJ,YAC9BrB,EAASgB,EAA8BqJ,EAAiBH,GACtDjK,GAAoB,QAAiBH,GACvCY,EAAYT,EAAkBS,UAC9BgK,EAAwBzK,EAAkB0K,YAC1CA,OAAwC,IAA1BD,EAAmC,aAAeA,EAChE9I,EAAQ3B,EAAkB2B,MAC1BjB,EAAOK,EAA8Bf,EAAmBkK,GACtDS,EAAgB,CAClBC,SAAU,CACRP,gBAAiBA,GAAmBG,GAAoBjJ,GAAe,MACvEvD,OAAQ,QAEV6M,WAAY,CACVP,kBAAmBA,GAAqBC,GAAkBhJ,GAAe,MACzEtD,MAAO,SAGX,OAAoB,gBAAoB,QAAWU,EAAS,CAC1DmB,IAAKA,EACL,mBAAoB4K,GACnBhK,EAAM,CACPiB,MAAOhD,EAAS,CAAC,EAAGoB,EAAQ,CAC1BjC,OAAQ,IACRsD,YAAaA,EACbC,YAAaA,GACZsJ,EAAcD,GAAc/I,GAC/BlB,WAAW,IAAAQ,IAAG,iBAAkBR,KAEpC,IACI,OACF0J,EAAQ1L,YAAc,WAExB,IAAIqM,EAAc,CAAC,YAAa,QAAS,UAAW,OAAQ,QAAS,OAAQ,UAUzEC,GAAoB,SAAW,SAAUlL,EAAOC,GAClD,IAAIkL,EAAYnL,EAAMmL,UACpBC,EAAQpL,EAAMoL,MACdC,EAAUrL,EAAMqL,QAChBC,EAAOtL,EAAMsL,KACbC,EAAQvL,EAAMuL,MACdC,EAAOxL,EAAMwL,KACbC,EAASzL,EAAMyL,OACf5K,EAAOK,EAA8BlB,EAAOiL,GAC1C/K,EAAS,CACXoB,QAAS,OACT6I,cAAegB,EACfvH,WAAYwH,EACZtF,eAAgBuF,EAChBK,SAAUJ,EACVK,UAAWJ,EACX3B,SAAU4B,EACVpH,WAAYqH,GAEd,OAAoB,gBAAoB,SAAY3M,EAAS,CAC3DmB,IAAKA,EACL6B,MAAO5B,GACNW,GACL,IACI,OACFqK,EAAKtM,YAAc,QAErB,IAAIgN,EAAc,CAAC,OAAQ,gBAAiB,MAAO,SAAU,YAAa,SAAU,MAAO,WAAY,WAAY,eAAgB,cAAe,mBAW9IC,GAAoB,SAAW,SAAU7L,EAAOC,GAClD,IAAI6L,EAAO9L,EAAM8L,KACfC,EAAgB/L,EAAM+L,cACtBC,EAAMhM,EAAMgM,IACZC,EAASjM,EAAMiM,OACfC,EAAYlM,EAAMkM,UAClBC,EAASnM,EAAMmM,OACfC,EAAMpM,EAAMoM,IACZC,EAAWrM,EAAMqM,SACjBC,EAAWtM,EAAMsM,SACjBC,EAAevM,EAAMuM,aACrBC,EAAcxM,EAAMwM,YACpBC,EAAkBzM,EAAMyM,gBACxB5L,EAAOK,EAA8BlB,EAAO4L,GAC1C1L,EAAS,CACXoB,QAAS,OACToL,SAAUZ,EACVa,kBAAmBZ,EACnBa,QAASZ,EACTa,WAAYZ,EACZa,cAAeZ,EACfa,gBAAiBP,EACjBQ,WAAYb,EACZc,QAASb,EACTc,aAAcb,EACdc,aAAcb,EACdc,iBAAkBb,EAClBc,oBAAqBZ,GAEvB,OAAoB,gBAAoB,SAAY3N,EAAS,CAC3DmB,IAAKA,EACL6B,MAAO5B,GACNW,GACL,IACI,OACFgL,EAAKjN,YAAc,QAOrB,IAuBI0O,EAAc,CAAC,aACfC,GAAuB,SAAW,SAAUvN,EAAOC,GACrD,IAAIC,GAAS,QAAe,UAAWF,GACnCG,GAAoB,QAAiBH,GACzCG,EAAkBS,UAClB,IAAIC,EAAOK,EAA8Bf,EAAmBmN,GAC5D,OAAoB,gBAAoB,QAAWxO,EAAS,CAC1DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,iBAAkBpB,EAAMY,YACrCC,EAAM,CACPiB,MAAO5B,IAEX,IACI,OACFqN,EAAQ3O,YAAc,WAExB,IAAI4O,EAAc,CAAC,aAcfC,GAAmB,SAAW,SAAUzN,EAAOC,GACjD,IAAIC,GAAS,QAAe,MAAOF,GAC/BG,GAAoB,QAAiBH,GACvCY,EAAYT,EAAkBS,UAC9BC,EAAOK,EAA8Bf,EAAmBqN,GAC1D,OAAoB,gBAAoB,SAAY1O,EAAS,CAC3DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,aAAcR,IAC3BC,EAAM,CACPiB,MAAOhD,EAAS,CACd4O,WAAY,QACXxN,KAEP,IACI,OACFuN,EAAI7O,YAAc,OAEpB,IAAI+O,EAAc,CAAC,YAAa,cAgB5BC,GAAoB,SAAW,SAAU5N,EAAOC,GAClD,IAAIC,GAAS,QAAe,OAAQF,GAChCG,GAAoB,QAAiBH,GACvCY,EAAYT,EAAkBS,UAC9BiN,EAAa1N,EAAkB0N,WAC/BhN,EAAOK,EAA8Bf,EAAmBwN,GAC1D,OAAoB,gBAAoB,OAAU7O,EAAS,CACzDG,OAAQ4O,EAAa,cAAWxH,EAChCyH,IAAKD,EAAa,gBAAaxH,EAC/BpG,IAAKA,EACLW,WAAW,IAAAQ,IAAG,cAAeR,IAC5BC,EAAM,CACPiB,MAAO5B,IAEX,IACI,OACF0N,EAAKhP,YAAc,QAErB,IAAImP,EAAc,CAAC,WAAY,YAAa,gBAAiB,WAC3DC,EAAe,CAAC,MAChBC,EAAa,CAAC,MACZjM,GAAiB,QAAc,CAC/BE,KAAM,gBACNgM,aAAc,gGAEhBC,EAAiBnM,EAAe,GAChCoM,EAAYpM,EAAe,GAOzBqM,GAAoB,SAAW,SAAUrO,EAAOC,GAClD,IAAIqG,EACApG,GAAS,QAAoB,OAAQF,GACrCG,GAAoB,QAAiBH,GACvCwD,EAAWrD,EAAkBqD,SAC7B8K,EAAwBnO,EAAkBoO,UAC1CA,OAAsC,IAA1BD,EAAmC,OAASA,EACxDE,EAAgBrO,EAAkBqO,cAClC9L,EAAUvC,EAAkBuC,QAC5B7B,EAAOK,EAA8Bf,EAAmB4N,GACtDU,GAAgB,QAAiBjL,GAEjCkL,EAAehM,IAAW4D,EAAO,CAAC,GADvB,mCAC2C,CACxDqI,GAAIjM,GACH4D,GAAQ,CAAC,EACZ,OAAoB,gBAAoB6H,EAAgB,CACtDjL,MAAOhD,GACO,gBAAoB,QAAWpB,EAAS,CACtDmB,IAAKA,EACL2O,cAAeL,EACfM,kBAAmBL,EAMnBrL,KAAM,OACNrB,MAAOhD,EAAS,CAAC,EAAGoB,EAAO4O,UAAWJ,IACrC7N,GAAO4N,GACZ,IACI,OACFJ,EAAKzP,YAAc,QAErB,IAAImQ,GAA2B,SAAW,SAAU/O,EAAOC,GACzDD,EAAMwF,GACN,IAAI3E,EAAOK,EAA8BlB,EAAOgO,GAChD,OAAoB,gBAAoBK,EAAMvP,EAAS,CACrDmB,IAAKA,EACLuF,GAAI,KACJ+I,UAAW,UACXtL,YAAa,OACZpC,GACL,IACI,OACFkO,EAAYnQ,YAAc,eAE5B,IAAIoQ,GAA6B,SAAW,SAAUhP,EAAOC,GAC3DD,EAAMwF,GACN,IAAI3E,EAAOK,EAA8BlB,EAAOiO,GAChD,OAAoB,gBAAoBI,EAAMvP,EAAS,CACrDmB,IAAKA,EACLuF,GAAI,KACJ+I,UAAW,UACXtL,YAAa,OACZpC,GACL,IACI,OACFmO,EAAcpQ,YAAc,iBAQ9B,IAAIqQ,GAAwB,SAAW,SAAUjP,EAAOC,GACtD,IAAIC,EAASkO,IACb,OAAoB,gBAAoB,QAAWtP,EAAS,CAC1DmB,IAAKA,GACJD,EAAO,CACR8B,MAAO5B,EAAOgP,OAElB,IACI,OACFD,EAASrQ,YAAc,YAQzB,IAAIuQ,GAAwB,SAAW,SAAUnP,EAAOC,GACtD,IAAIC,EAASkO,IACb,OAAoB,gBAAoB,KAAMtP,EAAS,CACrDmB,IAAKA,EACLkD,KAAM,gBACLnD,EAAO,CACR8B,MAAO5B,EAAO4G,OAElB,IACI,OACFqI,EAASvQ,YAAc,YAEzB,IAAImD,EAAc,CAAC,UAAW,WAAY,WAAY,UAAW,iBAY7DqN,GAA0B,SAAW,SAAUpP,EAAOC,GACxD,IA0BsBoP,EALAjR,EArBlBkR,EAAUtP,EAAMsP,QAClBC,EAAWvP,EAAMuP,SACjBC,EAAWxP,EAAMwP,SACjB9M,EAAU1C,EAAM0C,QAChB+M,EAAgBzP,EAAMyP,cACtB5O,EAAOK,EAA8BlB,EAAO+B,GAC1C0K,EAAkBgD,GAeArR,EAf+BqR,GAgB9C,QAAcrR,GAAO,SAAU8E,GACpC,OAAO,QAAOA,GAAS,KAAO,4BALpBwM,EAKsDxM,IAJ3D,QAASwM,GAAKA,EAAI,KAAOA,GAI2C,WAL7E,IAAcA,CAMZ,MAEsBL,EApB+DC,GAqB9E,QAAcD,GAAO,SAAUnM,GACpC,OAAO,QAAOA,GAAS,KAAO,UAAYA,EAAQ,mBACpD,KAtBA,OAAoB,gBAAoB2I,EAAM/M,EAAS,CACrDmB,IAAKA,EACL+L,IAAKtJ,EACLwJ,UAAWqD,EACXtD,OAAQuD,EACR/C,gBAAiBA,GAChB5L,GACL,IACI,OACFuO,EAAWxQ,YAAc,cAsB3B,IAAI+Q,GAAS,QAAO,MAAO,CACzBhR,UAAW,CACTiR,KAAM,EACNC,YAAa,UACb1L,UAAW,aAGX,OACFwL,EAAO/Q,YAAc,UAOvB,IAAIkR,EAAW,kCAwEf,IAAI1M,EAAc,CAAC,WAAY,YAAa,QAAS,UAAW,UAAW,OAAQ,WAAY,UAAW,YAAa,sBAcnH2M,GAAY,SAAmB/P,GACjC,OAAoB,gBAAoB,SAAYlB,EAAS,CAC3D8B,UAAW,sBACVZ,EAAO,CACR8B,MAAOhD,EAAS,CACdwC,QAAS,eACTsO,KAAM,WACNI,SAAU,GACThQ,EAAa,SAEpB,EAaIiQ,IAAqB,SAAW,SAAUjQ,EAAOC,GACnD,IAAIqG,EACA4J,EAAWlQ,EAAMkQ,SACnBC,EAAgBnQ,EAAMmL,UACtBC,EAAQpL,EAAMoL,MACdC,EAAUrL,EAAMqL,QAChB5I,EAAiBzC,EAAM0C,QACvBA,OAA6B,IAAnBD,EAA4B,SAAWA,EACjD6I,EAAOtL,EAAMsL,KACb9H,EAAWxD,EAAMwD,SACjB4M,EAAUpQ,EAAMoQ,QAChBxP,EAAYZ,EAAMY,UAClByP,EAAqBrQ,EAAMqQ,mBAC3BxP,EAAOK,EAA8BlB,EAAOoD,GAC1C+H,EAAY+E,EAAW,MAAyB,MAAjBC,EAAwBA,EAAgB,SACvEjQ,EAAS,WAAc,WACzB,OA5HJ,SAAwBoQ,GACtB,IAAIhK,EACA5D,EAAU4N,EAAQ5N,QACpByI,EAAYmF,EAAQnF,UAClBoF,EAAkB,CACpBpE,OAAQ,CACNqE,UAAW9N,EACXkE,UAAW,EACX6J,aAAc,EACdxN,YAAa,GAEfmJ,IAAK,CACHoE,UAAW,EACX5J,UAAW,EACX6J,aAAc,EACdxN,YAAaP,GAEf,iBAAkB,CAChB8N,UAAW,EACX5J,UAAW,EACX6J,aAAc/N,EACdO,YAAa,GAEf,cAAe,CACbuN,UAAW,EACX5J,UAAWlE,EACX+N,aAAc,EACdxN,YAAa,IAGjB,OAAOqD,EAAO,CACZ6D,cAAegB,IACT2E,IAAY,QAAc3E,GAAW,SAAUjI,GACrD,OAAOqN,EAAgBrN,EACzB,IAAIoD,CACN,CAyFWoK,CAAe,CACpBvF,UAAWA,EACXzI,QAASA,GAEb,GAAG,CAACyI,EAAWzI,IACXiO,EAAe,WAAc,WAC/B,OA9FJ,SAA0BL,GACxB,IAAI5N,EAAU4N,EAAQ5N,QACpByI,EAAYmF,EAAQnF,UAClBL,EAAgB,CAClBqB,OAAQ,CACNyE,GAAIlO,EACJmO,GAAI,EACJrG,gBAAiB,EACjBC,kBAAmB,OAErB,iBAAkB,CAChBmG,GAAIlO,EACJmO,GAAI,EACJrG,gBAAiB,EACjBC,kBAAmB,OAErB2B,IAAK,CACHyE,GAAInO,EACJkO,GAAI,EACJpG,gBAAiB,MACjBC,kBAAmB,GAErB,cAAe,CACboG,GAAInO,EACJkO,GAAI,EACJpG,gBAAiB,MACjBC,kBAAmB,IAGvB,MAAO,CACL,KAAK,QAAcU,GAAW,SAAUjI,GACtC,OAAO4H,EAAc5H,EACvB,IAEJ,CA4DW4N,CAAiB,CACtBpO,QAASA,EACTyI,UAAWA,GAEf,GAAG,CAACzI,EAASyI,IACT4F,IAAeX,EACfY,GAAqBX,IAAuBU,EAC5CtC,GAAgB,QAAiBjL,GACjCyN,EAASD,EAAoBvC,EAAgBA,EAAcyC,KAAI,SAAUxI,EAAOyI,GAElF,IAAI7R,OAA2B,IAAdoJ,EAAMpJ,IAAsBoJ,EAAMpJ,IAAM6R,EACrDC,EAASD,EAAQ,IAAM1C,EAAcrP,OAIrCiS,EAAShB,EAHmB,gBAAoBN,GAAW,CAC7DzQ,IAAKA,GACJoJ,GAC8CA,EACjD,IAAKqI,EAAY,OAAOM,EACxB,IAGIC,EAAWF,EAAS,KAHS,eAAmBhB,EAAS,CAC3DtO,MAAO6O,IAGT,OAAoB,gBAAoB,WAAgB,CACtDrR,IAAKA,GACJ+R,EAAQC,EACb,IACInQ,GAAa,IAAAC,IAAG,eAAgBR,GACpC,OAAoB,gBAAoB,SAAY9B,EAAS,CAC3DmB,IAAKA,EACLqB,QAAS,OACTsC,WAAYwH,EACZtF,eAAgBuF,EAChBlB,cAAejK,EAAOiK,cACtBuB,SAAUJ,EACV1K,UAAWO,EACXW,MAAOiP,EAAa,CAAC,GAAKzK,EAAO,CAAC,EAAGA,EAAKwJ,GAAY5P,EAAO4P,GAAWxJ,IACvEzF,GAAOoQ,EACZ,IACI,OACFhB,GAAMrR,YAAc,SAMtB,IAAI2S,IAAsB,SAAW,SAAUvR,EAAOC,GACpD,OAAoB,gBAAoBgQ,GAAOnR,EAAS,CACtDsM,MAAO,UACNpL,EAAO,CACRmL,UAAW,MACXlL,IAAKA,IAET,IACI,OACFsR,GAAO3S,YAAc,UAMvB,IAAI4S,IAAsB,SAAW,SAAUxR,EAAOC,GACpD,OAAoB,gBAAoBgQ,GAAOnR,EAAS,CACtDsM,MAAO,UACNpL,EAAO,CACRmL,UAAW,SACXlL,IAAKA,IAET,IACI,OACFuR,GAAO5S,YAAc,UAEvB,IAAImF,GAAc,CAAC,YAAa,QAAS,aAAc,UAOnD0N,IAAoB,SAAW,SAAUzR,EAAOC,GAClD,IAAIC,GAAS,QAAe,OAAQF,GAChCG,GAAoB,QAAiBH,GACzCG,EAAkBS,UAClBT,EAAkBiL,MAClBjL,EAAkBuR,WAClBvR,EAAkBwR,OAClB,IAAI9Q,EAAOK,EAA8Bf,EAAmB4D,IACxD6N,GAAe,QAAgB,CACjCC,UAAW7R,EAAMoL,MACjB0G,eAAgB9R,EAAM0R,WACtBK,cAAe/R,EAAM2R,SAEvB,OAAoB,gBAAoB,OAAU7S,EAAS,CACzDmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,cAAepB,EAAMY,YAClCgR,EAAc/Q,EAAM,CACrBiB,MAAO5B,IAEX,IACI,OACFuR,GAAK7S,YAAc,QAErB,IAAIyF,GAAc,CAAC,UAAW,WAAY,WAAY,WAAY,UAAW,YAAa,QAAS,YAAa,sBAC9G2N,GAAe,CAAC,aAYdC,IAAoB,SAAW,SAAUjS,EAAOC,GAClD,IAAIwC,EAAiBzC,EAAM0C,QACzBA,OAA6B,IAAnBD,EAA4B,SAAWA,EACjD8M,EAAWvP,EAAMuP,SACjBC,EAAWxP,EAAMwP,SACjBhM,EAAWxD,EAAMwD,SACjB6H,EAAUrL,EAAMqL,QAChBF,EAAYnL,EAAMmL,UAClBC,EAAQpL,EAAMoL,MACdxK,EAAYZ,EAAMY,UAClByP,EAAqBrQ,EAAMqQ,mBAC3BxP,EAAOK,EAA8BlB,EAAOqE,IAC1CnE,EAAS,WAAc,WACzB,IAAIgS,EAAqB,CACrB3C,SAAUA,EACVC,SAAUA,GAEZ2C,EAAwBD,EAAmB3C,SAC3C6C,OAA8B,IAA1BD,EAAmCzP,EAAUyP,EACjDE,EAAyBH,EAAmB1C,SAC5C8C,OAA+B,IAA3BD,EAAoC3P,EAAU2P,EACpD,MAAO,CACL,0BAA2B,SAA4BE,GACrD,OAAO,QAAcH,GAAG,SAAUlP,GAChC,OAAO,QAAc,QAASA,EAAvB,CAA8BqP,EACvC,GACF,EACA,0BAA2B,SAA4BA,GACrD,OAAO,QAAcD,GAAG,SAAUpP,GAChC,OAAO,QAAc,QAASA,EAAvB,CAA8BqP,EACvC,GACF,EACA,mBAAoB,yCACpB,mBAAoB,yCACpBjR,QAAS,OACToK,SAAU,OACV5F,eAAgBuF,EAChBzH,WAAYwH,EACZjB,cAAegB,EACfyD,cAAe,OACftQ,QAAS,IACTD,OAAQ,oEACR,mBAAoB,CAClBA,OAAQ,+CAGd,GAAG,CAACqE,EAAS6M,EAAUC,EAAUnE,EAASD,EAAOD,IAC7CqH,EAAmBnC,EAAqB,eAAmB7M,GAAU,SAAUkF,EAAOyI,GACxF,OAAoB,gBAAoBsB,GAAU,CAChDnT,IAAK6R,GACJzI,EACL,IAAKlF,EACL,OAAoB,gBAAoB,SAAY1E,EAAS,CAC3DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,cAAeR,IAC5BC,GAAoB,gBAAoB,QAAW,CACpDD,UAAW,oBACXkB,MAAO5B,GACNsS,GACL,IACI,OACFP,GAAKrT,YAAc,QAErB,IAAI6T,IAAwB,SAAW,SAAUzS,EAAOC,GACtD,IAAIW,EAAYZ,EAAMY,UACpBC,EAAOK,EAA8BlB,EAAOgS,IAC9C,OAAoB,gBAAoB,QAAWlT,EAAS,CAC1DmB,IAAKA,EACL6B,MAAO,CACLR,QAAS,OACTsC,WAAY,cAEdhD,WAAW,IAAAQ,IAAG,wBAAyBR,IACtCC,GACL,IACI,OACF4R,GAAS7T,YAAc,W,6NC9+BzB,SAASsC,EAA8B7B,EAAQyB,GAC7C,GAAc,MAAVzB,EAAgB,MAAO,CAAC,EAC5B,IAEIC,EAAKJ,EAFLD,EAAS,CAAC,EACV8B,EAAahC,OAAOiC,KAAK3B,GAE7B,IAAKH,EAAI,EAAGA,EAAI6B,EAAW3B,OAAQF,IACjCI,EAAMyB,EAAW7B,GACb4B,EAASG,QAAQ3B,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAEvB,OAAOL,CACT,CACA,SAASH,IAYP,OAXAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GACvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CACA,OAAOL,CACT,EACOH,EAASY,MAAMC,KAAMR,UAC9B,CACA,IAAIuT,EAAoB,CACtBC,KAAM,CAAC,IAAM,GAAK,IAAM,GACxBC,OAAQ,CAAC,GAAK,EAAG,EAAG,GACpBC,QAAS,CAAC,EAAG,EAAG,GAAK,GACrBC,UAAW,CAAC,GAAK,EAAG,GAAK,IAEvBC,EAiDS,CACTtU,SAAU,CACRwK,KAAM,EACNH,IAAK,EACLE,OAAQ,EACR5K,MAAO,QAET4U,MAAO,CACLZ,EAAG,EACHE,EAAG,GAELW,KAAM,CACJb,EAAG,QACHE,EAAG,IA9DLS,EAiEU,CACVtU,SAAU,CACRsK,MAAO,EACPD,IAAK,EACLE,OAAQ,EACR5K,MAAO,QAET4U,MAAO,CACLZ,EAAG,EACHE,EAAG,GAELW,KAAM,CACJb,EAAG,OACHE,EAAG,IA9ELS,EAiFO,CACPtU,SAAU,CACRqK,IAAK,EACLG,KAAM,EACNF,MAAO,EACPmK,SAAU,SAEZF,MAAO,CACLZ,EAAG,EACHE,EAAG,GAELW,KAAM,CACJb,EAAG,EACHE,EAAG,UA9FLS,EAiGS,CACTtU,SAAU,CACRuK,OAAQ,EACRC,KAAM,EACNF,MAAO,EACPmK,SAAU,SAEZF,MAAO,CACLZ,EAAG,EACHE,EAAG,GAELW,KAAM,CACJb,EAAG,EACHE,EAAG,SAIT,SAASa,EAAgB7C,GACvB,IAAI8C,EAEJ,OADkF,OAAtEA,EAAgC,MAAX9C,OAAkB,EAASA,EAAQnF,WAAqBiI,EAAqB,SAE5G,IAAK,QAQL,QACE,OAAOL,EAPT,IAAK,OACH,OAAOA,EACT,IAAK,SACH,OAAOA,EACT,IAAK,MACH,OAAOA,EAIb,CACA,IAAIM,EAAqB,CACvBL,MAAO,CACLM,SAAU,GACVX,KAAMD,EAAkBG,SAE1BI,KAAM,CACJK,SAAU,GACVX,KAAMD,EAAkBE,SAGxBW,EACK,SAAeC,EAAYC,GAChC,OAAO3U,EAAS,CAAC,EAAG0U,EAAY,CAC9BC,OAAO,QAASA,GAASA,EAAiB,MAATA,OAAgB,EAASA,EAAa,OAE3E,EALEF,EAMI,SAAcC,EAAYC,GAC9B,OAAO3U,EAAS,CAAC,EAAG0U,EAAY,CAC9BC,OAAO,QAASA,GAASA,EAAiB,MAATA,OAAgB,EAASA,EAAY,MAE1E,EAEE1R,EAAc,CAAC,KAAM,gBAAiB,iBAAkB,iBAAkB,eAAgB,QAAS,YAAa,aAAc,iBAI9H2R,EAAqB,CACvBT,KAAM,CACJ9U,OAAQ,CACNmV,SAAU,GACVX,KAAMD,EAAkBC,MAE1BjM,QAAS,CACP4M,SAAU,GACVX,KAAMD,EAAkBC,OAG5BK,MAAO,CACL7U,OAAQ,CACNmV,SAAU,GACVX,KAAMD,EAAkBC,MAE1BjM,QAAS,CACP4M,SAAU,GACVX,KAAMD,EAAkBC,QAI1BgB,EAAa,CACfV,KAAM,SAAc3M,GAClB,IAAIsN,EA3B2B1Q,EA4B3B2Q,EAAiBvN,EAAKuN,eACxBC,EAAiBxN,EAAKwN,eACtBN,EAAalN,EAAKkN,WAClBO,EAAgBzN,EAAKyN,cACrBN,EAAQnN,EAAKmN,MACf,OAAO3U,EAAS,CAAC,EAAG+U,GAAkB,CACpCnN,SAlC6BxD,EAkCV4Q,EAjCP,MAAT5Q,GAAiB8Q,SAAS9Q,EAAM+Q,WAAY,IAAM,EAiChB,EAAI,IACxC,CACD9V,OAAQ2V,EACRC,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,KAC9DO,WAAkF,OAArEI,EAAiC,MAAdJ,OAAqB,EAASA,EAAWP,MAAgBW,EAAmBL,EAAeG,EAAmBT,KAAMQ,IAExJ,EACAT,MAAO,SAAekB,GACpB,IAAIC,EACAN,EAAiBK,EAAML,eACzBO,EAAeF,EAAME,aACrBZ,EAAaU,EAAMV,WACnBO,EAAgBG,EAAMH,cACtBN,EAAQS,EAAMT,MAChB,OAAO3U,EAAS,CAAC,EAAG+U,GAAkB,CACpCnN,QAAS,GACR,CACDvI,OAAQiW,EACRL,cAAgC,MAAjBA,OAAwB,EAASA,EAAcf,MAC9DQ,WAAoF,OAAvEW,EAAkC,MAAdX,OAAqB,EAASA,EAAWR,OAAiBmB,EAAoBZ,EAAgBG,EAAmBV,MAAOS,IAE7J,GAEEY,EAAwB,cAAiB,SAAUrU,EAAOC,GAC5D,IAAIqU,EAAStU,EAAU,GACrBuU,EAAgBvU,EAAMuU,cACtBC,EAAwBxU,EAAM6T,eAC9BA,OAA2C,IAA1BW,GAA0CA,EAC3DC,EAAwBzU,EAAM8T,eAC9BA,OAA2C,IAA1BW,EAAmC,EAAIA,EACxDC,EAAsB1U,EAAMoU,aAC5BA,OAAuC,IAAxBM,EAAiC,OAASA,EACzDC,EAAQ3U,EAAM2U,MACd/T,EAAYZ,EAAMY,UAClB4S,EAAaxT,EAAMwT,WACnBO,EAAgB/T,EAAM+T,cACtBlT,EAAOK,EAA8BlB,EAAO+B,GAC1CwC,EAAkB,YAAe,GACnCqQ,EAAUrQ,EAAgB,GAC1BsQ,EAAatQ,EAAgB,GAC/B,aAAgB,WACd,IAAIuQ,EAAUC,YAAW,WACvBF,GAAW,EACb,IACA,OAAO,WACL,OAAOG,aAAaF,EACtB,CACF,GAAG,KAQH,QAAK,CACHG,UAAWC,QAAQpB,EAAiB,GAAKS,GACzCY,QAAS,yFAEX,IAAIC,EAAoBC,WAAWvB,EAAeG,YAAc,EAC5DqB,EAAS,CACXxB,eAAgBA,EAChBM,aAAcA,EACdP,eAAgBA,EAChBL,WAAaoB,EAITpB,EAJmB,CACrBR,MAAO,CACLM,SAAU,IAGdS,cAAe,IAAUA,EAAe,CACtCd,KAAMsB,OAAgBlO,EAAY,CAChC/E,QAAS8T,EAAoB,QAAU,WAIzCG,GAAOhB,GAAgBD,EACvBkB,EAAUlB,GAAUC,EAAgB,QAAU,OAClD,OAAoB,gBAAoB,IAAiB,CACvDkB,SAAS,EACTH,OAAQA,GACPC,GAAqB,gBAAoB,QAAYzW,EAAS,CAC/DmB,IAAKA,GACJY,EAAM,CACPD,WAAW,IAAAQ,IAAG,kBAAmBR,GACjC+T,MAAO7V,EAAS,CACdP,SAAU,SACV+C,QAAS,SACRqT,GACHW,OAAQA,EACRI,SAAU/B,EACV8B,UAASlB,GAAgB,OACzBiB,QAASA,EACTvC,KAAM,UAEV,IACI,OACFoB,EAASzV,YAAc,YAEzB,IAAIwE,EAAc,CAAC,gBAAiB,KAAM,YAAa,aAAc,gBAAiB,SA2BlFuS,EAAa,CACfF,QAAS,OACTD,QAAS,QACTvC,KAAM,OACNyC,SA9Be,CACf1C,MAAO,SAAe4C,GACpB,IAAIzB,EACA7N,OAAiB,IAAVsP,EAAmB,CAAC,EAAIA,EACjCpC,EAAalN,EAAKkN,WAClBO,EAAgBzN,EAAKyN,cACrBN,EAAQnN,EAAKmN,MACf,MAAO,CACL/M,QAAS,EACT8M,WAAoF,OAAvEW,EAAkC,MAAdX,OAAqB,EAASA,EAAWR,OAAiBmB,EAAoBZ,EAAgBF,EAAmBL,MAAOS,GACzJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcf,MAElE,EACAC,KAAM,SAAc4C,GAClB,IAAIjC,EACAM,OAAmB,IAAX2B,EAAoB,CAAC,EAAIA,EACnCrC,EAAaU,EAAMV,WACnBO,EAAgBG,EAAMH,cACtBN,EAAQS,EAAMT,MAChB,MAAO,CACL/M,QAAS,EACT8M,WAAkF,OAArEI,EAAiC,MAAdJ,OAAqB,EAASA,EAAWP,MAAgBW,EAAmBL,EAAeF,EAAmBJ,KAAMQ,GACpJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,KAElE,IAQE6C,EAAoB,cAAiB,SAAU9V,EAAOC,GACxD,IAAIsU,EAAgBvU,EAAMuU,cACxBD,EAAStU,EAAU,GACnBY,EAAYZ,EAAMY,UAClB4S,EAAaxT,EAAMwT,WACnBO,EAAgB/T,EAAM+T,cACtBN,EAAQzT,EAAMyT,MACd5S,EAAOK,EAA8BlB,EAAOoD,GAC1CoS,EAAUlB,GAAUC,EAAgB,QAAU,OAC9CgB,GAAOhB,GAAgBD,GAAUC,EACjCe,EAAS,CACX9B,WAAYA,EACZO,cAAeA,EACfN,MAAOA,GAET,OAAoB,gBAAoB,IAAiB,CACvD6B,OAAQA,GACPC,GAAqB,gBAAoB,QAAYzW,EAAS,CAC/DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,cAAeR,GAC7B0U,OAAQA,GACPK,EAAY,CACbH,QAASA,GACR3U,IACL,IACI,OACFiV,EAAKlX,YAAc,QAErB,IAAImF,EAAc,CAAC,gBAAiB,KAAM,UAAW,eAAgB,YAAa,aAAc,gBAAiB,SAmC7GgS,EAAkB,CACpBN,QAAS,OACTD,QAAS,QACTvC,KAAM,OACNyC,SAtCe,CACfzC,KAAM,SAAc3M,GAClB,IAAIsN,EACAoC,EAAU1P,EAAK0P,QACjBC,EAAe3P,EAAK2P,aACpBzC,EAAalN,EAAKkN,WAClBO,EAAgBzN,EAAKyN,cACrBN,EAAQnN,EAAKmN,MACf,OAAO3U,EAAS,CACd4H,QAAS,GACRsP,EAAU,CACXE,MAAOD,EACPlC,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,MAC5D,CACFc,cAAejV,EAAS,CACtBoX,MAAOD,GACW,MAAjBlC,OAAwB,EAASA,EAAcd,OACjD,CACDO,WAAkF,OAArEI,EAAiC,MAAdJ,OAAqB,EAASA,EAAWP,MAAgBW,EAAmBL,EAAeF,EAAmBJ,KAAMQ,IAExJ,EACAT,MAAO,SAAekB,GACpB,IAAIC,EACAJ,EAAgBG,EAAMH,cACxBP,EAAaU,EAAMV,WACnBC,EAAQS,EAAMT,MAChB,MAAO,CACL/M,QAAS,EACTwP,MAAO,EACP1C,WAAoF,OAAvEW,EAAkC,MAAdX,OAAqB,EAASA,EAAWR,OAAiBmB,EAAoBZ,EAAgBF,EAAmBL,MAAOS,GACzJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcf,MAElE,IAQEmD,EAAyB,cAAiB,SAAUnW,EAAOC,GAC7D,IAAIsU,EAAgBvU,EAAMuU,cACxBD,EAAStU,EAAU,GACnBoW,EAAiBpW,EAAMgW,QACvBA,OAA6B,IAAnBI,GAAmCA,EAC7CC,EAAsBrW,EAAMiW,aAC5BA,OAAuC,IAAxBI,EAAiC,IAAOA,EACvDzV,EAAYZ,EAAMY,UAClB4S,EAAaxT,EAAMwT,WACnBO,EAAgB/T,EAAM+T,cACtBN,EAAQzT,EAAMyT,MACd5S,EAAOK,EAA8BlB,EAAO+D,GAC1CwR,GAAOhB,GAAgBD,GAAUC,EACjCiB,EAAUlB,GAAUC,EAAgB,QAAU,OAC9Ce,EAAS,CACXW,aAAcA,EACdD,QAASA,EACTxC,WAAYA,EACZO,cAAeA,EACfN,MAAOA,GAET,OAAoB,gBAAoB,IAAiB,CACvD6B,OAAQA,GACPC,GAAqB,gBAAoB,QAAYzW,EAAS,CAC/DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,sBAAuBR,IACpCmV,EAAiB,CAClBP,QAASA,EACTF,OAAQA,GACPzU,IACL,IACI,OACFsV,EAAUvX,YAAc,aAE1B,IAAIyF,EAAc,CAAC,YAAa,QAAS,gBAAiB,KAAM,YAAa,aAAc,gBAAiB,SACxGiS,EAAoB,CACtBrD,KAAM,CACJK,SAAU,IACVX,KAAMD,EAAkBI,WAE1BE,MAAO,CACL5N,KAAM,SACNmR,QAAS,GACTC,UAAW,MAGXC,EAAa,CACfxD,KAAM,SAAc3M,GAClB,IAAIsN,EACAzI,EAAY7E,EAAK6E,UACnBqI,EAAalN,EAAKkN,WAClBO,EAAgBzN,EAAKyN,cACrBN,EAAQnN,EAAKmN,MAKf,OAAO3U,EAAS,CAAC,EAJMqU,EAAgB,CACnChI,UAAWA,IAEiB8H,KACA,CAC9BO,WAAkF,OAArEI,EAAiC,MAAdJ,OAAqB,EAASA,EAAWP,MAAgBW,EAAmBL,EAAe+C,EAAkBrD,KAAMQ,GACnJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,MAElE,EACAD,MAAO,SAAekB,GACpB,IAAIC,EACAhJ,EAAY+I,EAAM/I,UACpB4I,EAAgBG,EAAMH,cACtBP,EAAaU,EAAMV,WACnBC,EAAQS,EAAMT,MAKhB,OAAO3U,EAAS,CAAC,EAJOqU,EAAgB,CACpChI,UAAWA,IAEmB6H,MACD,CAC/BQ,WAAoF,OAAvEW,EAAkC,MAAdX,OAAqB,EAASA,EAAWR,OAAiBmB,EAAoBZ,EAAgB+C,EAAkBtD,MAAOS,GACxJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcf,OAElE,GAEE0D,EAAqB,cAAiB,SAAU1W,EAAOC,GACzD,IAAI0W,EAAmB3W,EAAMmL,UAC3BA,OAAiC,IAArBwL,EAA8B,QAAUA,EACpDhC,EAAQ3U,EAAM2U,MACdJ,EAAgBvU,EAAMuU,cACtBD,EAAStU,EAAU,GACnBY,EAAYZ,EAAMY,UAClB4S,EAAaxT,EAAMwT,WACnBO,EAAgB/T,EAAM+T,cACtBN,EAAQzT,EAAMyT,MACd5S,EAAOK,EAA8BlB,EAAOqE,GAC1CuS,EAAmBzD,EAAgB,CACrChI,UAAWA,IAET0L,EAAgB9X,OAAOC,OAAO,CAChCP,SAAU,SACTmY,EAAiBnY,SAAUkW,GAC1BY,GAAOhB,GAAgBD,GAAUC,EACjCiB,EAAUlB,GAAUC,EAAgB,QAAU,OAC9Ce,EAAS,CACXvB,cAAeA,EACfP,WAAYA,EACZrI,UAAWA,EACXsI,MAAOA,GAET,OAAoB,gBAAoB,IAAiB,CACvD6B,OAAQA,GACPC,GAAqB,gBAAoB,QAAYzW,EAAS,CAAC,EAAG+B,EAAM,CACzEZ,IAAKA,EACLwV,QAAS,OACT7U,WAAW,IAAAQ,IAAG,eAAgBR,GAC9B4U,QAASA,EACTvC,KAAM,OACNqC,OAAQA,EACRI,SAAUe,EACV9B,MAAOkC,KAEX,IACI,OACFH,EAAM9X,YAAc,SAEtB,IAAIgB,EAAY,CAAC,gBAAiB,KAAM,UAAW,YAAa,UAAW,UAAW,aAAc,gBAAiB,SAoDjHkX,EAAkB,CACpBrB,QAAS,UACTD,QAAS,QACTvC,KAAM,OACNyC,SAvDa,CACbD,QAAS,SAAiBnP,GACxB,IAAIsN,EACAmD,EAAUzQ,EAAKyQ,QACjBC,EAAU1Q,EAAK0Q,QACfxD,EAAalN,EAAKkN,WAClBO,EAAgBzN,EAAKyN,cACrBN,EAAQnN,EAAKmN,MACf,MAAO,CACL/M,QAAS,EACT0L,EAAG2E,EACHzE,EAAG0E,EACHxD,WAAkF,OAArEI,EAAiC,MAAdJ,OAAqB,EAASA,EAAWP,MAAgBW,EAAmBL,EAAeF,EAAmBJ,KAAMQ,GACpJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,KAElE,EACAD,MAAO,SAAekB,GACpB,IAAIC,EACAX,EAAaU,EAAMV,WACrBO,EAAgBG,EAAMH,cACtBN,EAAQS,EAAMT,MAChB,MAAO,CACL/M,QAAS,EACT0L,EAAG,EACHE,EAAG,EACHkB,WAAoF,OAAvEW,EAAkC,MAAdX,OAAqB,EAASA,EAAWR,OAAiBmB,EAAoBZ,EAAgBF,EAAmBL,MAAOS,GACzJM,cAAgC,MAAjBA,OAAwB,EAASA,EAAcf,MAElE,EACAC,KAAM,SAAcgE,GAClB,IAAIC,EACAF,EAAUC,EAAMD,QAClBD,EAAUE,EAAMF,QAChBvD,EAAayD,EAAMzD,WACnBO,EAAgBkD,EAAMlD,cACtBiC,EAAUiB,EAAMjB,QAChBvC,EAAQwD,EAAMxD,MACZ0D,EAAS,CACX/E,EAAG2E,EACHzE,EAAG0E,GAEL,OAAOlY,EAAS,CACd4H,QAAS,EACT8M,WAAmF,OAAtE0D,EAAkC,MAAd1D,OAAqB,EAASA,EAAWP,MAAgBiE,EAAoB3D,EAAeF,EAAmBJ,KAAMQ,IACrJuC,EAAUlX,EAAS,CAAC,EAAGqY,EAAQ,CAChCpD,cAAgC,MAAjBA,OAAwB,EAASA,EAAcd,OAC3D,CACHc,cAAejV,EAAS,CAAC,EAAGqY,EAAyB,MAAjBpD,OAAwB,EAASA,EAAcd,OAEvF,IAQEmE,EAAyB,cAAiB,SAAUpX,EAAOC,GAC7D,IAAIsU,EAAgBvU,EAAMuU,cACxBD,EAAStU,EAAU,GACnBoW,EAAiBpW,EAAMgW,QACvBA,OAA6B,IAAnBI,GAAmCA,EAC7CxV,EAAYZ,EAAMY,UAClByW,EAAiBrX,EAAM+W,QACvBA,OAA6B,IAAnBM,EAA4B,EAAIA,EAC1CC,EAAiBtX,EAAMgX,QACvBA,OAA6B,IAAnBM,EAA4B,EAAIA,EAC1C9D,EAAaxT,EAAMwT,WACnBO,EAAgB/T,EAAM+T,cACtBN,EAAQzT,EAAMyT,MACd5S,EAAOK,EAA8BlB,EAAOJ,GAC1C2V,GAAOhB,GAAgBD,GAAUC,EACjCiB,EAAUlB,GAAUC,EAAgB,QAAU,OAC9Ce,EAAS,CACXyB,QAASA,EACTC,QAASA,EACThB,QAASA,EACTxC,WAAYA,EACZO,cAAeA,EACfN,MAAOA,GAET,OAAoB,gBAAoB,IAAiB,CACvD6B,OAAQA,GACPC,GAAqB,gBAAoB,QAAYzW,EAAS,CAC/DmB,IAAKA,EACLW,WAAW,IAAAQ,IAAG,sBAAuBR,GACrC0U,OAAQA,GACPwB,EAAiB,CAClBtB,QAASA,GACR3U,IACL,IACI,OACFuW,EAAUxY,YAAc,Y,uHCtnBtB2Y,EAAa,EACjB,SAASC,IACP,IAAIC,EAAKF,EAET,OADAA,IACOE,CACT,CACA,IAAIC,EAAgB,SAAuBC,GACzC,IAAInU,EAAWmU,EAAGnU,SAChBiS,EAAUkC,EAAGlC,QACbmC,EAAYD,EAAGC,UACfC,EAAkBF,EAAGG,eACrBxC,EAASqC,EAAGrC,OACZyC,EAAwBJ,EAAGI,sBACzBC,GAAmB,OAAYC,GAC/BR,GAAK,OAAYD,GACjB3U,GAAU,IAAAqV,UAAQ,WACpB,MAAO,CACLT,GAAIA,EACJhC,QAASA,EACTmC,UAAWA,EACXtC,OAAQA,EACRwC,eAAgB,SAAwBK,GACtCH,EAAiBI,IAAID,GAAS,GAC9B,IAAIE,GAAc,EAClBL,EAAiBM,SAAQ,SAAUC,GAC5BA,IAAYF,GAAc,EACjC,IACAA,IAAgBR,SAAkEA,IACpF,EACAW,SAAU,SAAkBL,GAE1B,OADAH,EAAiBI,IAAID,GAAS,GACvB,WACL,OAAOH,EAAiBS,OAAON,EACjC,CACF,EAEJ,GAMAJ,OAAwB1R,EAAY,CAACuR,IAarC,OAZA,IAAAM,UAAQ,WACNF,EAAiBM,SAAQ,SAAUI,EAAGpZ,GACpC,OAAO0Y,EAAiBI,IAAI9Y,GAAK,EACnC,GACF,GAAG,CAACsY,IAKJ,aAAgB,YACbA,IAAcI,EAAiB1V,OAASuV,SAAkEA,IAC7G,GAAG,CAACD,IACG,gBAAoBe,EAAA,WAA0B,CACnDzV,MAAOL,GACNW,EACL,EACA,SAASyU,IACP,OAAO,IAAIW,GACb,C,eC3DA,SAASC,EAAYnQ,GACnB,OAAOA,EAAMpJ,KAAO,EACtB,CAoFA,IAAIwZ,EAAkB,SAAyBnB,GAC7C,IAAInU,EAAWmU,EAAGnU,SAChB8R,EAASqC,EAAGrC,OACZyD,EAAKpB,EAAGlC,QACRA,OAAiB,IAAPsD,GAAuBA,EACjCjB,EAAiBH,EAAGG,eACpBkB,EAAkBrB,EAAGqB,gBACrBC,EAAKtB,EAAGI,sBACRA,OAA+B,IAAPkB,GAAuBA,EAG7CC,ECpGN,WACE,IAAIC,GAAe,IAAAC,SAAO,GACtBzB,GAAK,SAAO,IAAA0B,UAAS,GAAI,GAC3BC,EAAoB3B,EAAG,GACvB4B,EAAuB5B,EAAG,GAI5B,OAHA,QAAiB,WACf,OAAOwB,EAAaK,SAAU,CAChC,KACO,IAAAC,cAAY,YAChBN,EAAaK,SAAWD,EAAqBD,EAAoB,EACpE,GAAG,CAACA,GACN,CDyFoBI,GACdC,GAAgB,IAAAC,YAAWC,EAAA,KAC3B,QAAeF,KACjBT,EAAcS,EAAcG,aAE9B,IAAIC,GAAkB,IAAAX,SAAO,GAEzBY,EAxFN,SAAsBxW,GACpB,IAAIyW,EAAW,GAKf,OAHA,EAAAC,SAAA,QAAiB1W,GAAU,SAAUkF,IAC/B,IAAAyR,gBAAezR,IAAQuR,EAASG,KAAK1R,EAC3C,IACOuR,CACT,CAiFyBI,CAAa7W,GAGhC8W,GAAkB,IAAAlB,QAAOY,GAEzBO,GAAc,IAAAnB,QAAO,IAAIR,KAAOY,QAEhCgB,GAAU,IAAApB,QAAO,IAAIqB,KAAOjB,QAIhC,GAhHF,SAA2BhW,EAAU+W,GAEnC/W,EAAS8U,SAAQ,SAAU5P,GACzB,IAAIpJ,EAAMuZ,EAAYnQ,GAOtB6R,EAAYnC,IAAI9Y,EAAKoJ,EACvB,GACF,CAiGEgS,CAAkBV,EAAkBO,GAGhCR,EAAgBP,QAElB,OADAO,EAAgBP,SAAU,EACnB,gBAAoB,WAAgB,KAAMQ,EAAiB9I,KAAI,SAAUxI,GAC9E,OAAO,gBAAoBgP,EAAe,CACxCpY,IAAKuZ,EAAYnQ,GACjBkP,WAAW,EACXnC,UAASA,QAAUpP,EACnB0R,sBAAuBA,GACtBrP,EACL,KAUF,IAPA,IAAI8J,GAAmB,QAAc,IAAI,QAAOwH,IAG5CW,EAAcL,EAAgBd,QAAQtI,IAAI2H,GAC1C+B,EAAaZ,EAAiB9I,IAAI2H,GAElCgC,EAAaF,EAAYvb,OACpBF,EAAI,EAAGA,EAAI2b,EAAY3b,IAAK,CACnC,IAAII,EAAMqb,EAAYzb,IACW,IAA7B0b,EAAW3Z,QAAQ3B,GACrBkb,EAAQM,IAAIxb,GAGZkb,EAAQ/B,OAAOnZ,EAEnB,CAmDA,OAhDI0Z,GAAmBwB,EAAQlY,OAC7BkQ,EAAmB,IAIrBgI,EAAQlC,SAAQ,SAAUhZ,GAExB,IAAiC,IAA7Bsb,EAAW3Z,QAAQ3B,GAAvB,CACA,IAAIoJ,EAAQ6R,EAAYQ,IAAIzb,GAC5B,GAAKoJ,EAAL,CACA,IAAIsS,EAAiBL,EAAY1Z,QAAQ3B,GAgBzCkT,EAAiByI,OAAOD,EAAgB,EAAG,gBAAoBtD,EAAe,CAC5EpY,IAAKuZ,EAAYnQ,GACjBkP,WAAW,EACXE,eAlBW,WACXyC,EAAY9B,OAAOnZ,GACnBkb,EAAQ/B,OAAOnZ,GAEf,IAAI4b,EAAcZ,EAAgBd,QAAQ2B,WAAU,SAAUC,GAC5D,OAAOA,EAAa9b,MAAQA,CAC9B,IACAgb,EAAgBd,QAAQyB,OAAOC,EAAa,GAEvCV,EAAQlY,OACXgY,EAAgBd,QAAUQ,EAC1Bd,IACApB,GAAkBA,IAEtB,EAKExC,OAAQA,EACRyC,sBAAuBA,GACtBrP,GAvBe,CAFwB,CA0B5C,IAGA8J,EAAmBA,EAAiBtB,KAAI,SAAUxI,GAChD,IAAIpJ,EAAMoJ,EAAMpJ,IAChB,OAAOkb,EAAQa,IAAI/b,GAAOoJ,EAAQ,gBAAoBgP,EAAe,CACnEpY,IAAKuZ,EAAYnQ,GACjBkP,WAAW,EACXG,sBAAuBA,GACtBrP,EACL,IACA4R,EAAgBd,QAAUhH,EAInB,gBAAoB,WAAgB,KAAMgI,EAAQlY,KAAOkQ,EAAmBA,EAAiBtB,KAAI,SAAUxI,GAChH,OAAO,IAAA4S,cAAa5S,EACtB,IACF,C,sHE/KA,SAAS6S,IACP,IAAI1Y,GAAU,IAAA+W,YAAW,KACzB,GAAgB,OAAZ/W,EAAkB,MAAO,EAAC,EAAM,MACpC,IAAI+U,EAAY/U,EAAQ+U,UACtBE,EAAiBjV,EAAQiV,eACzBU,EAAW3V,EAAQ2V,SAIjBf,EAAK+D,KACT,IAAAC,YAAU,WACR,OAAOjD,EAASf,EAClB,GAAG,IAIH,OAAQG,GAAaE,EAAiB,EAAC,EAHpB,WACjB,OAAOA,aAAuD,EAASA,EAAeL,EACxF,GAC8D,EAAC,EACjE,CAwBA,SAASG,EAAU/U,GACjB,OAAmB,OAAZA,GAA0BA,EAAQ+U,SAC3C,CACA,IAAI8D,EAAU,EACVC,EAAc,WAChB,OAAOD,GACT,EACIF,EAAc,WAChB,OAAO,OAAYG,EACrB,C,wBC1EA,IAAIC,EASAC,E,uDARJ,SAAWD,GACTA,EAASA,EAAmB,SAAI,GAAK,WACrCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAkB,QAAI,GAAK,SACrC,CAJD,CAIGA,IAAaA,EAAW,CAAC,IAK5B,SAAWC,GACTA,EAAiBA,EAAuB,KAAI,GAAK,OACjDA,EAAiBA,EAAuB,KAAI,GAAK,MAClD,CAHD,CAGGA,IAAqBA,EAAmB,CAAC,G,4DCXxClD,GAAkB,E,SAAAmD,eAAc,K,0LCKhCC,EAAiB,CACnBC,YAAa,SAAqBtT,GAChC,OAAOA,EAAMuT,mBACf,GAKF,SAASC,IACP,IAAIC,EAAQ,IAAI1B,IAChB,MAAO,CACLK,IAAK,SAAapS,GAChB,OAAOyT,EAAMrB,IAAIpS,EACnB,EACA0T,MAAO,SAAezE,GACpB,IAAIoB,OAAY,IAAPpB,EAAgBoE,EAAiBpE,EACxCqE,EAAcjD,EAAGiD,YACjBK,EAAStD,EAAGsD,QACd,QAAY,SAAUC,EAAMC,GAC1B,IAAIC,EAAQC,MAAMC,KAAKP,GAAOQ,KAAK,KAC/BC,EAAYP,GAAS,QAA2BA,GAAU,GAC9DE,GAAM,YACc,SAAc,QAAc,IAAI,QAAOK,KAAa,QAAOJ,IACjElE,SAAQ,SAAUrR,GAC5B,OAAOA,EAAQ4V,gBACjB,GACF,IACAP,GAAK,WACHE,EAAMlE,QAAQ,KAChB,IACAiE,GAAM,WACJK,EAAUtE,SAAQ,SAAUrR,GAC1B,OAAOA,EAAQ6V,kBACjB,IACAN,EAAMlE,QAAQ0D,EAChB,IACAM,GAAK,WAOHE,EAAMlE,SAAQ,SAAU5P,GAClBA,EAAMkP,YAAWlP,EAAMqU,SAAW,YACxC,GACF,IACAR,GAAM,WAOJ,iBACA,aACF,IACAD,GAAK,WASH,iBAAgB,WACd,OAAOE,EAAMlE,QAAQ0E,EACvB,IACAb,EAAMc,OACR,GACF,KAEA,QACF,EAEJ,CACA,SAASD,EAA2BtU,GAClCA,EAAMwU,gBAAkBxU,EAAMyU,WAAWle,MAC3C,CCvFA,IAAI4a,GAAsB,IAAAiC,eAAcI,KAIpCkB,GAA0B,IAAAtB,eAAcI,KAC5C,SAASmB,EAAexa,GACtB,QAASA,EAAQiX,WACnB,C,mFCTIwD,EAAmB,SAA0BC,GAC/C,MAAO,CACLC,UAAW,SAAmBxd,GAC5B,OAAOud,EAAUE,MAAK,SAAUvb,GAC9B,QAASlC,EAAMkC,EACjB,GACF,EAEJ,EACIwb,EAAqB,CACvBC,cAAeL,EAAiB,CAAC,SAAU,WAAY,OAAQ,0BAC/Dzb,UAAWyb,EAAiB,CAAC,UAAW,OAAQ,WAAY,aAAc,WAAY,aAAc,cACpGrK,KAAMqK,EAAiB,CAAC,SACxBM,KAAMN,EAAiB,CAAC,OAAQ,iBAChCO,MAAOP,EAAiB,CAAC,eACzBQ,MAAOR,EAAiB,CAAC,aAAc,eAAgB,eACvDS,IAAKT,EAAiB,CAAC,WAAY,QAAS,aAAc,gBAC1DU,IAAKV,EAAiB,CAAC,QAAS,aAAc,oBAAqB,aACnEW,gBAAiBX,EAAiB,CAAC,SAAU,cCjB/C,IAAIY,GAAc,IAAApC,eAAc,CAC9B7Z,QAAQ,ICINkc,EAAepf,OAAOiC,KAAK0c,GAC3BU,EAAcD,EAAa/e,OCF/B,IAAIif,GAAsB,IAAAvC,eAAc,CACtCwC,mBAAoB,SAA4BC,GAC9C,OAAOA,CACT,EACAC,UAAU,ICRRC,GAAgB,IAAA3C,eAAc,CAAC,G,0BCI/B4C,GAAqB,IAAA5C,eAAc,MCLnC6C,EAA8B,oBAAXC,OCEnBC,EAA4BF,EAAY,EAAAG,gBAAkB,EAAArD,UCY9D,SAASsD,EAAiBC,EAAWC,EAAajf,EAAOkf,GACvD,IAAIC,GAAS,IAAAvF,YAAWyE,GACpBe,GAAc,IAAAxF,YAAWsE,GACzB7B,GJdG,IAAAzC,YAAW6E,GAAeY,cIe7BC,GAAkB,IAAA1F,YAAWjB,EAAA,GAC7B4G,EAVN,SAAqB5H,GACnB,IAAI4H,EAAW5H,EAAG4H,SACdC,GAAgB,IAAA5F,YAAW8E,GAC/B,OAAOc,QAA8BnZ,IAAbkZ,EAAyBC,EAAgB,IAAMD,EAAWA,CACpF,CAMiBE,CAAYzf,GACvB0f,GAAmB,IAAAtG,aAAO/S,GAIzB6Y,IAAqBA,EAAsBE,EAAYO,WACvDD,EAAiBlG,SAAW0F,IAC/BQ,EAAiBlG,QAAU0F,EAAoBF,EAAW,CACxDC,YAAaA,EACb5C,OAAQA,EACRrc,OAAO,SAAS,QAAS,CAAC,EAAGA,GAAQ,CACnCuf,SAAUA,IAEZhI,WAAY+H,aAAyD,EAASA,EAAgB7H,GAC9FmI,uBAAuH,KAA/FN,aAAyD,EAASA,EAAgB7J,YAG9G,IAAI4J,EAAgBK,EAAiBlG,QA2BrC,OA1BAqF,GAA0B,WACnBQ,IACLA,EAAcQ,UAAS,SAAS,SAAS,QAAS,CAAC,EAAGV,GAASnf,GAAQ,CACrEuf,SAAUA,KAEZF,EAAczH,WAAY,QAAU0H,GACpCD,EAAcS,gBAAkBzD,GAAUA,EAAO9E,cAAgB+H,aAAyD,EAASA,EAAgB7H,IAInJ4H,EAAcU,aAChB,KACA,IAAAtE,YAAU,WACR,IAAI9D,EACC0H,IAKmC,QAAvC1H,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGsI,iBAC9E,IACApB,GAA0B,WACxB,OAAO,WACL,OAAOQ,aAAqD,EAASA,EAAca,eACrF,CACF,GAAG,IACIb,CACT,CChEA,SAASc,EAAYlgB,GACnB,MAAsB,iBAARA,GAAoBlB,OAAOQ,UAAUC,eAAeC,KAAKQ,EAAK,UAC9E,CCCA,SAASmgB,EAAgBC,GACvB,OAAO5D,MAAM6D,QAAQD,EACvB,CAIA,SAASE,EAAeF,GACtB,MAAoB,iBAANA,GAAkBD,EAAgBC,EAClD,CAqBA,SAASG,EAAwBxgB,EAAOygB,EAAYnL,EAAQoL,EAAeC,GACzE,IAAIhJ,EAUJ,YATsB,IAAlB+I,IACFA,EAAgB,CAAC,QAEK,IAApBC,IACFA,EAAkB,CAAC,GAEK,iBAAfF,IACTA,EAAuC,QAAzB9I,EAAK3X,EAAM0V,gBAA6B,IAAPiC,OAAgB,EAASA,EAAG8I,IAEhD,mBAAfA,EAA4BA,EAAWnL,QAAuCA,EAAStV,EAAMsV,OAAQoL,EAAeC,GAAmBF,CACvJ,CACA,SAASG,EAAevB,EAAeoB,EAAYnL,GACjD,IAAItV,EAAQqf,EAAcwB,WAC1B,OAAOL,EAAwBxgB,EAAOygB,EAAYnL,QAAuCA,EAAStV,EAAMsV,OAhC1G,SAAoB+J,GAClB,IAAI7F,EAAU,CAAC,EAIf,OAHA6F,EAAcyB,cAAa,SAAU5d,EAAO5D,GAC1C,OAAOka,EAAQla,GAAO4D,EAAM6X,KAC9B,IACOvB,CACT,CA0BkHuH,CAAW1B,GAtB7H,SAAqBA,GACnB,IAAI2B,EAAW,CAAC,EAIhB,OAHA3B,EAAcyB,cAAa,SAAU5d,EAAO5D,GAC1C,OAAO0hB,EAAS1hB,GAAO4D,EAAM+d,aAC/B,IACOD,CACT,CAgB6IC,CAAY5B,GACzJ,CACA,SAAS6B,EAA2BlhB,GAClC,IAAI2X,EACJ,MAAuF,mBAA/C,QAAxBA,EAAK3X,EAAMwV,eAA4B,IAAPmC,OAAgB,EAASA,EAAGwJ,QAAyBZ,EAAevgB,EAAMyV,UAAY8K,EAAevgB,EAAMwV,UAAY+K,EAAevgB,EAAMohB,aAAeb,EAAevgB,EAAMqhB,YAAcd,EAAevgB,EAAMshB,WAAaf,EAAevgB,EAAMuhB,aAAehB,EAAevgB,EAAMiT,KAC3U,CACA,SAASuO,EAAmBxhB,GAC1B,OAAOkV,QAAQgM,EAA2BlhB,IAAUA,EAAM0V,SAC5D,CCpDA,SAAS+L,EAAuBzhB,EAAOwe,GACrC,IAAI7G,ECHN,SAAgC3X,EAAO6C,GACrC,GAAIqe,EAA2BlhB,GAAQ,CACrC,IAAIyV,EAAUzV,EAAMyV,QAClBD,EAAUxV,EAAMwV,QAClB,MAAO,CACLC,SAAqB,IAAZA,GAAqB8K,EAAe9K,GAAWA,OAAUpP,EAClEmP,QAAS+K,EAAe/K,GAAWA,OAAUnP,EAEjD,CACA,OAAyB,IAAlBrG,EAAM0hB,QAAoB7e,EAAU,CAAC,CAC9C,CDPW8e,CAAuB3hB,GAAO,IAAA4Z,YAAW6E,IAChDhJ,EAAUkC,EAAGlC,QACbD,EAAUmC,EAAGnC,QACf,OAAO,IAAA0C,UAAQ,WACb,MAAO,CACLzC,QAASA,EACTD,QAASA,EAEb,GAIAgJ,EAAW,CAACoD,EAA0BnM,GAAUmM,EAA0BpM,IAAY,GACxF,CACA,SAASoM,EAA0BC,GACjC,OAAOpF,MAAM6D,QAAQuB,GAAQA,EAAKC,KAAK,KAAOD,CAChD,CEEA,SAAS,EAAsBlK,GAC7B,IAAIoK,EAAoBpK,EAAGoK,kBACzB7C,EAAsBvH,EAAGuH,oBACzB8C,EAAYrK,EAAGqK,UACfC,EAAiBtK,EAAGsK,eACpBjD,EAAYrH,EAAGqH,UA6CjB,OA5CA+C,GbRF,SAAsBG,GACpB,IAAK,IAAI5iB,KAAO4iB,EAAU,CACxB,IAAIlD,EAAYkD,EAAS5iB,GACP,OAAd0f,IAAoBtB,EAAmBpe,GAAK0f,UAAYA,EAC9D,CACF,CaGuBmD,CAAaJ,IA4C3B,IAAAK,aA3CP,SAAyBpiB,EAAOqiB,GAO9B,IAAI7D,GAAW,IAAA5E,YAAWyE,GAAqBG,SAC3C0D,EAAW,KAKXrf,EAAU4e,EAAuBzhB,EAAOwe,GAIxCS,EAAcgD,EAAejiB,EAAOwe,GAsBxC,OArBKA,GAAYG,IAOf9b,EAAQwc,cAAgBN,EAAiBC,EAAWC,EAAajf,EAAOkf,GAQxEgD,EXnDN,SAAqBliB,EAAOqf,EAAe0C,GACzC,IAAIG,EAAW,GAEf,IADkB,IAAAtI,YAAWsE,IACxBmB,EAAe,OAAO,KAQ3B,IAAK,IAAIngB,EAAI,EAAGA,EAAIkf,EAAalf,IAAK,CACpC,IAAIojB,EAASnE,EAAajf,GACtByY,EAAK+F,EAAmB4E,GAC1B9E,EAAY7F,EAAG6F,UACfwB,EAAYrH,EAAGqH,UAMbxB,EAAUxd,IAAUgf,GACtBkD,EAAS9H,KAAK,gBAAoB4E,GAAW,QAAS,CACpD1f,IAAKgjB,GACJtiB,EAAO,CACRqf,cAAeA,KAGrB,CACA,OAAO6C,CACT,CWqBiBK,CAAYviB,EAAO6C,EAAQwc,gBAMjC,gBAAoB,WAAgB,KAAM,gBAAoBZ,EAAc+D,SAAU,CAC3Ftf,MAAOL,GACNmf,EAAUhD,EAAWhf,EC/D5B,SAAsBif,EAAaI,EAAegD,GAChD,OAAO,IAAA5I,cAAY,SAAUgJ,GAC3B,IAAI9K,EACJ8K,IAA0C,QAA5B9K,EAAKsH,EAAYyD,aAA0B,IAAP/K,GAAyBA,EAAGlY,KAAKwf,EAAawD,IAC5FpD,IACFoD,EAAWpD,EAAcqD,MAAMD,GAAYpD,EAAcsD,WAEvDN,IACyB,mBAAhBA,EACTA,EAAYI,GACHtC,EAAYkC,KACrBA,EAAY7I,QAAUiJ,GAG5B,GAMA,CAACpD,GACH,CD0CmCuD,CAAa3D,EAAapc,EAAQwc,cAAegD,GAAcpD,EAAaT,IAAY0D,EACzH,GAEF,CEzDA,SAASW,EAAkBC,GACzB,SAASxN,EAAO0J,EAAW+D,GAIzB,YAHoC,IAAhCA,IACFA,EAA8B,CAAC,GAE1B,EAAsBD,EAAa9D,EAAW+D,GACvD,CAKA,IAAIC,EAAiB,IAAIpK,IACzB,OAAO,IAAIqK,MAAM3N,EAAQ,CAMvByF,IAAK,SAAamI,EAAS5jB,GAOzB,OAHK0jB,EAAe3H,IAAI/b,IACtB0jB,EAAe5K,IAAI9Y,EAAKgW,EAAOhW,IAE1B0jB,EAAejI,IAAIzb,EAC5B,GAEJ,CCxCA,IAAI6jB,EAAuB,CAAC,UAAW,SAAU,OAAQ,OAAQ,UAAW,IAAK,QAAS,OAAQ,SAAU,SAAU,OAAQ,WAAY,OAAQ,UAAW,UAAW,WAAY,OAAQ,OAAQ,MAAO,SAAU,SAAU,OAAQ,QAAS,MAAO,QCHvP,SAASC,EAAepE,GACtB,MAKqB,iBAAdA,IAIPA,EAAUqE,SAAS,SAMnBF,EAAqBliB,QAAQ+d,IAAc,GAI3C,QAAQsE,KAAKtE,GAIf,CCzBA,IAAIuE,EAAuB,CAAC,ECI5B,IAAIC,EAAgB,CAAC,GAAI,IAAK,IAAK,KAS/BC,EAAiB,CAAC,uBAAwB,IAAK,IAAK,KASxD,SAASC,EAAmBC,EAAGC,GAC7B,OAAOH,EAAexiB,QAAQ0iB,GAAKF,EAAexiB,QAAQ2iB,EAC5D,CAfY,CAAC,YAAa,QAAS,SAAU,QAKvCtL,SAAQ,SAAUuL,GACtB,OAAOL,EAAclL,SAAQ,SAAUwL,GACrC,OAAOL,EAAerJ,KAAKyJ,EAAeC,EAC5C,GACF,IAUA,IAAIC,EAAmB,IAAItJ,IAAIgJ,GAC/B,SAASO,EAAgB1kB,GACvB,OAAOykB,EAAiB1I,IAAI/b,EAC9B,CAIA,IAAI2kB,EAAuB,IAAIxJ,IAAI,CAAC,UAAW,UAAW,YAC1D,SAASyJ,EAAsB5kB,GAC7B,OAAO2kB,EAAqB5I,IAAI/b,EAClC,CCpCA,SAAS6kB,EAAoB7kB,EAAKqY,GAChC,IAAIyM,EAASzM,EAAGyM,OACd7E,EAAW5H,EAAG4H,SAChB,OAAOyE,EAAgB1kB,IAAQ4kB,EAAsB5kB,KAAS8kB,QAAuB/d,IAAbkZ,OAA8BgE,EAAqBjkB,IAAgB,YAARA,EACrI,CCNA,IAAI+kB,EAAgB,SAAuBnhB,GACzC,OAAiB,OAAVA,GAAmC,iBAAVA,GAAsBA,EAAM+d,WAC9D,ECDIqD,EAAiB,CACnBlS,EAAG,aACHE,EAAG,aACHiS,EAAG,aACHC,qBAAsB,eCFxB,SAASC,EAAcnlB,GACrB,OAAOA,EAAIolB,WAAW,KACxB,CCFA,IAAIC,EAAiB,SAAwBzhB,EAAOkC,GAClD,OAAOA,GAAyB,iBAAVlC,EAAqBkC,EAAKtF,UAAUoD,GAASA,CACrE,ECLI0hB,EAAQ,SAAeC,EAAKC,GAC9B,OAAO,SAAUzE,GACf,OAAO0E,KAAKD,IAAIC,KAAKF,IAAIxE,EAAGyE,GAAMD,EACpC,CACF,EACIG,EAAW,SAAkB3E,GAC/B,OAAOA,EAAI,EAAI4E,OAAO5E,EAAE6E,QAAQ,IAAM7E,CACxC,EACI8E,EAAa,uBACbC,EAAa,gHACbC,EAAmB,oGACvB,SAASC,EAASjF,GAChB,MAAoB,iBAANA,CAChB,CCXA,IAAIkF,EAAiB,SAAwBC,GAC3C,MAAO,CACLlC,KAAM,SAAcjD,GAClB,OAAOiF,EAASjF,IAAMA,EAAEoF,SAASD,IAAiC,IAAxBnF,EAAEqF,MAAM,KAAKtmB,MACzD,EACAumB,MAAOtQ,WACPvV,UAAW,SAAmBugB,GAC5B,MAAO,GAAKA,EAAImF,CAClB,EAEJ,EACII,EAAUL,EAAe,OACzBM,EAAUN,EAAe,KACzBO,EAAKP,EAAe,MACpBQ,GAAKR,EAAe,MACpBS,GAAKT,EAAe,MACpBU,IAAqB,SAAS,QAAS,CAAC,EAAGJ,GAAU,CACvDF,MAAO,SAAetF,GACpB,OAAOwF,EAAQF,MAAMtF,GAAK,GAC5B,EACAvgB,UAAW,SAAmBugB,GAC5B,OAAOwF,EAAQ/lB,UAAc,IAAJugB,EAC3B,ICtBE6F,GAAS,CACX5C,KAAM,SAAcjD,GAClB,MAAoB,iBAANA,CAChB,EACAsF,MAAOtQ,WACPvV,UAAW,SAAmBugB,GAC5B,OAAOA,CACT,GAEE8F,IAAQ,SAAS,QAAS,CAAC,EAAGD,IAAS,CACzCpmB,UAAW8kB,EAAM,EAAG,KAElB1O,IAAQ,SAAS,QAAS,CAAC,EAAGgQ,IAAS,CACzCE,QAAS,ICbP,IAAM,SAAS,QAAS,CAAC,EAAGF,IAAS,CACvCpmB,UAAWilB,KAAKsB,QCDdC,GAAmB,CAErB5kB,YAAaokB,EACbpb,eAAgBob,EAChBnb,iBAAkBmb,EAClBrb,kBAAmBqb,EACnBtb,gBAAiBsb,EACjBrkB,aAAcqkB,EACdS,OAAQT,EACRU,oBAAqBV,EACrBW,qBAAsBX,EACtBY,wBAAyBZ,EACzBa,uBAAwBb,EAExB1nB,MAAO0nB,EACP5S,SAAU4S,EACV3nB,OAAQ2nB,EACRc,UAAWd,EACXxjB,KAAMwjB,EACNhd,IAAKgd,EACL/c,MAAO+c,EACP9c,OAAQ8c,EACR7c,KAAM6c,EAENxnB,QAASwnB,EACTe,WAAYf,EACZgB,aAAchB,EACdjd,cAAeid,EACfiB,YAAajB,EACbznB,OAAQynB,EACRtV,UAAWsV,EACXkB,YAAalB,EACbrV,aAAcqV,EACdmB,WAAYnB,EAEZoB,OAAQtB,EACRuB,QAASvB,EACTwB,QAASxB,EACTyB,QAASzB,EACT1P,MAAOA,GACPoR,OAAQpR,GACRqR,OAAQrR,GACRsR,OAAQtR,GACRuR,KAAM7B,EACN8B,MAAO9B,EACP+B,MAAO/B,EACPgC,SAAU9B,EACV+B,WAAY/B,EACZgC,WAAYhC,EACZiC,WAAYjC,EACZ1T,EAAG0T,EACHxT,EAAGwT,EACHvB,EAAGuB,EACHkC,YAAalC,EACbtB,qBAAsBsB,EACtBpf,QAASyf,GACT8B,QAAShC,GACTiC,QAASjC,GACTkC,QAASrC,EAETlgB,OAAQ,GAERwiB,YAAajC,GACbkC,cAAelC,GACfmC,WAAY,IC5Dd,SAASC,GAAgBC,EAAOC,EAActL,EAAYuL,EAAapY,EAASqY,EAAmBC,EAA0BC,GAC3H,IAAIlR,EACAhD,EAAQ6T,EAAM7T,MAChBmU,EAAON,EAAMM,KACbhpB,EAAY0oB,EAAM1oB,UAClBipB,EAAgBP,EAAMO,cACtBC,EAAkBR,EAAMQ,gBAI1BD,EAAc3pB,OAAS,EAEvB,IAAI6pB,GAAe,EACfC,GAAqB,EAErBC,GAAkB,EAOtB,IAAK,IAAI7pB,KAAOmpB,EAAc,CAC5B,IAAIvlB,EAAQulB,EAAanpB,GAIzB,GAAImlB,EAAcnlB,GAChBwpB,EAAKxpB,GAAO4D,MADd,CAKA,IAAIkmB,EAAY9C,GAAiBhnB,GAC7B+pB,EAAc1E,EAAezhB,EAAOkmB,GACxC,GAAIpF,EAAgB1kB,GAAM,CAMxB,GAJA2pB,GAAe,EACfnpB,EAAUR,GAAO+pB,EACjBN,EAAc3O,KAAK9a,IAEd6pB,EAAiB,SAElBjmB,KAAwC,QAA5ByU,EAAKyR,EAAUhD,eAA4B,IAAPzO,EAAgBA,EAAK,KAAIwR,GAAkB,EACjG,MAAO,GAAIjF,EAAsB5kB,GAC/B0pB,EAAgB1pB,GAAO+pB,EAEvBH,GAAqB,OAMrB,IAAK/L,aAA+C,EAASA,EAAWmM,cAAgBZ,aAAiD,EAASA,EAAYY,aAAe/F,EAAqBjkB,GAAM,CACtM,IAAIiqB,EAAiBhG,EAAqBjkB,GAAKkqB,QAAQtmB,EAAOwlB,EAAavL,GAKvEsM,EAAUlG,EAAqBjkB,GAAKmqB,QACxC,GAAIA,EAEF,IADA,IAAIC,EAAMD,EAAQrqB,OACTF,EAAI,EAAGA,EAAIwqB,EAAKxqB,IACvByV,EAAM8U,EAAQvqB,IAAMqqB,OAGtB5U,EAAMrV,GAAOiqB,CAEjB,MACE5U,EAAMrV,GAAO+pB,CAtCjB,CAyCF,CACIX,GAAevL,GAAcyL,GAA4BC,GAC3DlU,EAAM7U,UAAY8oB,EAAyBF,EAAYiB,WAAYjB,EAAYkB,UAAWX,EAAenpB,OAAYuG,GACjHsiB,IACFhU,EAAM7U,UAAY6oB,EAAkB7oB,EAAW6U,EAAM7U,YAEvD6U,EAAMqU,gBAAkBH,EAA+BH,KAEnDO,IACFtU,EAAM7U,URzEZ,SAAwB6X,EAAIoB,EAAI8Q,EAAoBlB,GAClD,IAAI7oB,EAAY6X,EAAG7X,UACjBipB,EAAgBpR,EAAGoR,cACjB9P,EAAKF,EAAG+Q,2BACVA,OAAoC,IAAP7Q,GAAuBA,EACpD8Q,EAAKhR,EAAGiR,mBACRA,OAA4B,IAAPD,GAAuBA,EAE1CE,EAAkB,GAEtBlB,EAAcpM,KAAK+G,GAMnB,IAHA,IAAIwG,GAAgB,EAEhBC,EAAmBpB,EAAc3pB,OAC5BF,EAAI,EAAGA,EAAIirB,EAAkBjrB,IAAK,CACzC,IAAII,EAAMypB,EAAc7pB,GACxB+qB,IAAoB3F,EAAehlB,IAAQA,GAAO,IAAMQ,EAAUR,GAAO,KAC7D,MAARA,IAAa4qB,GAAgB,EACnC,CAaA,OAZKA,GAAiBJ,EACpBG,GAAmB,gBAEnBA,EAAkBA,EAAgBG,OAIhCzB,EACFsB,EAAkBtB,EAAkB7oB,EAAW+pB,EAAqB,GAAKI,GAChED,GAAsBH,IAC/BI,EAAkB,QAEbA,CACT,CQuCwBI,CAAe7B,EAAOlY,EAAS6Y,EAAiBR,IAEhEO,IACFvU,EAAMqU,gBRrCZ,SAA8BrR,GAC5B,IAAIoB,EAAKpB,EAAGsQ,QACVA,OAAiB,IAAPlP,EAAgB,MAAQA,EAClCE,EAAKtB,EAAGuQ,QACRA,OAAiB,IAAPjP,EAAgB,MAAQA,EAClC8Q,EAAKpS,EAAGwQ,QAEV,OAAOF,EAAU,IAAMC,EAAU,UADd,IAAP6B,EAAgB,EAAIA,EAElC,CQ6B8BO,CAAqBtB,IAGnD,CC5FA,IAAIuB,GAAwB,WAC1B,MAAO,CACL5V,MAAO,CAAC,EACR7U,UAAW,CAAC,EACZipB,cAAe,GACfC,gBAAiB,CAAC,EAClBF,KAAM,CAAC,EAEX,ECFA,SAAS0B,GAAkBvrB,EAAQI,EAAQW,GACzC,IAAK,IAAIV,KAAOD,EACTglB,EAAchlB,EAAOC,KAAU6kB,EAAoB7kB,EAAKU,KAC3Df,EAAOK,GAAOD,EAAOC,GAG3B,CAaA,SAASmrB,GAASzqB,EAAOif,EAAaT,GACpC,IACI7J,EAAQ,CAAC,EASb,OALA6V,GAAkB7V,EALF3U,EAAM2U,OAAS,CAAC,EAKI3U,GACpCjB,OAAOC,OAAO2V,EAnBhB,SAAgCgD,EAAIsH,EAAaT,GAC/C,IAAImK,EAAoBhR,EAAGgR,kBAC3B,OAAO,IAAAzQ,UAAQ,WACb,IAAIsQ,EDfC,CACL7T,MAAO,CAAC,EACR7U,UAAW,CAAC,EACZipB,cAAe,GACfC,gBAAiB,CAAC,EAClBF,KAAM,CAAC,GCWPP,GAAgBC,EAAOvJ,OAAa5Y,OAAWA,EAAW,CACxDyjB,4BAA6BtL,GAC5BmK,GACH,IAAIG,EAAON,EAAMM,KACfnU,EAAQ6T,EAAM7T,MAChB,OAAO,SAAS,QAAS,CAAC,EAAGmU,GAAOnU,EACtC,GAAG,CAACsK,GACN,CAQuByL,CAAuB1qB,EAAOif,EAAaT,IAC5Dxe,EAAM2qB,kBACRhW,EAAQ3U,EAAM2qB,gBAAgBhW,IAEzBA,CACT,CACA,SAASiW,GAAa5qB,EAAOif,EAAaT,GAExC,IAAIqM,EAAY,CAAC,EACblW,EAAQ8V,GAASzqB,EAAOif,EAAaT,GAUzC,OATItJ,QAAQlV,EAAM4d,QAEhBiN,EAAUC,WAAY,EAEtBnW,EAAM5O,WAAa4O,EAAMoW,iBAAmBpW,EAAMqW,mBAAqB,OAEvErW,EAAMsW,aAA6B,IAAfjrB,EAAM4d,KAAgB,OAAS,QAAyB,MAAf5d,EAAM4d,KAAe,IAAM,MAE1FiN,EAAUlW,MAAQA,EACXkW,CACT,CC9CA,IAAIK,GAAmB,IAAIzQ,IAAI,CAAC,UAAW,UAAW,OAAQ,QAAS,WAAY,aAAc,oBAAqB,kBAAmB,SAAU,UAAW,SAAU,WAAY,wBAAyB,4BAA6B,sBAAuB,kBAAmB,wBAAyB,mBAAoB,sBAAuB,WAAY,cAAe,SAAU,YAAa,2BAA4B,kBAAmB,sBAAuB,OAAQ,eAAgB,eAAgB,kBAAmB,oBAAqB,SAAU,SAAU,cAAe,eAAgB,kBAAmB,iBAAkB,YAAa,QAAS,aAAc,WAAY,oBAAqB,QAAS,aAAc,cAAe,eAAgB,aAAc,aAAc,WAAY,eAS3xB,SAAS0Q,GAAkB7rB,GACzB,OAAO4rB,GAAiB7P,IAAI/b,EAC9B,CChBA,IAAI8rB,GAAgB,SAAuB9rB,GACzC,OAAQ6rB,GAAkB7rB,EAC5B,EAcA,IACE,IAAI+rB,GAAuB,WAC3BD,GAAgB,SAAuB9rB,GAErC,OAAIA,EAAIolB,WAAW,OACTyG,GAAkB7rB,GAEnB+rB,GAAqB/rB,EAEhC,CAGF,CAFE,MAAOqY,IAET,CC5BA,SAAS2T,GAAWC,EAAQpU,EAAQ7U,GAClC,MAAyB,iBAAXipB,EAAsBA,EAASzF,EAAGhmB,UAAUqX,EAAS7U,EAAOipB,EAC5E,CCAA,IAAIC,GAAmB,SAA0BC,EAAUrsB,GACzD,OAAO0mB,EAAGhmB,UAAU2rB,EAAWrsB,EACjC,EACIssB,GAAW,CACbvU,OAAQ,oBACRwU,MAAO,oBAELC,GAAY,CACdzU,OAAQ,mBACRwU,MAAO,mBCJT,SAASE,GAAcrD,EAAO7Q,EAAIwF,EAAYuL,EAAapY,EAASqY,EAAmBC,EAA0BC,GAC/G,IAAIiD,EAAQnU,EAAGmU,MACbC,EAAQpU,EAAGoU,MACX9D,EAAUtQ,EAAGsQ,QACbC,EAAUvQ,EAAGuQ,QACb8D,EAAarU,EAAGqU,WAChBjT,EAAKpB,EAAGsU,YACRA,OAAqB,IAAPlT,EAAgB,EAAIA,EAClCE,EAAKtB,EAAGuU,WACRA,OAAoB,IAAPjT,EAAgB,EAAIA,EAGnCsP,GAAgBC,GADL,QAAO7Q,EAAI,CAAC,QAAS,QAAS,UAAW,UAAW,aAAc,cAAe,eAC7DwF,EAAYuL,EAAapY,EAASqY,EAAmBC,EAA0BC,GAC9GL,EAAM2D,MAAQ3D,EAAM7T,MACpB6T,EAAM7T,MAAQ,CAAC,EACf,IAAIwX,EAAQ3D,EAAM2D,MAChBxX,EAAQ6T,EAAM7T,MACdyX,EAAa5D,EAAM4D,WACnBC,EAAkB7D,EAAM6D,gBAKtBF,EAAMrsB,YACJssB,IAAYzX,EAAM7U,UAAYqsB,EAAMrsB,kBACjCqsB,EAAMrsB,WAGXssB,SAA2B/lB,IAAZ4hB,QAAqC5hB,IAAZ6hB,GAAyBvT,EAAM7U,aACzE6U,EAAMqU,gBF7BV,SAAgCoD,EAAYnE,EAASC,GAGnD,OAFgBoD,GAAWrD,EAASmE,EAAWha,EAAGga,EAAWhuB,OAE1C,IADHktB,GAAWpD,EAASkE,EAAW9Z,EAAG8Z,EAAWjuB,OAE/D,CEyB4BmuB,CAAuBF,OAAwB/lB,IAAZ4hB,EAAwBA,EAAU,QAAiB5hB,IAAZ6hB,EAAwBA,EAAU,UAGxH7hB,IAAVylB,IAAqBK,EAAM/Z,EAAI0Z,QACrBzlB,IAAV0lB,IAAqBI,EAAM7Z,EAAIyZ,QAEX1lB,IAApBgmB,QAAgDhmB,IAAf2lB,GDtBvC,SAAsBG,EAAOI,EAAantB,EAAQsD,EAASyU,EAAQqV,QACjD,IAAZ9pB,IACFA,EAAU,QAEG,IAAXyU,IACFA,EAAS,QAES,IAAhBqV,IACFA,GAAc,GAIhB,IAAIxrB,EAAOwrB,EAAcd,GAAWE,GAEpCO,EAAMnrB,EAAKmW,QAAUqU,IAAkBrU,EAAQoV,GAE/C,IAAIP,EAAaR,GAAiBpsB,EAAQmtB,GACtCN,EAAcT,GAAiB9oB,EAAS6pB,GAC5CJ,EAAMnrB,EAAK2qB,OAASK,EAAa,IAAMC,CACzC,CCIIQ,CAAaN,EAAOE,EAAiBL,EAAYC,EAAaC,GAAY,EAE9E,CC5CA,IAAIQ,GAAuB,WACzB,OAAO,SAAS,QAAS,CAAC,EPFnB,CACL/X,MAAO,CAAC,EACR7U,UAAW,CAAC,EACZipB,cAAe,GACfC,gBAAiB,CAAC,EAClBF,KAAM,CAAC,IOH8C,CACrDqD,MAAO,CAAC,GAEZ,ECDA,SAASQ,GAAY3sB,EAAOif,GAC1B,IAAI2N,GAAc,IAAA1U,UAAQ,WACxB,IAAIsQ,EAAQkE,KAIZ,OAHAb,GAAcrD,EAAOvJ,OAAa5Y,OAAWA,EAAW,CACtDyjB,4BAA4B,GAC3B9pB,EAAM2oB,oBACF,SAAS,QAAS,CAAC,EAAGH,EAAM2D,OAAQ,CACzCxX,OAAO,QAAS,CAAC,EAAG6T,EAAM7T,QAE9B,GAAG,CAACsK,IACJ,GAAIjf,EAAM2U,MAAO,CACf,IAAIkY,EAAY,CAAC,EACjBrC,GAAkBqC,EAAW7sB,EAAM2U,MAAO3U,GAC1C4sB,EAAYjY,OAAQ,SAAS,QAAS,CAAC,EAAGkY,GAAYD,EAAYjY,MACpE,CACA,OAAOiY,CACT,CCfA,SAASE,GAAgBC,QACI,IAAvBA,IACFA,GAAqB,GAYvB,OAVgB,SAAmB/N,EAAWhf,EAAOC,EAAK0X,EAAI6G,GAC5D,IAAIiK,EAAe9Q,EAAG8Q,aAElBmE,GADiBxJ,EAAepE,GAAa2N,GAAc/B,IAC9B5qB,EAAOyoB,EAAcjK,GAClDwO,ENgBR,SAAqBhtB,EAAOitB,EAAOF,GACjC,IAAIC,EAAgB,CAAC,EACrB,IAAK,IAAI1tB,KAAOU,GACVorB,GAAc9rB,KAA+B,IAAvBytB,GAA+B5B,GAAkB7rB,KAAS2tB,IAAU9B,GAAkB7rB,MAC9G0tB,EAAc1tB,GAAOU,EAAMV,IAG/B,OAAO0tB,CACT,CMxBwBE,CAAYltB,EAA4B,iBAAdgf,EAAwB+N,GAClEI,GAAe,SAAS,SAAS,QAAS,CAAC,EAAGH,GAAgBJ,GAAc,CAC9E3sB,IAAKA,IAEP,OAAO,IAAAmtB,eAAcpO,EAAWmO,EAClC,CAEF,CCrBA,IAAIE,GAAqB,kBAKrBC,GAAc,SAAqBC,GACrC,OAAOA,EAAIC,QAAQH,GALE,SAKoCI,aAC3D,ECPA,SAASC,GAAWzmB,EAAS0Q,GAC3B,IAAIhD,EAAQgD,EAAGhD,MACbmU,EAAOnR,EAAGmR,KAKZ,IAAK,IAAIxpB,KAFTP,OAAOC,OAAOiI,EAAQ0N,MAAOA,GAEbmU,EACd7hB,EAAQ0N,MAAMgZ,YAAYruB,EAAKwpB,EAAKxpB,GAExC,CCPA,IAAIsuB,GAAsB,IAAInT,IAAI,CAAC,gBAAiB,kBAAmB,eAAgB,mBAAoB,aAAc,WAAY,oBAAqB,eAAgB,cAAe,aAAc,UAAW,UAAW,eAAgB,mBAAoB,mBAAoB,eAAgB,cAAe,UAAW,sBCA/T,SAASoT,GAAU5mB,EAAS6mB,GAE1B,IAAK,IAAIxuB,KADTouB,GAAWzmB,EAAS6mB,GACJA,EAAY3B,MAC1BllB,EAAQ8mB,aAAcH,GAAoBvS,IAAI/b,GAA0BA,EAAnBguB,GAAYhuB,GAAYwuB,EAAY3B,MAAM7sB,GAEnG,CCNA,SAAS0uB,GAA4BhuB,GACnC,IAAI2U,EAAQ3U,EAAM2U,MACdsZ,EAAY,CAAC,EACjB,IAAK,IAAI3uB,KAAOqV,GACV0P,EAAc1P,EAAMrV,KAAS6kB,EAAoB7kB,EAAKU,MACxDiuB,EAAU3uB,GAAOqV,EAAMrV,IAG3B,OAAO2uB,CACT,CCTA,SAAS,GAA4BjuB,GACnC,IAAIiuB,EAAYD,GAA8BhuB,GAC9C,IAAK,IAAIV,KAAOU,EAAO,CACrB,GAAIqkB,EAAcrkB,EAAMV,IAEtB2uB,EADwB,MAAR3uB,GAAuB,MAARA,EAAc,OAASA,EAAI4uB,cAAgB5uB,GACnDU,EAAMV,EAEjC,CACA,OAAO2uB,CACT,CCXA,SAASE,GAAoB9N,GAC3B,MAAoB,iBAANA,GAAqC,mBAAZA,EAAEc,KAC3C,C,gBCFIiN,GAAoB,SAA2B/N,GACjD,OAAO5D,MAAM6D,QAAQD,EACvB,ECQA,SAASgO,GAAmBnrB,GAC1B,ICVyCmd,EDUrCiO,EAAiBjK,EAAcnhB,GAASA,EAAM6X,MAAQ7X,EAC1D,OCXyCmd,EDWpBiO,ECVdpZ,QAAQmL,GAAkB,iBAANA,GAAkBA,EAAEkO,KAAOlO,EAAEmO,SDUjBF,EAAeE,UAAYF,CACpE,CELA,SAASG,GAAU9W,EAAI3X,EAAO6C,EAASyc,GACrC,IAAI0O,EAA8BrW,EAAGqW,4BACnCU,EAAoB/W,EAAG+W,kBACvBC,EAAUhX,EAAGgX,QACXnG,EAAQ,CACVC,aAAcmG,GAAiB5uB,EAAO6C,EAASyc,EAAiB0O,GAChEF,YAAaY,KAOf,OALIC,IACFnG,EAAM9F,MAAQ,SAAUD,GACtB,OAAOkM,EAAQ3uB,EAAOyiB,EAAU+F,EAClC,GAEKA,CACT,CACA,IAAIqG,GAAqB,SAA4B1P,GACnD,OAAO,SAAUnf,EAAOwe,GACtB,IAAI3b,GAAU,IAAA+W,YAAW6E,GACrBa,GAAkB,IAAA1F,YAAWjB,EAAA,GACjC,OAAO6F,EAAWiQ,GAAUtP,EAAQnf,EAAO6C,EAASyc,IAAmB,SAAY,WACjF,OAAOmP,GAAUtP,EAAQnf,EAAO6C,EAASyc,EAC3C,GACF,CACF,EACA,SAASsP,GAAiB5uB,EAAO6C,EAASyc,EAAiBwP,GACzD,IAAIC,EAAS,CAAC,EACVnP,GAAwH,KAA/FN,aAAyD,EAASA,EAAgB7J,SAC3GuZ,EAAeF,EAAmB9uB,GACtC,IAAK,IAAIV,KAAO0vB,EACdD,EAAOzvB,GAAO+uB,GAAmBW,EAAa1vB,IAEhD,IAAImW,EAAUzV,EAAMyV,QAClBD,EAAUxV,EAAMwV,QACdyZ,EAAwB/N,EAA2BlhB,GACnDkvB,EAAgB1N,EAAmBxhB,GACnC6C,GAAWqsB,IAAkBD,IAA2C,IAAlBjvB,EAAM0hB,UAC9DjM,UAAmDA,EAAU5S,EAAQ4S,SACrED,UAAmDA,EAAU3S,EAAQ2S,UAEvE,IAAI2Z,EAAevP,IAAqC,IAAZnK,EAAoBD,EAAUC,EACtE0Z,GAAwC,kBAAjBA,IAA+BhB,GAAoBgB,KACjE1S,MAAM6D,QAAQ6O,GAAgBA,EAAe,CAACA,IACpD7W,SAAQ,SAAUmI,GACrB,IAAI2O,EAAW5O,EAAwBxgB,EAAOygB,GAC9C,GAAK2O,EAAL,CACA,IAAIrb,EAAgBqb,EAASrb,cAC7Bqb,EAAS5b,WACT,IAAIvU,GAAS,QAAOmwB,EAAU,CAAC,gBAAiB,eAChD,IAAK,IAAI9vB,KAAOL,EAAQ8vB,EAAOzvB,GAAOL,EAAOK,GAC7C,IAAK,IAAIA,KAAOyU,EAAegb,EAAOzvB,GAAOyU,EAAczU,EALtC,CAMvB,IAEF,OAAOyvB,CACT,CCxDA,IAAIM,GAAkB,CACpBpN,eAAgB4M,GAAmB,CACjCb,4BAA6B,GAC7BU,kBAAmBhC,GACnBiC,QAAS,SAAiB3uB,EAAOyiB,EAAU9K,GACzC,IAAImW,EAAcnW,EAAGmW,YACnBrF,EAAe9Q,EAAG8Q,aACpB,IACEqF,EAAY1B,WAAyC,mBAArB3J,EAAS6M,QAAyB7M,EAAS6M,UAAY7M,EAAS8M,uBASlG,CARE,MAAOC,GAEP1B,EAAY1B,WAAa,CACvBha,EAAG,EACHE,EAAG,EACHlU,MAAO,EACPD,OAAQ,EAEZ,CAauB,SAZZskB,EAYArc,UAXT0nB,EAAYzB,gBAAkB5J,EAASgN,kBAEzC5D,GAAciC,EAAarF,OAAcpiB,OAAWA,EAAW,CAC7DyjB,4BAA4B,GAC3B9pB,EAAM2oB,mBAETkF,GAAUpL,EAAUqL,EACtB,KC5BJ,ICHI4B,GDGAC,GAAmB,CACrB1N,eAAgB4M,GAAmB,CACjCb,4BAA6BA,GAC7BU,kBAAmBnE,MELvB,SAASqF,GAAY3wB,EAAQ4wB,EAAWC,EAASxf,GAE/C,OADArR,EAAO8wB,iBAAiBF,EAAWC,EAASxf,GACrC,WACL,OAAOrR,EAAO+wB,oBAAoBH,EAAWC,EAASxf,EACxD,CACF,CAsBA,SAAS2f,GAAYhwB,EAAK4vB,EAAWC,EAASxf,IAC5C,IAAAmL,YAAU,WACR,IAAIxU,EAAUhH,EAAIuZ,QAClB,GAAIsW,GAAW7oB,EACb,OAAO2oB,GAAY3oB,EAAS4oB,EAAWC,EAASxf,EAEpD,GAAG,CAACrQ,EAAK4vB,EAAWC,EAASxf,GAC/B,CCnCA,SAAS4f,GAAaC,GAEpB,MAA4B,oBAAjBC,cAAgCD,aAAiBC,eAC1B,UAAtBD,EAAME,aAEXF,aAAiBG,UAC1B,CACA,SAASC,GAAaJ,GAEpB,QADmBA,EAAMK,OAE3B,EFTA,SAAWd,GACTA,EAAuB,QAAI,UAC3BA,EAAqB,MAAI,aACzBA,EAAmB,IAAI,WACvBA,EAAoB,KAAI,YACxBA,EAAqB,MAAI,aACzBA,EAAoB,KAAI,MACzB,CAPD,CAOGA,KAAkBA,GAAgB,CAAC,IGOtC,IAAIe,GAAmB,CACrBC,MAAO,EACPC,MAAO,GAET,SAASC,GAAepB,EAAGqB,QACP,IAAdA,IACFA,EAAY,QAEd,IACIC,EADetB,EAAEgB,QAAQ,IAAMhB,EAAEuB,eAAe,IACxBN,GAC5B,MAAO,CACLre,EAAG0e,EAAMD,EAAY,KACrBve,EAAGwe,EAAMD,EAAY,KAEzB,CACA,SAASG,GAAeF,EAAOD,GAI7B,YAHkB,IAAdA,IACFA,EAAY,QAEP,CACLze,EAAG0e,EAAMD,EAAY,KACrBve,EAAGwe,EAAMD,EAAY,KAEzB,CACA,SAASI,GAAiBd,EAAOU,GAI/B,YAHkB,IAAdA,IACFA,EAAY,QAEP,CACLC,MAAOP,GAAaJ,GAASS,GAAeT,EAAOU,GAAaG,GAAeb,EAAOU,GAE1F,CAIA,IAAIK,GAAc,SAAqBpB,EAASqB,QACX,IAA/BA,IACFA,GAA6B,GAE/B,IAhD4BC,EAgDxBC,EAAW,SAAkBlB,GAC/B,OAAOL,EAAQK,EAAOc,GAAiBd,GACzC,EACA,OAAOgB,GAnDqBC,EAmD6BC,EAlDlD,SAAUlB,GACf,IAAID,EAAeC,aAAiBG,aACZJ,GAAgBA,GAAiC,IAAjBC,EAAMmB,SAE5DF,EAAajB,EAEjB,GA4CqEkB,CACvE,ECvDIE,GAAkB,CACpBC,YAAa,YACbC,YAAa,YACbC,UAAW,UACXC,cAAe,cACfC,YAAa,YACbC,WAAY,WACZC,aAAc,aACdC,aAAc,cAEZC,GAAkB,CACpBR,YAAa,aACbC,YAAa,YACbC,UAAW,WACXC,cAAe,eAEjB,SAASM,GAAoB/vB,GAC3B,OChBOyc,GAAsC,OAAzBC,OAAOsT,cDiBlBhwB,ECdFyc,GAAqC,OAAxBC,OAAOuT,aDgBlBH,GAAgB9vB,GCblByc,GAAoC,OAAvBC,OAAOwT,YDelBb,GAAgBrvB,GAElBA,CACT,CACA,SAASmwB,GAAgBpzB,EAAQ4wB,EAAWC,EAASxf,GACnD,OAAOsf,GAAY3wB,EAAQgzB,GAAoBpC,GAAYqB,GAAYpB,EAAuB,gBAAdD,GAA8Bvf,EAChH,CACA,SAASgiB,GAAgBryB,EAAK4vB,EAAWC,EAASxf,GAChD,OAAO2f,GAAYhwB,EAAKgyB,GAAoBpC,GAAYC,GAAWoB,GAAYpB,EAAuB,gBAAdD,GAA8Bvf,EACxH,CElCA,SAASiiB,GAAWrwB,GAClB,IAAIswB,EAAO,KACX,OAAO,WAIL,OAAa,OAATA,IACFA,EAAOtwB,EAJM,WACbswB,EAAO,IACT,EAMF,CACF,CACA,IAAIC,GAAuBF,GAAW,kBAClCG,GAAqBH,GAAW,gBACpC,SAASI,GAAc/U,GACrB,IAAI4U,GAAO,EACX,GAAa,MAAT5U,EACF4U,EAAOE,UACF,GAAa,MAAT9U,EACT4U,EAAOC,SACF,CACL,IAAIG,EAAmBH,KACnBI,EAAiBH,KACjBE,GAAoBC,EACtBL,EAAO,WACLI,IACAC,GACF,GAGID,GAAkBA,IAClBC,GAAgBA,IAExB,CACA,OAAOL,CACT,CACA,SAASM,KAGP,IAAIC,EAAkBJ,IAAc,GACpC,OAAKI,IACLA,KACO,EACT,CCxCA,SAASC,GAAiB3T,EAAexa,EAAUouB,GACjD,OAAO,SAAU9C,EAAO+C,GACtB,IAAIvb,EACCuY,GAAaC,KAAU2C,OAC5BG,SAAoDA,EAAS9C,EAAO+C,GAC5B,QAAvCvb,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGwb,UAAUzD,GAAc0D,MAAOvuB,GAC7G,CACF,CCJA,IAAIwuB,GAAgB,SAASA,EAAchX,EAAQ3T,GACjD,QAAKA,IAEM2T,IAAW3T,GAGb2qB,EAAchX,EAAQ3T,EAAM4qB,eAEvC,E,YCfIC,GAAmB,SAA0B5P,EAAGC,GAClD,OAAO,SAAUvD,GACf,OAAOuD,EAAED,EAAEtD,GACb,CACF,EACImT,GAAO,WAET,IADA,IAAIC,EAAe,GACVC,EAAK,EAAGA,EAAKv0B,UAAUC,OAAQs0B,IACtCD,EAAaC,GAAMv0B,UAAUu0B,GAE/B,OAAOD,EAAaE,OAAOJ,GAC7B,ECXA,IAAIK,GAA0B,SAAiCC,GAC7D,OAAO,SAAU7zB,GAEf,OADA6zB,EAAK7zB,GACE,IACT,CACF,ECDI8zB,GAAoB,CACtB/V,IAAK6V,ICOP,SAAuBjc,GACrB,IAAIoc,EAAQpc,EAAGoc,MACbC,EAAarc,EAAGqc,WAChBC,EAActc,EAAGsc,YACjB3S,EAAW3J,EAAG2J,SACdjC,EAAgB1H,EAAG0H,cACjB6U,EAAoBH,GAASC,GAAcC,GAAe3S,EAC1D6S,GAAa,IAAA/a,SAAO,GACpBgb,GAA4B,IAAAhb,QAAO,MACvC,SAASib,IACP,IAAI1c,EACyC,QAA5CA,EAAKyc,EAA0B5a,eAA4B,IAAP7B,GAAyBA,EAAGlY,KAAK20B,GACtFA,EAA0B5a,QAAU,IACtC,CACA,SAAS8a,IACP,IAAI3c,EAIJ,OAHA0c,IACAF,EAAW3a,SAAU,EACmB,QAAvC7B,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGwb,UAAUzD,GAAc6E,KAAK,IACjGzB,IACV,CACA,SAAS0B,EAAYrE,EAAO+C,GACrBoB,MAKJjB,GAAchU,EAAcoV,cAAetE,EAAMlxB,QAA+F80B,SAA8CA,EAAM5D,EAAO+C,GAAhJe,SAA0DA,EAAY9D,EAAO+C,GAC3I,CACA,SAASwB,EAAgBvE,EAAO+C,GACzBoB,MACLL,SAA0DA,EAAY9D,EAAO+C,GAC/E,CAUAZ,GAAgBjT,EAAe,cAAe6U,EAT9C,SAAuB/D,EAAO+C,GAC5B,IAAIvb,EACJ0c,IACIF,EAAW3a,UACf2a,EAAW3a,SAAU,EACrB4a,EAA0B5a,QAAUga,GAAKnB,GAAgBzT,OAAQ,YAAa4V,GAAcnC,GAAgBzT,OAAQ,gBAAiB8V,IACrIV,SAAwDA,EAAW7D,EAAO+C,GAClC,QAAvCvb,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGwb,UAAUzD,GAAc6E,KAAK,GAC3G,OACkFluB,IAClF,QAAiBguB,EACnB,IDlDExW,MAAO+V,IEGT,SAAyBjc,GACvB,IAAI4J,EAAa5J,EAAG4J,WAClBlC,EAAgB1H,EAAG0H,cASrB4Q,GAAY5Q,EAAe,QAASkC,EARtB,WACZ,IAAI5J,EACoC,QAAvCA,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGwb,UAAUzD,GAAciF,OAAO,EAC7G,OAK2DtuB,GAC3D4pB,GAAY5Q,EAAe,OAAQkC,EALtB,WACX,IAAI5J,EACoC,QAAvCA,EAAK0H,EAAcW,sBAAmC,IAAPrI,GAAyBA,EAAGwb,UAAUzD,GAAciF,OAAO,EAC7G,OAEyDtuB,EAC3D,IFfEyX,MAAO8V,IJKT,SAAyBjc,GACvB,IAAIid,EAAejd,EAAGid,aACpBC,EAAald,EAAGkd,WAChBzT,EAAazJ,EAAGyJ,WAChB/B,EAAgB1H,EAAG0H,cACrBiT,GAAgBjT,EAAe,eAAgBuV,GAAgBxT,EAAa4R,GAAiB3T,GAAe,EAAMuV,QAAgBvuB,GAClIisB,GAAgBjT,EAAe,eAAgBwV,GAAczT,EAAa4R,GAAiB3T,GAAe,EAAOwV,QAAcxuB,EACjI,KOnBA,SAASyuB,GAAeC,EAAMC,GAC5B,IAAKvY,MAAM6D,QAAQ0U,GAAO,OAAO,EACjC,IAAIC,EAAaD,EAAK51B,OACtB,GAAI61B,IAAeF,EAAK31B,OAAQ,OAAO,EACvC,IAAK,IAAIF,EAAI,EAAGA,EAAI+1B,EAAY/1B,IAC9B,GAAI81B,EAAK91B,KAAO61B,EAAK71B,GAAI,OAAO,EAElC,OAAO,CACT,CCRA,IAAI,GAAQ,SAAe2lB,EAAKC,EAAKzE,GACnC,OAAO0E,KAAKF,IAAIE,KAAKD,IAAIzE,EAAGwE,GAAMC,EACpC,ECAIoQ,GAAU,KAKd,SAASC,GAAWxd,GAClB,IAQIyd,EACAC,EATAtc,EAAKpB,EAAGrE,SACVA,OAAkB,IAAPyF,EAAgB,IAAMA,EACjCE,EAAKtB,EAAG2d,OACRA,OAAgB,IAAPrc,EAAgB,IAAOA,EAChC8Q,EAAKpS,EAAGqJ,SACRA,OAAkB,IAAP+I,EAAgB,EAAIA,EAC/BwL,EAAK5d,EAAG6d,KACRA,OAAc,IAAPD,EAAgB,EAAIA,EAIzBE,EAAe,EAAIH,EACvBG,EAAe,GAfA,IACA,EAc8BA,GAC7CniB,EAAW,GAlBK,IACA,GAiB2BA,EAAW,KAClDmiB,EAAe,GACjBL,EAAW,SAAkBM,GAC3B,IAAIC,EAAmBD,EAAeD,EAClCG,EAAQD,EAAmBriB,EAC3BqQ,EAAIgS,EAAmB3U,EACvB4C,EAAIiS,GAAgBH,EAAcD,GAClCK,EAAI/Q,KAAKgR,KAAKH,GAClB,OAAOV,GAAUvR,EAAIC,EAAIkS,CAC3B,EACAT,EAAa,SAAoBK,GAC/B,IACIE,EADmBF,EAAeD,EACPniB,EAC3B9L,EAAIouB,EAAQ5U,EAAWA,EACvBwO,EAAIzK,KAAKiR,IAAIP,EAAc,GAAK1Q,KAAKiR,IAAIN,EAAc,GAAKpiB,EAC5D2iB,EAAIlR,KAAKgR,KAAKH,GACdM,EAAIL,GAAgB9Q,KAAKiR,IAAIN,EAAc,GAAID,GAEnD,QADcL,EAASM,GAAgBR,GAAU,GAAK,EAAI,KACxC1tB,EAAIgoB,GAAKyG,GAAKC,CAClC,IAEAd,EAAW,SAAkBM,GAG3B,OAFQ3Q,KAAKgR,KAAKL,EAAepiB,KACxBoiB,EAAe1U,GAAY1N,EAAW,GACxC,IACT,EACA+hB,EAAa,SAAoBK,GAG/B,OAFQ3Q,KAAKgR,KAAKL,EAAepiB,IACIA,EAAWA,GAAvC0N,EAAW0U,GAEtB,GAEF,IACIA,EAkBN,SAAyBN,EAAUC,EAAYc,GAE7C,IADA,IAAIC,EAASD,EACJj3B,EAAI,EAAGA,EAHG,GAGiBA,IAClCk3B,GAAkBhB,EAASgB,GAAUf,EAAWe,GAElD,OAAOA,CACT,CAxBqBC,CAAgBjB,EAAUC,EAD1B,EAAI/hB,GAGvB,GADAA,GAAsB,IAClBgjB,MAAMZ,GACR,MAAO,CACLlf,UAAW,IACXD,QAAS,GACTjD,SAAUA,GAGZ,IAAIkD,EAAYuO,KAAKiR,IAAIN,EAAc,GAAKF,EAC5C,MAAO,CACLhf,UAAWA,EACXD,QAAwB,EAAfkf,EAAmB1Q,KAAKwR,KAAKf,EAAOhf,GAC7ClD,SAAUA,EAGhB,CASA,SAASuiB,GAAgBH,EAAcD,GACrC,OAAOC,EAAe3Q,KAAKwR,KAAK,EAAId,EAAeA,EACrD,CC/EA,IAAIe,GAAe,CAAC,WAAY,UAC5BC,GAAc,CAAC,YAAa,UAAW,QAC3C,SAASC,GAAapmB,EAAStP,GAC7B,OAAOA,EAAKyc,MAAK,SAAUne,GACzB,YAAwB+G,IAAjBiK,EAAQhR,EACjB,GACF,CAmBA,SAASq3B,GAAOhf,GACd,IAAIoB,EAAKpB,EAAG+E,KACVA,OAAc,IAAP3D,EAAgB,EAAMA,EAC7BE,EAAKtB,EAAGif,GACRA,OAAY,IAAP3d,EAAgB,EAAMA,EAC3B8Q,EAAKpS,EAAGkf,UACRA,OAAmB,IAAP9M,EAAgB,EAAIA,EAChC+M,EAAYnf,EAAGmf,UACfxmB,GAAU,QAAOqH,EAAI,CAAC,OAAQ,KAAM,YAAa,cAC/C6Q,EAAQ,CACVuO,MAAM,EACN7zB,MAAOwZ,GAEL6Y,EA/BN,SAA0BjlB,GACxB,IAAI0mB,GAAgB,QAAS,CAC3BhW,SAAU,EACVxK,UAAW,IACXD,QAAS,GACTif,KAAM,EACNyB,wBAAwB,GACvB3mB,GACH,IAAKomB,GAAapmB,EAASmmB,KAAgBC,GAAapmB,EAASkmB,IAAe,CAC9E,IAAIU,EAAU/B,GAAW7kB,IACzB0mB,GAAgB,SAAS,SAAS,QAAS,CAAC,EAAGA,GAAgBE,GAAU,CACvElW,SAAU,EACVwU,KAAM,KAEMyB,wBAAyB,CACzC,CACA,OAAOD,CACT,CAcWG,CAAiB7mB,GACxBkG,EAAY+e,EAAG/e,UACfD,EAAUgf,EAAGhf,QACbif,EAAOD,EAAGC,KACVxU,EAAWuU,EAAGvU,SACd1N,EAAWiiB,EAAGjiB,SACd2jB,EAAyB1B,EAAG0B,uBAC1BG,EAAgBC,GAChBC,EAAkBD,GACtB,SAASE,IACP,IAAIC,EAAkBxW,GAAaA,EAAW,IAAQ,EAClDyW,EAAeb,EAAKla,EACpB+Y,EAAelf,GAAW,EAAIwO,KAAKwR,KAAK/f,EAAYgf,IACpDkC,EAAsB3S,KAAKwR,KAAK/f,EAAYgf,GAAQ,IAExD,GADAsB,UAAyDA,EAAY/R,KAAK4S,IAAIf,EAAKla,IAAS,EAAI,IAAO,IACnG+Y,EAAe,EAAG,CACpB,IAAImC,EAAgB/B,GAAgB6B,EAAqBjC,GACzD2B,EAAgB,SAAuBS,GACrC,IAAIzC,EAAWrQ,KAAKgR,KAAKN,EAAeiC,EAAsBG,GAC9D,OAAOjB,EAAKxB,IAAaoC,EAAkB/B,EAAeiC,EAAsBD,GAAgBG,EAAgB7S,KAAK+S,IAAIF,EAAgBC,GAAKJ,EAAe1S,KAAKgT,IAAIH,EAAgBC,GACxL,EACAP,EAAkB,SAAyBO,GACzC,IAAIzC,EAAWrQ,KAAKgR,KAAKN,EAAeiC,EAAsBG,GAC9D,OAAOpC,EAAeiC,EAAsBtC,GAAYrQ,KAAK+S,IAAIF,EAAgBC,IAAML,EAAkB/B,EAAeiC,EAAsBD,GAAgBG,EAAgBH,EAAe1S,KAAKgT,IAAIH,EAAgBC,IAAMzC,GAAYrQ,KAAKgT,IAAIH,EAAgBC,IAAML,EAAkB/B,EAAeiC,EAAsBD,GAAgBG,EAAgBH,EAAe1S,KAAK+S,IAAIF,EAAgBC,GACxY,CACF,MAAO,GAAqB,IAAjBpC,EACT2B,EAAgB,SAAuBS,GACrC,OAAOjB,EAAK7R,KAAKgR,KAAK2B,EAAsBG,IAAMJ,GAAgBD,EAAkBE,EAAsBD,GAAgBI,EAC5H,MACK,CACL,IAAIG,EAAsBN,EAAsB3S,KAAKwR,KAAKd,EAAeA,EAAe,GACxF2B,EAAgB,SAAuBS,GACrC,IAAIzC,EAAWrQ,KAAKgR,KAAKN,EAAeiC,EAAsBG,GAC1DI,EAAWlT,KAAKF,IAAImT,EAAsBH,EAAG,KACjD,OAAOjB,EAAKxB,IAAaoC,EAAkB/B,EAAeiC,EAAsBD,GAAgB1S,KAAKmT,KAAKD,GAAYD,EAAsBP,EAAe1S,KAAKoT,KAAKF,IAAaD,CACpL,CACF,CACF,CAEA,OADAT,IACO,CACLxC,KAAM,SAAc8C,GAClB,IAAIre,EAAU4d,EAAcS,GAC5B,GAAKZ,EAMHzO,EAAMuO,KAAOc,GAAKvkB,MANS,CAC3B,IAAIqN,EAAuC,IAArB2W,EAAgBO,GAClCO,EAA2BrT,KAAK4S,IAAIhX,IAAoBkW,EACxDwB,EAA+BtT,KAAK4S,IAAIf,EAAKpd,IAAYsd,EAC7DtO,EAAMuO,KAAOqB,GAA4BC,CAC3C,CAIA,OADA7P,EAAMtlB,MAAQslB,EAAMuO,KAAOH,EAAKpd,EACzBgP,CACT,EACA8P,WAAY,WACV,IAAI3gB,EACJqJ,GAAYA,EACKtE,GAAjB/E,EAAK,CAACif,EAAIla,IAAiB,GAAIka,EAAKjf,EAAG,GACvC4f,GACF,EAEJ,CACAZ,GAAO4B,mBAAqB,SAAU5U,EAAGC,GACvC,MAAoB,iBAAND,GAA+B,iBAANC,CACzC,EACA,IAAIyT,GAAO,SAAcmB,GACvB,OAAO,CACT,EC1GI/M,GAAW,SAAkB/O,EAAMka,EAAI1zB,GACzC,IAAIu1B,EAAmB7B,EAAKla,EAC5B,OAA4B,IAArB+b,EAAyB,GAAKv1B,EAAQwZ,GAAQ+b,CACvD,ECHIlK,GAAM,SAAa7R,EAAMka,EAAInL,GAC/B,OAAQA,EAAW/O,EAAO+O,EAAWmL,EAAKla,CAC5C,ECDIgc,GAAgB,SAAuBtzB,EAAMuzB,GAC/C,OAAO,SAAUtY,GACf,OAAOnL,QAAQoQ,EAASjF,IAAMgF,EAAiB/B,KAAKjD,IAAMA,EAAEqE,WAAWtf,IAASuzB,GAAY55B,OAAOQ,UAAUC,eAAeC,KAAK4gB,EAAGsY,GACtI,CACF,EACIC,GAAa,SAAoBC,EAAOC,EAAOC,GACjD,OAAO,SAAU1Y,GACf,IAAI1I,EACJ,IAAK2N,EAASjF,GAAI,OAAOA,EACzB,IAAItH,EAAKsH,EAAE2Y,MAAM7T,GACfxB,EAAI5K,EAAG,GACP6K,EAAI7K,EAAG,GACP+c,EAAI/c,EAAG,GACPoN,EAAQpN,EAAG,GACb,OAAOpB,EAAK,CAAC,GAAMkhB,GAASxjB,WAAWsO,GAAIhM,EAAGmhB,GAASzjB,WAAWuO,GAAIjM,EAAGohB,GAAS1jB,WAAWygB,GAAIne,EAAGwO,WAAkB9f,IAAV8f,EAAsB9Q,WAAW8Q,GAAS,EAAGxO,CAC3J,CACF,ECbIshB,GAAerU,EAAM,EAAG,KACxBsU,IAAU,SAAS,QAAS,CAAC,EAAGhT,IAAS,CAC3CpmB,UAAW,SAAmBugB,GAC5B,OAAO0E,KAAKsB,MAAM4S,GAAa5Y,GACjC,IAEE8Y,GAAO,CACT7V,KAAMoV,GAAc,MAAO,OAC3B/S,MAAOiT,GAAW,MAAO,QAAS,QAClC94B,UAAW,SAAmB6X,GAC5B,IAAIyhB,EAAMzhB,EAAGyhB,IACXC,EAAQ1hB,EAAG0hB,MACXC,EAAO3hB,EAAG2hB,KACVvgB,EAAKpB,EAAGwO,MACRoT,OAAiB,IAAPxgB,EAAgB,EAAIA,EAChC,MAAO,QAAUmgB,GAAQp5B,UAAUs5B,GAAO,KAAOF,GAAQp5B,UAAUu5B,GAAS,KAAOH,GAAQp5B,UAAUw5B,GAAQ,KAAOtU,EAASmB,GAAMrmB,UAAUy5B,IAAY,GAC3J,GCSF,IAAIC,GAAM,CACRlW,KAAMoV,GAAc,KACpB/S,MA7BF,SAAkBtF,GAChB,IAAI1Y,EAAI,GACJuuB,EAAI,GACJtS,EAAI,GACJD,EAAI,GAgBR,OAfItD,EAAEjhB,OAAS,GACbuI,EAAI0Y,EAAEoZ,OAAO,EAAG,GAChBvD,EAAI7V,EAAEoZ,OAAO,EAAG,GAChB7V,EAAIvD,EAAEoZ,OAAO,EAAG,GAChB9V,EAAItD,EAAEoZ,OAAO,EAAG,KAEhB9xB,EAAI0Y,EAAEoZ,OAAO,EAAG,GAChBvD,EAAI7V,EAAEoZ,OAAO,EAAG,GAChB7V,EAAIvD,EAAEoZ,OAAO,EAAG,GAChB9V,EAAItD,EAAEoZ,OAAO,EAAG,GAChB9xB,GAAKA,EACLuuB,GAAKA,EACLtS,GAAKA,EACLD,GAAKA,GAEA,CACLyV,IAAKplB,SAASrM,EAAG,IACjB0xB,MAAOrlB,SAASkiB,EAAG,IACnBoD,KAAMtlB,SAAS4P,EAAG,IAClBuC,MAAOxC,EAAI3P,SAAS2P,EAAG,IAAM,IAAM,EAEvC,EAIE7jB,UAAWq5B,GAAKr5B,WC5Bd45B,GAAO,CACTpW,KAAMoV,GAAc,MAAO,OAC3B/S,MAAOiT,GAAW,MAAO,aAAc,aACvC94B,UAAW,SAAmB6X,GAC5B,IAAIgiB,EAAMhiB,EAAGgiB,IACXC,EAAajiB,EAAGiiB,WAChBC,EAAYliB,EAAGkiB,UACf9gB,EAAKpB,EAAGwO,MACRoT,OAAiB,IAAPxgB,EAAgB,EAAIA,EAChC,MAAO,QAAUgM,KAAKsB,MAAMsT,GAAO,KAAO9T,EAAQ/lB,UAAUklB,EAAS4U,IAAe,KAAO/T,EAAQ/lB,UAAUklB,EAAS6U,IAAc,KAAO7U,EAASmB,GAAMrmB,UAAUy5B,IAAY,GAClL,GCVEO,GAAiB,SAAwBpd,EAAMka,EAAIvW,GACrD,IAAI0Z,EAAWrd,EAAOA,EAClBsd,EAASpD,EAAKA,EAClB,OAAO7R,KAAKwR,KAAKxR,KAAKD,IAAI,EAAGzE,GAAK2Z,EAASD,GAAYA,GACzD,EACIE,GAAa,CAACT,GAAKL,GAAMO,IACzBQ,GAAe,SAAsB7Z,GACvC,OAAO4Z,GAAWE,MAAK,SAAU/0B,GAC/B,OAAOA,EAAKke,KAAKjD,EACnB,GACF,EACI+Z,GAAgB,SAAuB32B,GACzC,MAAO,IAAMA,EAAQ,sEACvB,EACI42B,GAAW,SAAkB3d,EAAMka,GACrC,IAAI0D,EAAgBJ,GAAaxd,GAC7B6d,EAAcL,GAAatD,GACJwD,GAAc1d,GAChB0d,GAAcxD,GAC7B0D,EAAcx6B,UAAcy6B,EAAYz6B,UAClD,IAAI06B,EAAYF,EAAc3U,MAAMjJ,GAChC+d,EAAUF,EAAY5U,MAAMiR,GAC5B8D,GAAU,QAAS,CAAC,EAAGF,GACvBG,EAAUL,IAAkBZ,GAAOnL,GAAMuL,GAC7C,OAAO,SAAUzZ,GACf,IAAK,IAAI/gB,KAAOo7B,EACF,UAARp7B,IACFo7B,EAAQp7B,GAAOq7B,EAAQH,EAAUl7B,GAAMm7B,EAAQn7B,GAAM+gB,IAIzD,OADAqa,EAAQvU,MAAQoI,GAAIiM,EAAUrU,MAAOsU,EAAQtU,MAAO9F,GAC7Cia,EAAcx6B,UAAU46B,EACjC,CACF,ECjCIj3B,GAAQ,CACV6f,KAAM,SAAcjD,GAClB,OAAO8Y,GAAK7V,KAAKjD,IAAMmZ,GAAIlW,KAAKjD,IAAMqZ,GAAKpW,KAAKjD,EAClD,EACAsF,MAAO,SAAetF,GACpB,OAAI8Y,GAAK7V,KAAKjD,GACL8Y,GAAKxT,MAAMtF,GACTqZ,GAAKpW,KAAKjD,GACZqZ,GAAK/T,MAAMtF,GAEXmZ,GAAI7T,MAAMtF,EAErB,EACAvgB,UAAW,SAAmBugB,GAC5B,OAAOiF,EAASjF,GAAKA,EAAIA,EAAE7gB,eAAe,OAAS25B,GAAKr5B,UAAUugB,GAAKqZ,GAAK55B,UAAUugB,EACxF,GChBEua,GAAa,OACbC,GAAc,OAKlB,SAASC,GAAQza,GACf,IAAI0O,EAAS,GACTgM,EAAY,EACZC,EAAS3a,EAAE2Y,MAAM5T,GACjB4V,IACFD,EAAYC,EAAO57B,OACnBihB,EAAIA,EAAEmN,QAAQpI,EAAYwV,IAC1B7L,EAAO3U,KAAK1a,MAAMqvB,EAAQiM,EAAO9pB,IAAIzN,GAAMkiB,SAE7C,IAAIsV,EAAU5a,EAAE2Y,MAAM7T,GAKtB,OAJI8V,IACF5a,EAAIA,EAAEmN,QAAQrI,EAAY0V,IAC1B9L,EAAO3U,KAAK1a,MAAMqvB,EAAQkM,EAAQ/pB,IAAIgV,GAAOP,SAExC,CACLoJ,OAAQA,EACRgM,UAAWA,EACXG,UAAW7a,EAEf,CACA,SAASsF,GAAMtF,GACb,OAAOya,GAAQza,GAAG0O,MACpB,CACA,SAASoM,GAAkB9a,GACzB,IAAI1I,EAAKmjB,GAAQza,GACf0O,EAASpX,EAAGoX,OACZgM,EAAYpjB,EAAGojB,UACfG,EAAYvjB,EAAGujB,UACbE,EAAYrM,EAAO3vB,OACvB,OAAO,SAAUihB,GAEf,IADA,IAAIgb,EAASH,EACJh8B,EAAI,EAAGA,EAAIk8B,EAAWl8B,IAC7Bm8B,EAASA,EAAO7N,QAAQtuB,EAAI67B,EAAYH,GAAaC,GAAa37B,EAAI67B,EAAYt3B,GAAM3D,UAAUugB,EAAEnhB,IAAM8lB,EAAS3E,EAAEnhB,KAEvH,OAAOm8B,CACT,CACF,CACA,IAAIC,GAAuB,SAA8Bjb,GACvD,MAAoB,iBAANA,EAAiB,EAAIA,CACrC,EAMA,IAAIkb,GAAU,CACZjY,KAlDF,SAAcjD,GACZ,IAAI1I,EAAIoB,EAAIE,EAAI8Q,EAChB,OAAOuM,MAAMjW,IAAMiF,EAASjF,KAA4F,QAApFtH,EAAoC,QAA9BpB,EAAK0I,EAAE2Y,MAAM7T,UAAgC,IAAPxN,OAAgB,EAASA,EAAGvY,cAA2B,IAAP2Z,EAAgBA,EAAK,IAA2F,QAApFgR,EAAoC,QAA9B9Q,EAAKoH,EAAE2Y,MAAM5T,UAAgC,IAAPnM,OAAgB,EAASA,EAAG7Z,cAA2B,IAAP2qB,EAAgBA,EAAK,GAAK,CACpR,EAgDEpE,MAAOA,GACPwV,kBAAmBA,GACnBK,kBATF,SAA2Bnb,GACzB,IAAIob,EAAS9V,GAAMtF,GAEnB,OADkB8a,GAAkB9a,EAC7Bqb,CAAYD,EAAOvqB,IAAIoqB,IAChC,GChDIK,GAAQ,SAAetb,GACzB,MAAoB,iBAANA,CAChB,ECAA,SAASub,GAASrQ,EAAQtsB,GACxB,OAAI08B,GAAMpQ,GACD,SAAUlL,GACf,OAAOkO,GAAIhD,EAAQtsB,EAAQohB,EAC7B,EACS5c,GAAM6f,KAAKiI,GACb8O,GAAS9O,EAAQtsB,GAEjB48B,GAAWtQ,EAAQtsB,EAE9B,CACA,IAAI68B,GAAW,SAAkBpf,EAAMka,GACrC,IAAIyE,GAAS,QAAc,GAAI3e,GAC3B0e,EAAYC,EAAOj8B,OACnB28B,EAAarf,EAAKxL,KAAI,SAAU8qB,EAAU98B,GAC5C,OAAO08B,GAASI,EAAUpF,EAAG13B,GAC/B,IACA,OAAO,SAAUmhB,GACf,IAAK,IAAInhB,EAAI,EAAGA,EAAIk8B,EAAWl8B,IAC7Bm8B,EAAOn8B,GAAK68B,EAAW78B,GAAGmhB,GAE5B,OAAOgb,CACT,CACF,EACIY,GAAY,SAAmB1Q,EAAQtsB,GACzC,IAAIo8B,GAAS,SAAS,QAAS,CAAC,EAAG9P,GAAStsB,GACxC88B,EAAa,CAAC,EAClB,IAAK,IAAIz8B,KAAO+7B,OACMh1B,IAAhBklB,EAAOjsB,SAAsC+G,IAAhBpH,EAAOK,KACtCy8B,EAAWz8B,GAAOs8B,GAASrQ,EAAOjsB,GAAML,EAAOK,KAGnD,OAAO,SAAU+gB,GACf,IAAK,IAAI/gB,KAAOy8B,EACdV,EAAO/7B,GAAOy8B,EAAWz8B,GAAK+gB,GAEhC,OAAOgb,CACT,CACF,EACA,SAAS,GAAQn4B,GAMf,IALA,IAAIu4B,EAASF,GAAQ5V,MAAMziB,GACvBk4B,EAAYK,EAAOr8B,OACnB88B,EAAa,EACbC,EAAS,EACTC,EAAS,EACJl9B,EAAI,EAAGA,EAAIk8B,EAAWl8B,IACzBg9B,GAAmC,iBAAdT,EAAOv8B,GAC9Bg9B,SAEsB71B,IAAlBo1B,EAAOv8B,GAAGy6B,IACZyC,IAEAD,IAIN,MAAO,CACLV,OAAQA,EACRS,WAAYA,EACZC,OAAQA,EACRC,OAAQA,EAEZ,CACA,IAAIP,GAAa,SAAoBtQ,EAAQtsB,GAC3C,IAAIo9B,EAAWd,GAAQJ,kBAAkBl8B,GACrCq9B,EAAc,GAAQ/Q,GACtBgR,EAAc,GAAQt9B,GAE1B,OADUq9B,EAAYF,SAAWG,EAAYH,QAAUE,EAAYH,SAAWI,EAAYJ,SAAUG,EAAYJ,WAAcK,EAAYL,YACnI1I,GAAKsI,GAASQ,EAAYb,OAAQc,EAAYd,QAASY,EAChE,ECpEIG,GAAY,SAAmB9f,EAAMka,GACvC,OAAO,SAAUrY,GACf,OAAOgQ,GAAI7R,EAAMka,EAAIrY,EACvB,CACF,EAgBA,SAASke,GAAapB,EAAQ1oB,EAAM+pB,GAIlC,IAHA,IAhB0Brc,EAgBtBsc,EAAS,GACTC,EAAeF,IAhBF,iBADSrc,EAiB2Bgb,EAAO,IAfnDmB,GACe,iBAANnc,EACZ5c,GAAM6f,KAAKjD,GACNga,GAEAwB,GAEApf,MAAM6D,QAAQD,GAChByb,GACe,iBAANzb,EACT4b,QADF,GAOHY,EAAYxB,EAAOj8B,OAAS,EACvBF,EAAI,EAAGA,EAAI29B,EAAW39B,IAAK,CAClC,IAAI49B,EAAQF,EAAavB,EAAOn8B,GAAIm8B,EAAOn8B,EAAI,IAC/C,GAAIyT,EAAM,CACR,IAAIoqB,EAAiBtgB,MAAM6D,QAAQ3N,GAAQA,EAAKzT,GAAKyT,EACrDmqB,EAAQtJ,GAAKuJ,EAAgBD,EAC/B,CACAH,EAAOviB,KAAK0iB,EACd,CACA,OAAOH,CACT,CAkCA,SAASK,GAAYC,EAAO5B,EAAQ1jB,GAClC,IAAIoB,OAAY,IAAPpB,EAAgB,CAAC,EAAIA,EAC5BsB,EAAKF,EAAG6L,MACRsY,OAAiB,IAAPjkB,GAAuBA,EACjCtG,EAAOoG,EAAGpG,KACVmqB,EAAQ/jB,EAAG+jB,MACTK,EAAcF,EAAM79B,OACEi8B,EAAOj8B,QACtBuT,IAAS8J,MAAM6D,QAAQ3N,IAASA,EAAKvT,OAC5C69B,EAAM,GAAKA,EAAME,EAAc,KACjCF,EAAQ,GAAGG,OAAOH,GAClB5B,EAAS,GAAG+B,OAAO/B,GACnB4B,EAAMjnB,UACNqlB,EAAOrlB,WAET,IAAI2mB,EAASF,GAAapB,EAAQ1oB,EAAMmqB,GACpCO,EAA+B,IAAhBF,EAjDrB,SAAyBxlB,EAAIoB,GAC3B,IAAI2D,EAAO/E,EAAG,GACZif,EAAKjf,EAAG,GACNmlB,EAAQ/jB,EAAG,GACf,OAAO,SAAUsH,GACf,OAAOyc,EAAMrR,GAAS/O,EAAMka,EAAIvW,GAClC,CACF,CA0CyCid,CAAgBL,EAAON,GAzChE,SAAyBM,EAAON,GAC9B,IAAIQ,EAAcF,EAAM79B,OACpBm+B,EAAiBJ,EAAc,EACnC,OAAO,SAAU9c,GACf,IAAImd,EAAa,EACbC,GAAkB,EAOtB,GANIpd,GAAK4c,EAAM,GACbQ,GAAkB,EACTpd,GAAK4c,EAAMM,KACpBC,EAAaD,EAAiB,EAC9BE,GAAkB,IAEfA,EAAiB,CAEpB,IADA,IAAIv+B,EAAI,EACDA,EAAIi+B,KACLF,EAAM/9B,GAAKmhB,GAAKnhB,IAAMq+B,GADJr+B,KAKxBs+B,EAAat+B,EAAI,CACnB,CACA,IAAIw+B,EAAkBjS,GAASwR,EAAMO,GAAaP,EAAMO,EAAa,GAAInd,GACzE,OAAOsc,EAAOa,GAAYE,EAC5B,CACF,CAiB0EC,CAAgBV,EAAON,GAC/F,OAAOO,EAAU,SAAU7c,GACzB,OAAOgd,EAAa,GAAMJ,EAAM,GAAIA,EAAME,EAAc,GAAI9c,GAC9D,EAAIgd,CACN,CC/FA,IAUyCO,GAVrCC,GAAgB,SAAuBC,GACzC,OAAO,SAAUvf,GACf,OAAO,EAAIuf,EAAO,EAAIvf,EACxB,CACF,EACIwf,GAAe,SAAsBD,GACvC,OAAO,SAAUvf,GACf,OAAOA,GAAK,GAAMuf,EAAO,EAAIvf,GAAK,GAAK,EAAIuf,EAAO,GAAK,EAAIvf,KAAO,CACpE,CACF,EAMIyf,GAAe,SAAsBJ,GACvC,OAAO,SAAUrf,GACf,OAAOA,EAAIA,IAAMqf,EAAQ,GAAKrf,EAAIqf,EACpC,CACF,ECdIK,GAAS,SAAgB1f,GAC3B,OAAOA,CACT,EACI3L,IDEqCgrB,GCFf,EDGjB,SAAUrf,GACf,OAAOwG,KAAKiR,IAAIzX,EAAGqf,GACrB,GCJE/qB,GAAUgrB,GAAcjrB,IACxBE,GAAYirB,GAAanrB,IACzBsrB,GAAS,SAAgB3f,GAC3B,OAAO,EAAIwG,KAAK+S,IAAI/S,KAAKoZ,KAAK5f,GAChC,EACI6f,GAAUP,GAAcK,IACxBG,GAAYN,GAAaK,IACzBE,GAASN,GAfoB,OAgB7BO,GAAUV,GAAcS,IACxBE,GAAYT,GAAaO,IACzBG,GDCmB,SAA0Bb,GAC/C,IAAIc,EAAaV,GAAaJ,GAC9B,OAAO,SAAUrf,GACf,OAAQA,GAAK,GAAK,EAAI,GAAMmgB,EAAWngB,GAAK,IAAO,EAAIwG,KAAKiR,IAAI,GAAI,IAAMzX,EAAI,IAChF,CACF,CCNiBogB,CAlBgB,OAsB7BC,GAAY,SAAmBrgB,GACjC,GAAU,IAANA,GAAiB,IAANA,EAAS,OAAOA,EAC/B,IAAIsgB,EAAKtgB,EAAIA,EACb,OAAOA,EAxBoB,mBAwBS,OAASsgB,EAAKtgB,EAvBtB,kBAuBoD,MAAQsgB,EAAK,IAAMtgB,EAAI,IAAMA,EAtBlF,GAgBpB,mBAMwIsgB,EALxI,kBAKkJtgB,EAJlJ,kBAI2J,KAAOA,EAAIA,EAAI,MAAQA,EAAI,KAC/L,EACIugB,GAAWjB,GAAce,IC1B7B,SAASG,GAAchQ,EAAQ+O,GAC7B,OAAO/O,EAAO7d,KAAI,WAChB,OAAO4sB,GAAUhrB,EACnB,IAAGmI,OAAO,EAAG8T,EAAO3vB,OAAS,EAC/B,CAYA,SAAS4/B,GAAUrnB,GACjB,IAAIoB,EAAKpB,EAAG+E,KACVA,OAAc,IAAP3D,EAAgB,EAAIA,EAC3BE,EAAKtB,EAAGif,GACRA,OAAY,IAAP3d,EAAgB,EAAIA,EACzBtG,EAAOgF,EAAGhF,KACVwE,EAASQ,EAAGR,OACZ4S,EAAKpS,EAAGrE,SACRA,OAAkB,IAAPyW,EAAgB,IAAMA,EAC/BvB,EAAQ,CACVuO,MAAM,EACN7zB,MAAOwZ,GAELqS,EAAStS,MAAM6D,QAAQsW,GAAMA,EAAK,CAACla,EAAMka,GACzCqI,EAnBN,SAA8B9nB,EAAQ7D,GACpC,OAAO6D,EAAOjG,KAAI,SAAUguB,GAC1B,OAAOA,EAAI5rB,CACb,GACF,CAec6rB,CAAqBhoB,GAAUA,EAAO/X,SAAW2vB,EAAO3vB,OAAS+X,EAzB/E,SAAuB4X,GACrB,IAAIqM,EAAYrM,EAAO3vB,OACvB,OAAO2vB,EAAO7d,KAAI,SAAUkuB,EAAQlgC,GAClC,OAAa,IAANA,EAAUA,GAAKk8B,EAAY,GAAK,CACzC,GACF,CAoBwFiE,CAActQ,GAASzb,GAC7G,SAASgsB,IACP,OAAOtC,GAAYiC,EAAOlQ,EAAQ,CAChCpc,KAAM8J,MAAM6D,QAAQ3N,GAAQA,EAAOosB,GAAchQ,EAAQpc,IAE7D,CACA,IAAI0qB,EAAeiC,IACnB,MAAO,CACLvK,KAAM,SAAc8C,GAGlB,OAFArP,EAAMtlB,MAAQm6B,EAAaxF,GAC3BrP,EAAMuO,KAAOc,GAAKvkB,EACXkV,CACT,EACA8P,WAAY,WACVvJ,EAAO/Y,UACPqnB,EAAeiC,GACjB,EAEJ,CC/CA,IAAIC,GAAQ,CACVP,UAAWA,GACXrI,OAAQA,GACR6I,MCNF,SAAe7nB,GACb,IAAIoB,EAAKpB,EAAGqJ,SACVA,OAAkB,IAAPjI,EAAgB,EAAIA,EAC/BE,EAAKtB,EAAG+E,KACRA,OAAc,IAAPzD,EAAgB,EAAIA,EAC3B8Q,EAAKpS,EAAGimB,MACRA,OAAe,IAAP7T,EAAgB,GAAMA,EAC9BwL,EAAK5d,EAAG8nB,aACRA,OAAsB,IAAPlK,EAAgB,IAAMA,EACrCmK,EAAK/nB,EAAGmf,UACRA,OAAmB,IAAP4I,EAAgB,GAAMA,EAClCC,EAAehoB,EAAGgoB,aAChBnX,EAAQ,CACVuO,MAAM,EACN7zB,MAAOwZ,GAELkjB,EAAYhC,EAAQ5c,EACpB6e,EAAQnjB,EAAOkjB,EACf3gC,OAA0BoH,IAAjBs5B,EAA6BE,EAAQF,EAAaE,GAE/D,OADI5gC,IAAW4gC,IAAOD,EAAY3gC,EAASyd,GACpC,CACLqY,KAAM,SAAc8C,GAClB,IAAIjC,GAASgK,EAAY7a,KAAKgR,KAAK8B,EAAI4H,GAGvC,OAFAjX,EAAMuO,OAASnB,EAAQkB,GAAalB,GAASkB,GAC7CtO,EAAMtlB,MAAQslB,EAAMuO,KAAO93B,EAASA,EAAS22B,EACtCpN,CACT,EACA8P,WAAY,WAAuB,EAEvC,G,gBC7BA,SAASwH,GAAYC,EAASzsB,EAAUG,GAItC,YAHc,IAAVA,IACFA,EAAQ,GAEHssB,EAAUzsB,EAAWG,CAC9B,CCAA,IAAIusB,GAAY,SAAmBC,GACjC,IAAIC,EAAgB,SAAuBvoB,GACzC,IAAIie,EAAQje,EAAGie,MACf,OAAOqK,EAAOrK,EAChB,EACA,MAAO,CACLzU,MAAO,WACL,OAAO,aAAY+e,GAAe,EACpC,EACAC,KAAM,WACJ,OAAO,aAAkBD,EAC3B,EAEJ,EACA,SAAS1qB,GAAQmC,GACf,IAAIoB,EAAIE,EAqBJmnB,EAGAC,EAGAC,EA1BA5jB,EAAO/E,EAAG+E,KACZqN,EAAKpS,EAAG4oB,SACRA,OAAkB,IAAPxW,GAAuBA,EAClCwL,EAAK5d,EAAG6oB,OACRA,OAAgB,IAAPjL,EAAgByK,GAAYzK,EACrCmK,EAAK/nB,EAAGooB,QACRA,OAAiB,IAAPL,EAAgB,EAAIA,EAC9Be,EAAK9oB,EAAG+oB,OACRC,OAAmB,IAAPF,EAAgB,EAAIA,EAChCG,EAAKjpB,EAAGkpB,WACRA,OAAoB,IAAPD,EAAgB,OAASA,EACtCE,EAAKnpB,EAAGopB,YACRA,OAAqB,IAAPD,EAAgB,EAAIA,EAClCE,EAASrpB,EAAGqpB,OACZC,EAAStpB,EAAGspB,OACZC,EAAavpB,EAAGupB,WAChBC,EAAWxpB,EAAGwpB,SACdC,EAAWzpB,EAAGypB,SACd9wB,GAAU,QAAOqH,EAAI,CAAC,OAAQ,WAAY,SAAU,UAAW,SAAU,aAAc,cAAe,SAAU,SAAU,aAAc,WAAY,aAClJif,EAAKtmB,EAAQsmB,GAEbyK,EAAc,EACdC,EAAmBhxB,EAAQgD,SAE3BiF,GAAa,EACbgpB,GAAoB,EAEpBC,EHxCN,SAAoCriB,GAClC,GAAI1C,MAAM6D,QAAQnB,EAAOyX,IACvB,OAAOoI,GACF,GAAIO,GAAMpgB,EAAO/Z,MACtB,OAAOm6B,GAAMpgB,EAAO/Z,MAEtB,IAAIpE,EAAO,IAAIyZ,IAAI1b,OAAOiC,KAAKme,IAC/B,OAAIne,EAAKqa,IAAI,SAAWra,EAAKqa,IAAI,cAAgBra,EAAKqa,IAAI,gBACjD2jB,GACEh+B,EAAKqa,IAAI,iBAAmBra,EAAKqa,IAAI,cAAgBra,EAAKqa,IAAI,SAAWra,EAAKqa,IAAI,YAAcra,EAAKqa,IAAI,cAAgBra,EAAKqa,IAAI,aACpIsb,GAEFqI,EACT,CG2BiByC,CAA2BnxB,IACQ,QAA7C2I,GAAMF,EAAKyoB,GAAUjJ,0BAAuC,IAAPtf,OAAgB,EAASA,EAAGxZ,KAAKsZ,EAAI2D,EAAMka,MACnG0J,EAAwBtD,GAAY,CAAC,EAAG,KAAM,CAACtgB,EAAMka,GAAK,CACxDhS,OAAO,IAETlI,EAAO,EACPka,EAAK,KAEP,IAAI/0B,EAAY2/B,GAAS,SAAS,QAAS,CAAC,EAAGlxB,GAAU,CACvDoM,KAAMA,EACNka,GAAIA,KAEN,SAAS8J,IACPW,IACmB,YAAfR,EAEFd,ED1DN,SAAwBA,EAASzsB,EAAUG,EAAO8tB,GAOhD,YANc,IAAV9tB,IACFA,EAAQ,QAEgB,IAAtB8tB,IACFA,GAAoB,GAEfA,EAAoBzB,GAAYxsB,GAAYysB,EAASzsB,EAAUG,GAASH,GAAYysB,EAAUzsB,GAAYG,CACnH,CCkDgBiuB,CAAe3B,EAASuB,EAAkBP,EADpDQ,EAAoBF,EAAc,GAAM,IAGxCtB,EAAUD,GAAYC,EAASuB,EAAkBP,GAC9B,WAAfF,GAAyBh/B,EAAUy2B,cAEzC/f,GAAa,EACb4oB,GAAYA,GACd,CAKA,SAASlB,EAAOrK,GAGd,GAFK2L,IAAmB3L,GAASA,GACjCmK,GAAWnK,GACNrd,EAAY,CACf,IAAIiQ,EAAQ3mB,EAAUkzB,KAAKhQ,KAAKD,IAAI,EAAGib,IACvCM,EAAS7X,EAAMtlB,MACXo9B,IAAuBD,EAASC,EAAsBD,IAC1D9nB,EAAagpB,EAAoB/Y,EAAMuO,KAAOgJ,GAAW,CAC3D,CACAqB,SAAoDA,EAASf,GACzD9nB,IACkB,IAAhB8oB,IAAmBC,UAA8EA,EAAmBvB,IACpHsB,EAAcV,EDzExB,SAA+BZ,EAASzsB,EAAUG,EAAO8tB,GACvD,OAAOA,EAAoBxB,GAAWzsB,EAAWG,EAAQssB,IAAYtsB,CACvE,CCwEQkuB,CAAsB5B,EAASuB,EAAkBP,EAAaQ,IAAsBb,KAhBxFN,EAAeD,OACfe,GAAcA,KAoBhB,CAOA,OADAX,IAJES,SAAgDA,KAChDZ,EAAiBI,EAAOP,IACT9e,SAGV,CACLgf,KAAM,WACJc,SAAgDA,IAChDb,EAAeD,MACjB,EAEJ,CC3GA,SAASyB,GAAkB5gB,EAAU6gB,GACnC,OAAOA,EAAgB7gB,GAAY,IAAO6gB,GAAiB,CAC7D,CCIA,IAAIC,GAAwB,SAA+BC,GACzD,OAAiB,IAAVA,CACT,ECPIpe,GAAI,SAAWqe,EAAIC,GACrB,OAAO,EAAM,EAAMA,EAAK,EAAMD,CAChC,EACIpe,GAAI,SAAWoe,EAAIC,GACrB,OAAO,EAAMA,EAAK,EAAMD,CAC1B,EACIlM,GAAI,SAAWkM,GACjB,OAAO,EAAMA,CACf,EACIE,GAAa,SAAoBrK,EAAGmK,EAAIC,GAC1C,QAASte,GAAEqe,EAAIC,GAAMpK,EAAIjU,GAAEoe,EAAIC,IAAOpK,EAAI/B,GAAEkM,IAAOnK,CACrD,EACIsK,GAAW,SAAkBtK,EAAGmK,EAAIC,GACtC,OAAO,EAAMte,GAAEqe,EAAIC,GAAMpK,EAAIA,EAAI,EAAMjU,GAAEoe,EAAIC,GAAMpK,EAAI/B,GAAEkM,EAC3D,EA+BA,IACII,GAAkB,GACtB,SAASC,GAAYC,EAAKC,EAAKC,EAAKC,GAClC,GAAIH,IAAQC,GAAOC,IAAQC,EAAK,OAAOxE,GAEvC,IADA,IAAIyE,EAAe,IAAIC,aAJF,IAKZzjC,EAAI,EAAGA,EALK,KAKmBA,EACtCwjC,EAAaxjC,GAAKgjC,GAAWhjC,EAAIkjC,GAAiBE,EAAKE,GAEzD,SAASI,EAASC,GAIhB,IAHA,IAAIC,EAAgB,EAChBC,EAAgB,EACHC,KACVD,GAAgCL,EAAaK,IAAkBF,IAAME,EAC1ED,GAAiBV,KAEjBW,EACF,IACIE,EAAYH,GADJD,EAAKH,EAAaK,KAAmBL,EAAaK,EAAgB,GAAKL,EAAaK,IACzDX,GACnCc,EAAef,GAASc,EAAWX,EAAKE,GAC5C,OAAIU,GA/Ba,KACrB,SAA8BL,EAAIM,EAASb,EAAKE,GAC9C,IAAK,IAAItjC,EAAI,EAAGA,EAHK,IAGmBA,EAAG,CACzC,IAAIkkC,EAAejB,GAASgB,EAASb,EAAKE,GAC1C,GAAqB,IAAjBY,EACF,OAAOD,EAGTA,IADejB,GAAWiB,EAASb,EAAKE,GAAOK,GACzBO,CACxB,CACA,OAAOD,CACT,CAqBaE,CAAqBR,EAAII,EAAWX,EAAKE,GACtB,IAAjBU,EACFD,EAlDb,SAAyBJ,EAAIS,EAAIC,EAAIjB,EAAKE,GACxC,IAAIgB,EACAC,EACAvkC,EAAI,EACR,IAEEskC,EAAWtB,GADXuB,EAAWH,GAAMC,EAAKD,GAAM,EACIhB,EAAKE,GAAOK,GAC7B,EACbU,EAAKE,EAELH,EAAKG,QAEA1e,KAAK4S,IAAI6L,GAdO,QAc+BtkC,EAb3B,IAc7B,OAAOukC,CACT,CAsCaC,CAAgBb,EAAIC,EAAeA,EAAgBV,GAAiBE,EAAKE,EAEpF,CACA,OAAO,SAAU3K,GACf,OAAa,IAANA,GAAiB,IAANA,EAAUA,EAAIqK,GAAWU,EAAS/K,GAAI0K,EAAKE,EAC/D,CACF,CCzEA,IAAIkB,GAAe,CACjB1F,OAAQA,GACRrrB,OAAQA,GACRE,UAAWA,GACXD,QAASA,GACTqrB,OAAQA,GACRG,UAAWA,GACXD,QAASA,GACTE,OAAQA,GACRE,UAAWA,GACXD,QAASA,GACTE,WAAYA,GACZK,SAAUA,GACV8E,YTagB,SAAqBrlB,GACrC,OAAOA,EAAI,GAAM,IAAO,EAAMqgB,GAAU,EAAU,EAAJrgB,IAAY,GAAMqgB,GAAc,EAAJrgB,EAAU,GAAO,EAC7F,ESdEqgB,UAAWA,IAETiF,GAA6B,SAAoCpjB,GACnE,GAAIhE,MAAM6D,QAAQG,GAAa,CAEnBA,EAAWrhB,OACrB,IAAIuY,GAAK,QAAO8I,EAAY,GAK5B,OAAO4hB,GAJA1qB,EAAG,GACHA,EAAG,GACHA,EAAG,GACHA,EAAG,GAEZ,CAAO,MAA0B,iBAAf8I,EAGTkjB,GAAaljB,GAEfA,CACT,ECxBIqjB,GAAe,SAAsBxkC,EAAK4D,GAE5C,MAAY,WAAR5D,MAIiB,iBAAV4D,IAAsBuZ,MAAM6D,QAAQpd,OAC1B,iBAAVA,IAEXq4B,GAAQjY,KAAKpgB,IAEZA,EAAMwhB,WAAW,SAKpB,ECzBIqf,GAAoB,WACtB,MAAO,CACL3+B,KAAM,SACNoR,UAAW,IACXD,QAAS,GACTugB,UAAW,GACXD,UAAW,GAEf,EACImN,GAAyB,SAAgCpN,GAC3D,MAAO,CACLxxB,KAAM,SACNoR,UAAW,IACXD,QAAgB,IAAPqgB,EAAW,EAAI7R,KAAKwR,KAAK,KAAO,GACzCO,UAAW,IACXD,UAAW,GAEf,EACIoN,GAAc,WAChB,MAAO,CACL7+B,KAAM,YACNuN,KAAM,SACNW,SAAU,GAEd,EACI,GAAY,SAAmByb,GACjC,MAAO,CACL3pB,KAAM,YACNkO,SAAU,GACVyb,OAAQA,EAEZ,EACIrb,GAAqB,CACvBtB,EAAG2xB,GACHzxB,EAAGyxB,GACHxf,EAAGwf,GACH7c,OAAQ6c,GACR5c,QAAS4c,GACT3c,QAAS2c,GACT1c,QAAS0c,GACTzc,OAAQ0c,GACRzc,OAAQyc,GACR9tB,MAAO8tB,GACPt9B,QAASu9B,GACTC,gBAAiBD,GACjBxgC,MAAOwgC,GACP7d,QAAS4d,IC7CPG,GAAc,IAAI1pB,IAAI,CAAC,aAAc,WAAY,WAAY,YACjE,SAAS2pB,GAAmB/jB,GAC1B,IAAI1I,EAAK0I,EAAEgkB,MAAM,GAAI,GAAG3e,MAAM,KAC5BxjB,EAAOyV,EAAG,GACVzU,EAAQyU,EAAG,GACb,GAAa,gBAATzV,EAAwB,OAAOme,EACnC,IAAI6F,GAAUhjB,EAAM81B,MAAM7T,IAAe,IAAI,GAC7C,IAAKe,EAAQ,OAAO7F,EACpB,IAAImF,EAAOtiB,EAAMsqB,QAAQtH,EAAQ,IAC7Boe,EAAeH,GAAY9oB,IAAInZ,GAAQ,EAAI,EAE/C,OADIgkB,IAAWhjB,IAAOohC,GAAgB,KAC/BpiC,EAAO,IAAMoiC,EAAe9e,EAAO,GAC5C,CACA,IAAI+e,GAAgB,oBAChBC,IAAS,SAAS,QAAS,CAAC,EAAGjJ,IAAU,CAC3CC,kBAAmB,SAA2Bnb,GAC5C,IAAIokB,EAAYpkB,EAAE2Y,MAAMuL,IACxB,OAAOE,EAAYA,EAAUvzB,IAAIkzB,IAAoBtiB,KAAK,KAAOzB,CACnE,ICdEqkB,IAAoB,SAAS,QAAS,CAAC,EAAGpe,IAAmB,CAE/D7iB,MAAOA,GACPygC,gBAAiBzgC,GACjBkhC,aAAclhC,GACd8D,KAAM9D,GACN2D,OAAQ3D,GAERlC,YAAakC,GACbmhC,eAAgBnhC,GAChBohC,iBAAkBphC,GAClB9B,kBAAmB8B,GACnB7B,gBAAiB6B,GACjB+gC,OAAQA,GACRM,aAAcN,KAKZO,GAAsB,SAA6BzlC,GACrD,OAAOolC,GAAkBplC,EAC3B,EC1BA,SAAS,GAAkBA,EAAK4D,GAC9B,IAAIyU,EACAqtB,EAAmBD,GAAoBzlC,GAG3C,OAFI0lC,IAAqBR,KAAQQ,EAAmBzJ,IAEC,QAA7C5jB,EAAKqtB,EAAiBxJ,yBAAsC,IAAP7jB,OAAgB,EAASA,EAAGlY,KAAKulC,EAAkB9hC,EAClH,CCuBA,SAAS+hC,GAAoCttB,GAC3C,IAAIhF,EAAOgF,EAAGhF,KACZssB,EAAQtnB,EAAGsnB,MACXiG,EAAOvtB,EAAGutB,KACVC,EAAOxtB,EAAGwtB,KACVC,EAAOztB,EAAGytB,KACV5xB,GAAa,QAAOmE,EAAI,CAAC,OAAQ,QAAS,OAAQ,OAAQ,SACxDrH,GAAU,QAAS,CAAC,EAAGkD,GAsC3B,OArCIyrB,IAAO3uB,EAAgB,OAAI2uB,GAI3BzrB,EAAWF,WAAUhD,EAAkB,SAAIwxB,GAAsBtuB,EAAWF,WAC5EE,EAAWutB,cAAazwB,EAAQywB,YAAce,GAAsBtuB,EAAWutB,cAI/EpuB,IACFrC,EAAc,KNbE,SAAuBqC,GACzC,OAAO8J,MAAM6D,QAAQ3N,IAA4B,iBAAZA,EAAK,EAC5C,CMWsB0yB,CAAc1yB,GAAQA,EAAKzB,IAAI2yB,IAA8BA,GAA2BlxB,IAKpF,UAApBa,EAAWpO,OAAkBkL,EAAQlL,KAAO,cAI5C8/B,GAAQE,GAAQD,MAEI,EAClBD,EACF50B,EAAQuwB,WAAa,UACZuE,EACT90B,EAAQuwB,WAAa,OACZsE,IACT70B,EAAQuwB,WAAa,UAEvBvwB,EAAQowB,OAAS0E,GAAQF,GAAQC,GAAQ3xB,EAAWktB,QAO9B,WAApBltB,EAAWpO,OAAmBkL,EAAQlL,KAAO,aAC1CkL,CACT,CAgBA,SAASg1B,GAA6B9xB,EAAYlD,EAAShR,GACzD,IAAIqY,EJ5CmD4tB,EAAU3O,EAC7D4O,EIsDJ,OAVI/oB,MAAM6D,QAAQhQ,EAAQsmB,MACO,QAA9Bjf,EAAKnE,EAAWF,gBAA6B,IAAPqE,IAAqBnE,EAAWF,SAAW,KAVtF,SAA0BhD,GACpBmM,MAAM6D,QAAQhQ,EAAQsmB,KAAyB,OAAlBtmB,EAAQsmB,GAAG,KAC1CtmB,EAAQsmB,IAAK,QAAc,IAAI,QAAOtmB,EAAQsmB,KAC9CtmB,EAAQsmB,GAAG,GAAKtmB,EAAQoM,KAG5B,CAME+oB,CAAiBn1B,GApFnB,SAA6BqH,GAC3BA,EAAG+tB,KACH/tB,EAAGlE,MACHkE,EAAGguB,cACHhuB,EAAGiuB,gBACHjuB,EAAGkuB,iBACHluB,EAAG+oB,OACH/oB,EAAGkpB,WACHlpB,EAAGopB,YACHppB,EAAG+E,KACH,IAAIlJ,GAAa,QAAOmE,EAAI,CAAC,OAAQ,QAAS,gBAAiB,kBAAmB,mBAAoB,SAAU,aAAc,cAAe,SAC7I,QAAS5Y,OAAOiC,KAAKwS,GAAYpU,MACnC,CA4EO0mC,CAAoBtyB,KACvBA,GAAa,SAAS,QAAS,CAAC,EAAGA,IJrDkB+xB,EIqDgBjmC,EJrDNs3B,EIqDWtmB,EAAQsmB,GJlDlF4O,EADEpX,GAAkBwI,GACA,GAEAljB,GAAmB6xB,IAAa7xB,GAAmB0S,SAElE,QAAS,CACdwQ,GAAIA,GACH4O,EAAkB5O,QI8Cd,SAAS,QAAS,CAAC,EAAGtmB,GAAU20B,GAAoCzxB,GAC7E,CAIA,SAASuyB,GAAazmC,EAAK4D,EAAOjE,EAAQuU,EAAY0tB,GACpD,IAAIvpB,EACAquB,EAAkBC,GAAmBzyB,EAAYlU,GACjDisB,EAAyC,QAA/B5T,EAAKquB,EAAgBtpB,YAAyB,IAAP/E,EAAgBA,EAAKzU,EAAM6X,MAC5EmrB,EAAqBpC,GAAaxkC,EAAKL,GAC5B,SAAXssB,GAAqB2a,GAAwC,iBAAXjnC,EAKpDssB,EAAS,GAAkBjsB,EAAKL,GACvBknC,GAAO5a,IAA6B,iBAAXtsB,EAClCssB,EAAS6a,GAAYnnC,IACXwd,MAAM6D,QAAQrhB,IAAWknC,GAAOlnC,IAA6B,iBAAXssB,IAC5DtsB,EAASmnC,GAAY7a,IAEvB,IAAI8a,EAAqBvC,GAAaxkC,EAAKisB,GAkC3C,OAAQ8a,GAAuBH,IAA+C,IAAzBF,EAAgB5gC,KAhCrE,WACE,IAAIkL,EAAU,CACZoM,KAAM6O,EACNqL,GAAI33B,EACJ+hB,SAAU9d,EAAM+d,cAChBigB,WAAYA,EACZE,SAAU,SAAkB/gB,GAC1B,OAAOnd,EAAMkV,IAAIiI,EACnB,GAEF,MAAgC,YAAzB2lB,EAAgB5gC,MAA+C,UAAzB4gC,EAAgB5gC,KCtIjE,SAAiBuS,GACf,IAoBI2uB,EApBAvtB,EAAKpB,EAAG+E,KACVA,OAAc,IAAP3D,EAAgB,EAAIA,EAC3BE,EAAKtB,EAAGqJ,SACRA,OAAkB,IAAP/H,EAAgB,EAAIA,EAC/B4L,EAAMlN,EAAGkN,IACTC,EAAMnN,EAAGmN,IACTiF,EAAKpS,EAAGimB,MACRA,OAAe,IAAP7T,EAAgB,GAAMA,EAC9BwL,EAAK5d,EAAG8nB,aACRA,OAAsB,IAAPlK,EAAgB,IAAMA,EACrCmK,EAAK/nB,EAAG4uB,gBACRA,OAAyB,IAAP7G,EAAgB,IAAMA,EACxCe,EAAK9oB,EAAG6uB,cACRA,OAAuB,IAAP/F,EAAgB,GAAKA,EACrCG,EAAKjpB,EAAGmf,UACRA,OAAmB,IAAP8J,EAAgB,EAAIA,EAChCjB,EAAehoB,EAAGgoB,aAClBa,EAAS7oB,EAAG6oB,OACZiG,EAAY9uB,EAAGypB,SACfF,EAAavpB,EAAGupB,WAElB,SAASwF,EAAcrmB,GACrB,YAAeha,IAARwe,GAAqBxE,EAAIwE,QAAexe,IAARye,GAAqBzE,EAAIyE,CAClE,CACA,SAAS6hB,EAAgBtmB,GACvB,YAAYha,IAARwe,EAA0BC,OAClBze,IAARye,GACGC,KAAK4S,IAAI9S,EAAMxE,GAAK0E,KAAK4S,IAAI7S,EAAMzE,GADZwE,EACuBC,CACvD,CACA,SAAS8hB,EAAet2B,GACtBg2B,SAAoEA,EAAiBnG,OACrFmG,EAAmB9wB,IAAQ,SAAS,QAAS,CAAC,EAAGlF,GAAU,CACzDkwB,OAAQA,EACRY,SAAU,SAAkB/gB,GAC1B,IAAI1I,EACJ8uB,SAAsDA,EAAUpmB,GACpC,QAA3B1I,EAAKrH,EAAQ8wB,gBAA6B,IAAPzpB,GAAyBA,EAAGlY,KAAK6Q,EAAS+P,EAChF,EACA6gB,WAAYA,IAEhB,CACA,SAAS2F,EAAYv2B,GACnBs2B,GAAe,QAAS,CACtBxhC,KAAM,SACNoR,UAAW+vB,EACXhwB,QAASiwB,EACT1P,UAAWA,GACVxmB,GACL,CACA,GAAIo2B,EAAchqB,GAChBmqB,EAAY,CACVnqB,KAAMA,EACNsE,SAAUA,EACV4V,GAAI+P,EAAgBjqB,SAEjB,CACL,IAAIzd,EAAS2+B,EAAQ5c,EAAWtE,OACJ,IAAjBijB,IAA8B1gC,EAAS0gC,EAAa1gC,IAC/D,IAEI6nC,EACAC,EAHAC,EAAaL,EAAgB1nC,GAC7BgoC,EAAYD,IAAeniB,GAAO,EAAI,EAe1C+hB,EAAe,CACbxhC,KAAM,QACNsX,KAAMA,EACNsE,SAAUA,EACVye,aAAcA,EACd7B,MAAOA,EACP9G,UAAWA,EACX6I,aAAcA,EACdyB,SAAUsF,EAAcznC,GApBN,SAAuBohB,GACzCymB,EAASC,EACTA,EAAY1mB,EACZW,EAAW4gB,GAAkBvhB,EAAIymB,GAAQ,WAAelR,QACtC,IAAdqR,GAAmB5mB,EAAI2mB,IAA6B,IAAfC,GAAoB5mB,EAAI2mB,IAC/DH,EAAY,CACVnqB,KAAM2D,EACNuW,GAAIoQ,EACJhmB,SAAUA,GAGhB,OASoD3a,GAEtD,CACA,MAAO,CACL85B,KAAM,WACJ,OAAOmG,aAA2D,EAASA,EAAiBnG,MAC9F,EAEJ,CD2CoF+G,EAAQ,SAAS,QAAS,CAAC,EAAG52B,GAAU01B,IAAoBxwB,IAAQ,SAAS,QAAS,CAAC,EAAG8vB,GAA6BU,EAAiB11B,EAAShR,IAAO,CACtO8hC,SAAU,SAAkB/gB,GAC1B,IAAI1I,EACJrH,EAAQ8wB,SAAS/gB,GACmB,QAAnC1I,EAAKquB,EAAgB5E,gBAA6B,IAAPzpB,GAAyBA,EAAGlY,KAAKumC,EAAiB3lB,EAChG,EACA6gB,WAAY,WACV,IAAIvpB,EACJrH,EAAQ4wB,aAC8B,QAArCvpB,EAAKquB,EAAgB9E,kBAA+B,IAAPvpB,GAAyBA,EAAGlY,KAAKumC,EACjF,IAEJ,EACA,WACE,IAAIruB,EAIJ,OAHAzU,EAAMkV,IAAInZ,GACViiC,IACwG,QAAvGvpB,EAAKquB,aAAyD,EAASA,EAAgB9E,kBAA+B,IAAPvpB,GAAyBA,EAAGlY,KAAKumC,GAC1I,CACL7F,KAAM,WAAiB,EAE3B,CAEF,CACA,SAASgG,GAAOjjC,GACd,OAAiB,IAAVA,GAAgC,iBAAVA,GAA4C,IAAtBmS,WAAWnS,KAAwC,IAAxBA,EAAMjC,QAAQ,IAC9F,CACA,SAASmlC,GAAYe,GACnB,MAAoC,iBAAtBA,EAAiC,EAAI,GAAkB,GAAIA,EAC3E,CACA,SAASlB,GAAmBzyB,EAAYlU,GACtC,OAAOkU,EAAWlU,IAAQkU,EAAoB,SAAKA,CACrD,CAOA,SAASozB,GAAetnC,EAAK4D,EAAOjE,EAAQuU,GAI1C,YAHmB,IAAfA,IACFA,EAAa,CAAC,GAETtQ,EAAMie,OAAM,SAAU+f,GAC3B,IAAIkG,EACAC,EACAxlC,EAAYkkC,GAAazmC,EAAK4D,EAAOjE,EAAQuU,EAAY0tB,GACzDztB,EAxGR,SAAgCD,EAAYlU,GAC1C,IAAIqY,EAEJ,OAAwC,QAAhCA,GADcsuB,GAAmBzyB,EAAYlU,IAAQ,CAAC,GACjCmU,aAA0B,IAAPkE,EAAgBA,EAAK,CACvE,CAoGgB2vB,CAAuB9zB,EAAYlU,GAC3C6hB,EAAQ,WACV,OAAOkmB,EAAWxlC,GACpB,EAMA,OALI4R,EACF2zB,EAAaryB,WAAWoM,EAAO2gB,GAAsBruB,IAErD0N,IAEK,WACLnM,aAAaoyB,GACbC,SAAoDA,EAASlH,MAC/D,CACF,GACF,CEvMA,SAASoH,GAAcC,EAAKt4B,IACH,IAAvBs4B,EAAIvmC,QAAQiO,IAAgBs4B,EAAIptB,KAAKlL,EACvC,CACA,SAASu4B,GAAWD,EAAKt4B,GACvB,IAAIiC,EAAQq2B,EAAIvmC,QAAQiO,GACxBiC,GAAS,GAAKq2B,EAAIvsB,OAAO9J,EAAO,EAClC,CCLA,IAAIu2B,GAAmC,WACrC,SAASA,IACP/nC,KAAKgoC,cAAgB,EACvB,CAiCA,OAhCAD,EAAoBnoC,UAAUub,IAAM,SAAUgV,GAC5C,IAAI8X,EAAQjoC,KAEZ,OADA4nC,GAAc5nC,KAAKgoC,cAAe7X,GAC3B,WACL,OAAO2X,GAAWG,EAAMD,cAAe7X,EACzC,CACF,EACA4X,EAAoBnoC,UAAUsoC,OAAS,SAAUlkB,EAAGC,EAAGkS,GACrD,IAAIgS,EAAmBnoC,KAAKgoC,cAAcvoC,OAC1C,GAAK0oC,EACL,GAAyB,IAArBA,EAIFnoC,KAAKgoC,cAAc,GAAGhkB,EAAGC,EAAGkS,QAE5B,IAAK,IAAI52B,EAAI,EAAGA,EAAI4oC,EAAkB5oC,IAAK,CAKzC,IAAI4wB,EAAUnwB,KAAKgoC,cAAczoC,GACjC4wB,GAAWA,EAAQnM,EAAGC,EAAGkS,EAC3B,CAEJ,EACA4R,EAAoBnoC,UAAUwoC,QAAU,WACtC,OAAOpoC,KAAKgoC,cAAcvoC,MAC5B,EACAsoC,EAAoBnoC,UAAU0d,MAAQ,WACpCtd,KAAKgoC,cAAcvoC,OAAS,CAC9B,EACOsoC,CACT,CArCuC,GCUnCM,GAA2B,WAS7B,SAASA,EAAYC,GACnB,IAlB2B/kC,EAkBvB0kC,EAAQjoC,KAMZA,KAAKuoC,UAAY,EAMjBvoC,KAAKwoC,YAAc,EAMnBxoC,KAAKyoC,kBAAoB,IAAIV,GAM7B/nC,KAAK0oC,0BAA4B,IAAIX,GAMrC/nC,KAAK2oC,kBAAoB,IAAIZ,GAQ7B/nC,KAAK4oC,kBAAmB,EACxB5oC,KAAK6oC,gBAAkB,SAAUnoB,EAAGooB,QACnB,IAAXA,IACFA,GAAS,GAEXb,EAAM5S,KAAO4S,EAAMpuB,QACnBouB,EAAMpuB,QAAU6G,EAEhB,IAAI1I,GAAK,WACPie,EAAQje,EAAGie,MACX8S,EAAY/wB,EAAG+wB,UACbd,EAAMO,cAAgBO,IACxBd,EAAMM,UAAYtS,EAClBgS,EAAMO,YAAcO,EACpB,iBAAgBd,EAAMe,wBAGpBf,EAAM5S,OAAS4S,EAAMpuB,SACvBouB,EAAMQ,kBAAkBP,OAAOD,EAAMpuB,SAGnCouB,EAAMS,0BAA0BN,WAClCH,EAAMS,0BAA0BR,OAAOD,EAAM3mB,eAG3CwnB,GACFb,EAAMU,kBAAkBT,OAAOD,EAAMpuB,QAEzC,EASA7Z,KAAKgpC,sBAAwB,WAC3B,OAAO,iBAAgBf,EAAMgB,cAC/B,EAUAjpC,KAAKipC,cAAgB,SAAUjxB,GACbA,EAAG+wB,YACDd,EAAMO,cACtBP,EAAM5S,KAAO4S,EAAMpuB,QACnBouB,EAAMS,0BAA0BR,OAAOD,EAAM3mB,eAEjD,EACAthB,KAAKkpC,aAAc,EACnBlpC,KAAKq1B,KAAOr1B,KAAK6Z,QAAUyuB,EAC3BtoC,KAAK4oC,kBAlHsBrlC,EAkHKvD,KAAK6Z,SAjH/B8c,MAAMjhB,WAAWnS,IAkHzB,CAwNA,OAzIA8kC,EAAYzoC,UAAUupC,SAAW,SAAUC,GACzC,OAAOppC,KAAKyoC,kBAAkBttB,IAAIiuB,EACpC,EACAf,EAAYzoC,UAAUypC,eAAiB,WACrCrpC,KAAKyoC,kBAAkBnrB,OACzB,EASA+qB,EAAYzoC,UAAU0pC,gBAAkB,SAAUF,GAGhD,OADAA,EAAappC,KAAKob,OACXpb,KAAK2oC,kBAAkBxtB,IAAIiuB,EACpC,EAMAf,EAAYzoC,UAAU2pC,OAAS,SAAUC,GACvCxpC,KAAKwpC,cAAgBA,CACvB,EAgBAnB,EAAYzoC,UAAU6Y,IAAM,SAAUiI,EAAGooB,QACxB,IAAXA,IACFA,GAAS,GAENA,GAAW9oC,KAAKwpC,cAGnBxpC,KAAKwpC,cAAc9oB,EAAG1gB,KAAK6oC,iBAF3B7oC,KAAK6oC,gBAAgBnoB,EAAGooB,EAI5B,EAQAT,EAAYzoC,UAAUwb,IAAM,WAC1B,OAAOpb,KAAK6Z,OACd,EAIAwuB,EAAYzoC,UAAU6pC,YAAc,WAClC,OAAOzpC,KAAKq1B,IACd,EAQAgT,EAAYzoC,UAAU0hB,YAAc,WAElC,OAAOthB,KAAK4oC,iBAEZ3G,GAAkBvsB,WAAW1V,KAAK6Z,SAAWnE,WAAW1V,KAAKq1B,MAAOr1B,KAAKuoC,WAAa,CACxF,EAaAF,EAAYzoC,UAAU4hB,MAAQ,SAAUtf,GACtC,IAAI+lC,EAAQjoC,KAEZ,OADAA,KAAKwgC,OACE,IAAIkJ,SAAQ,SAAUC,GAC3B1B,EAAMiB,aAAc,EACpBjB,EAAM2B,cAAgB1nC,EAAUynC,EAClC,IAAGE,MAAK,WACN,OAAO5B,EAAM6B,gBACf,GACF,EAMAzB,EAAYzoC,UAAU4gC,KAAO,WACvBxgC,KAAK4pC,eAAe5pC,KAAK4pC,gBAC7B5pC,KAAK8pC,gBACP,EAMAzB,EAAYzoC,UAAUmqC,YAAc,WAClC,QAAS/pC,KAAK4pC,aAChB,EACAvB,EAAYzoC,UAAUkqC,eAAiB,WACrC9pC,KAAK4pC,cAAgB,IACvB,EAUAvB,EAAYzoC,UAAUoqC,QAAU,WAC9BhqC,KAAKyoC,kBAAkBnrB,QACvBtd,KAAK2oC,kBAAkBrrB,QACvBtd,KAAKwgC,MACP,EACO6H,CACT,CApU+B,GAwU/B,SAAS4B,GAAY3B,GACnB,OAAO,IAAID,GAAYC,EACzB,CClVA,IAAI4B,GAAgB,SAAuBxpB,GACzC,OAAO,SAAUjb,GACf,OAAOA,EAAKke,KAAKjD,EACnB,CACF,ECAIypB,GAAsB,CAAC5jB,GAAQJ,EAAID,EAASD,EAASI,GAAID,GCJlD,CACTzC,KAAM,SAAcjD,GAClB,MAAa,SAANA,CACT,EACAsF,MAAO,SAAetF,GACpB,OAAOA,CACT,IDEE0pB,GAAyB,SAAgC1pB,GAC3D,OAAOypB,GAAoB3P,KAAK0P,GAAcxpB,GAChD,EELI2pB,IAAa,SAAc,QAAc,IAAI,QAAOF,KAAuB,CAACrmC,GAAO83B,KAInF0O,GAAgB,SAAuB5pB,GACzC,OAAO2pB,GAAW7P,KAAK0P,GAAcxpB,GACvC,ECDA,SAAS6pB,GAAe7qB,EAAe/f,EAAK4D,GACtCmc,EAAc8qB,SAAS7qC,GACzB+f,EAAc+qB,SAAS9qC,GAAK8Y,IAAIlV,GAEhCmc,EAAcgrB,SAAS/qC,EAAKsqC,GAAY1mC,GAE5C,CACA,SAASonC,GAAUjrB,EAAeoB,GAChC,IAAI2O,EAAWxO,EAAevB,EAAeoB,GACzC9I,EAAKyX,EAAW/P,EAAckrB,qBAAqBnb,GAAU,GAAS,CAAC,EACzErW,EAAKpB,EAAG5D,cACRA,OAAuB,IAAPgF,EAAgB,CAAC,EAAIA,EACvCpB,EAAGnE,WACH,I3DtBuE6M,E2DsBnEphB,GAAS,QAAO0Y,EAAI,CAAC,gBAAiB,eAE1C,IAAK,IAAIrY,KADTL,GAAS,SAAS,QAAS,CAAC,EAAGA,GAAS8U,GAChB,CAEtBm2B,GAAe7qB,EAAe/f,G3D1BuC+gB,E2DyB5BphB,EAAOK,G3DvB3C8uB,GAAkB/N,GAAKA,EAAEA,EAAEjhB,OAAS,IAAM,EAAIihB,G2DyBrD,CACF,CAgEA,SAASmqB,GAAwBlrC,EAAKkU,GACpC,GAAKA,EAEL,OADsBA,EAAWlU,IAAQkU,EAAoB,SAAKA,GAC3CkJ,IACzB,CCvEA,SAAS+tB,GAAeprB,EAAe7c,EAAS8N,GAC9C,IAAIqH,OACY,IAAZrH,IACFA,EAAU,CAAC,GAEb,IAAI8e,EAAWxO,EAAevB,EAAe7c,EAAS8N,EAAQgF,QAC1DyD,GAAMqW,GAAY,CAAC,GAAG5b,WACxBA,OAAoB,IAAPuF,EAAgBsG,EAAcqrB,wBAA0B,CAAC,EAAI3xB,EACxEzI,EAAQq6B,qBACVn3B,EAAalD,EAAQq6B,oBAMvB,IAAI5E,EAAe3W,EAAW,WAC5B,OAAOwb,GAAcvrB,EAAe+P,EAAU9e,EAChD,EAAI,WACF,OAAO+4B,QAAQC,SACjB,EAKIuB,GAA+D,QAAxClzB,EAAK0H,EAAcyrB,uBAAoC,IAAPnzB,OAAgB,EAASA,EAAGrV,MAAQ,SAAUyoC,QAClG,IAAjBA,IACFA,EAAe,GAEjB,IAAIpzB,EAAKnE,EAAWmyB,cAClBA,OAAuB,IAAPhuB,EAAgB,EAAIA,EACpCiuB,EAAkBpyB,EAAWoyB,gBAC7BC,EAAmBryB,EAAWqyB,iBAChC,OAmDJ,SAAyBxmB,EAAe7c,EAASmjC,EAAeC,EAAiBC,EAAkBv1B,QAC3E,IAAlBq1B,IACFA,EAAgB,QAEM,IAApBC,IACFA,EAAkB,QAEK,IAArBC,IACFA,EAAmB,GAErB,IAAImF,EAAa,GACbC,GAAsB5rB,EAAcyrB,gBAAgBxoC,KAAO,GAAKsjC,EAChEsF,EAA+C,IAArBrF,EAAyB,SAAU3mC,GAI/D,YAHU,IAANA,IACFA,EAAI,GAECA,EAAI0mC,CACb,EAAI,SAAU1mC,GAIZ,YAHU,IAANA,IACFA,EAAI,GAEC+rC,EAAqB/rC,EAAI0mC,CAClC,EAQA,OAPAnpB,MAAMC,KAAK2C,EAAcyrB,iBAAiBnuB,KAAKwuB,IAAiB7yB,SAAQ,SAAU5P,EAAOxJ,GACvF8rC,EAAW5wB,KAAKqwB,GAAe/hC,EAAOlG,GAAS,SAAS,QAAS,CAAC,EAAG8N,GAAU,CAC7EmD,MAAOkyB,EAAgBuF,EAAwBhsC,MAC7CsqC,MAAK,WACP,OAAO9gC,EAAM0iC,wBAAwB5oC,EACvC,IACF,IACO6mC,QAAQgC,IAAIL,EACrB,CAlFWM,CAAgBjsB,EAAe7c,EAASmjC,EAAgBoF,EAAcnF,EAAiBC,EAAkBv1B,EAClH,EAAI,WACF,OAAO+4B,QAAQC,SACjB,EAKI5D,EAAOlyB,EAAWkyB,KACtB,GAAIA,EAAM,CACR,IAAIzsB,GAAK,QAAgB,mBAATysB,EAA4B,CAACK,EAAc8E,GAAsB,CAACA,EAAoB9E,GAAe,GACnHwF,EAAQtyB,EAAG,GACXuyB,EAAOvyB,EAAG,GACZ,OAAOsyB,IAAQ/B,KAAKgC,EACtB,CACE,OAAOnC,QAAQgC,IAAI,CAACtF,IAAgB8E,EAAmBv6B,EAAQmD,QAEnE,CAIA,SAASm3B,GAAcvrB,EAAeoB,EAAY9I,GAChD,IAAIoB,EACAE,OAAY,IAAPtB,EAAgB,CAAC,EAAIA,EAC5BoS,EAAK9Q,EAAGxF,MACRA,OAAe,IAAPsW,EAAgB,EAAIA,EAC5B4gB,EAAqB1xB,EAAG0xB,mBACxBvlC,EAAO6T,EAAG7T,KACRmwB,EAAKlW,EAAckrB,qBAAqB9pB,GAC1Cif,EAAKnK,EAAG/hB,WACRA,OAAoB,IAAPksB,EAAgBrgB,EAAcqrB,uBAAyBhL,EACpE3rB,EAAgBwhB,EAAGxhB,cACnB9U,GAAS,QAAOs2B,EAAI,CAAC,aAAc,kBACjCoV,IAAoBn3B,EAAam3B,GACrC,IAAIK,EAAa,GACbS,EAAqBrmC,IAAiD,QAAvC2T,EAAKsG,EAAcW,sBAAmC,IAAPjH,OAAgB,EAASA,EAAG2yB,WAAWtmC,IACzH,IAAK,IAAI9F,KAAOL,EAAQ,CACtB,IAAIiE,EAAQmc,EAAc+qB,SAAS9qC,GAC/BqsC,EAAc1sC,EAAOK,GACzB,MAAK4D,QAAyBmD,IAAhBslC,GAA6BF,GAAsBG,GAAqBH,EAAoBnsC,IAA1G,CAGA,IAAIuC,EAAY+kC,GAAetnC,EAAK4D,EAAOyoC,GAAa,QAAS,CAC/Dl4B,MAAOA,GACND,IACHw3B,EAAW5wB,KAAKvY,EAJhB,CAKF,CACA,OAAOwnC,QAAQgC,IAAIL,GAAYxB,MAAK,WAClCz1B,GAAiBu2B,GAAUjrB,EAAetL,EAC5C,GACF,CAsCA,SAASo3B,GAAgBxnB,EAAGC,GAC1B,OAAOD,EAAEkoB,iBAAiBjoB,EAC5B,CAOA,SAASgoB,GAAqBj0B,EAAIrY,GAChC,IAAIwsC,EAAgBn0B,EAAGm0B,cACrBC,EAAiBp0B,EAAGo0B,eAClBC,EAAcF,EAActsC,eAAeF,KAAgC,IAAxBysC,EAAezsC,GAEtE,OADAysC,EAAezsC,IAAO,EACf0sC,CACT,CC7JA,IAAIC,GAAuB,CAACvc,GAAcwc,QAASxc,GAAc0D,MAAO1D,GAAc6E,IAAK7E,GAAcyc,KAAMzc,GAAciF,MAAOjF,GAAc0c,MAC9IC,IAAuB,QAAc,IAAI,QAAOJ,KAAuBj2B,UACvEs2B,GAAoBL,GAAqB7sC,OAC7C,SAASmtC,GAAYltB,GACnB,OAAO,SAAU2rB,GACf,OAAO3B,QAAQgC,IAAIL,EAAW95B,KAAI,SAAUyG,GAC1C,IAAI9V,EAAY8V,EAAG9V,UACjByO,EAAUqH,EAAGrH,QACf,ODPN,SAA8B+O,EAAeoB,EAAYnQ,GAKvD,IAAIzO,EACJ,QALgB,IAAZyO,IACFA,EAAU,CAAC,GAEb+O,EAAcmtB,uBAEV/vB,MAAM6D,QAAQG,GAAa,CAC7B,IAAIuqB,EAAavqB,EAAWvP,KAAI,SAAU1O,GACxC,OAAOioC,GAAeprB,EAAe7c,EAAS8N,EAChD,IACAzO,EAAYwnC,QAAQgC,IAAIL,EAC1B,MAAO,GAA0B,iBAAfvqB,EAChB5e,EAAY4oC,GAAeprB,EAAeoB,EAAYnQ,OACjD,CACL,IAAIm8B,EAA2C,mBAAfhsB,EAA4BG,EAAevB,EAAeoB,EAAYnQ,EAAQgF,QAAUmL,EACxH5e,EAAY+oC,GAAcvrB,EAAeotB,EAAoBn8B,EAC/D,CACA,OAAOzO,EAAU2nC,MAAK,WACpB,OAAOnqB,EAAc+rB,wBAAwB3qB,EAC/C,GACF,CCbaisB,CAAqBrtB,EAAexd,EAAWyO,EACxD,IACF,CACF,CACA,SAASq8B,GAAqBttB,GAC5B,IAsSI1H,EAtSAnC,EAAU+2B,GAAYltB,GACtBmJ,IAsSG7Q,EAAK,CAAC,GAAM+X,GAAcwc,SAAWU,IAAgB,GAAOj1B,EAAG+X,GAAc0D,OAASwZ,KAAmBj1B,EAAG+X,GAAc6E,KAAOqY,KAAmBj1B,EAAG+X,GAAcyc,MAAQS,KAAmBj1B,EAAG+X,GAAciF,OAASiY,KAAmBj1B,EAAG+X,GAAc0c,MAAQQ,KAAmBj1B,GArS5Rk1B,EAAkB,CAAC,EACnB9yB,GAAkB,EAKlB+yB,EAA0B,SAAiCC,EAAKtsB,GAClE,IAAI2O,EAAWxO,EAAevB,EAAeoB,GAC7C,GAAI2O,EAAU,CACZA,EAAS5b,WACT,IAAIO,EAAgBqb,EAASrb,cAC3B9U,GAAS,QAAOmwB,EAAU,CAAC,aAAc,kBAC3C2d,GAAM,SAAS,SAAS,QAAS,CAAC,EAAGA,GAAM9tC,GAAS8U,EACtD,CACA,OAAOg5B,CACT,EAqBA,SAAS9sB,EAAe3P,EAAS08B,GAuL/B,IAtLA,IAAIr1B,EACA3X,EAAQqf,EAAcwB,WACtBhe,EAAUwc,EAAc4tB,mBAAkB,IAAS,CAAC,EAKpDjC,EAAa,GAKbkC,EAAc,IAAIzyB,IAMlB0yB,EAAkB,CAAC,EAKnBC,EAAsBC,IACtBC,EAAU,SAAiBpuC,GAC7B,IAAIkG,EAAOinC,GAAqBntC,GAC5BquC,EAAY/kB,EAAMpjB,GAClByc,EAA8B,QAAtBlK,EAAK3X,EAAMoF,UAA0B,IAAPuS,EAAgBA,EAAK9U,EAAQuC,GACnEooC,EAAgBjtB,EAAesB,GAK/B4rB,EAAcroC,IAAS4nC,EAAoBO,EAAU1oC,SAAW,MAChD,IAAhB4oC,IAAuBL,EAAsBluC,GAOjD,IAAIwuC,EAAc7rB,IAAShf,EAAQuC,IAASyc,IAAS7hB,EAAMoF,IAASooC,EAapE,GATIE,GAAe3zB,GAAmBsF,EAAcsuB,yBAClDD,GAAc,GAMhBH,EAAUzB,eAAgB,QAAS,CAAC,EAAGqB,IAItCI,EAAU1oC,UAA4B,OAAhB4oC,IAEtB5rB,IAAS0rB,EAAUK,UAEpBzf,GAAoBtM,IAAyB,kBAATA,EAClC,MAAO,WAOT,IAAIgsB,EAuKV,SAA6B7Y,EAAMD,GACjC,GAAoB,iBAATA,EACT,OAAOA,IAASC,EACX,GAAI5U,EAAgB2U,GACzB,OAAQD,GAAeC,EAAMC,GAE/B,OAAO,CACT,CA9K8B8Y,CAAoBP,EAAUK,SAAU/rB,IAEhEzc,IAAS4nC,GAAqBO,EAAU1oC,WAAa6oC,GAAeF,GAEpEtuC,EAAIkuC,GAAuBI,EAKvBO,EAAiBtxB,MAAM6D,QAAQuB,GAAQA,EAAO,CAACA,GAK/CmsB,EAAiBD,EAAepa,OAAOmZ,EAAyB,CAAC,IACjD,IAAhBW,IAAuBO,EAAiB,CAAC,GAU7C,IAAIj1B,EAAKw0B,EAAUU,mBACjBA,OAA4B,IAAPl1B,EAAgB,CAAC,EAAIA,EACxCm1B,GAAU,SAAS,QAAS,CAAC,EAAGD,GAAqBD,GACrDG,EAAgB,SAAuB7uC,GACzCuuC,GAAoB,EACpBX,EAAYz0B,OAAOnZ,GACnBiuC,EAAUxB,eAAezsC,IAAO,CAClC,EACA,IAAK,IAAIA,KAAO4uC,EAAS,CACvB,IAAInZ,EAAOiZ,EAAe1uC,GACtB01B,EAAOiZ,EAAmB3uC,GAE1B6tC,EAAgB3tC,eAAeF,KAI/By1B,IAASC,EAKP5G,GAAkB2G,IAAS3G,GAAkB4G,GAC1CF,GAAeC,EAAMC,GAOxBuY,EAAUzB,cAAcxsC,IAAO,EAN/B6uC,EAAc7uC,QAQE+G,IAAT0uB,EAEToZ,EAAc7uC,GAGd4tC,EAAYpyB,IAAIxb,QAEA+G,IAAT0uB,GAAsBmY,EAAY7xB,IAAI/b,GAK/C6uC,EAAc7uC,GAMdiuC,EAAUzB,cAAcxsC,IAAO,EAEnC,CAKAiuC,EAAUK,SAAW/rB,EACrB0rB,EAAUU,mBAAqBD,EAI3BT,EAAU1oC,WACZsoC,GAAkB,SAAS,QAAS,CAAC,EAAGA,GAAkBa,IAExDj0B,GAAmBsF,EAAcO,wBACnCiuB,GAAoB,GAOlBA,IAAsBH,GACxB1C,EAAW5wB,KAAK1a,MAAMsrC,GAAY,QAAc,IAAI,QAAO+C,EAAe78B,KAAI,SAAUrP,GACtF,MAAO,CACLA,UAAWA,EACXyO,SAAS,QAAS,CAChBlL,KAAMA,GACLkL,GAEP,MAEJ,EAOSpR,EAAI,EAAGA,EAAIotC,GAAmBptC,IACrCouC,EAAQpuC,GAQV,GANA2tC,GAAkB,QAAS,CAAC,EAAGM,GAM3BD,EAAY5qC,KAAM,CACpB,IAAI8rC,EAAsB,CAAC,EAC3BlB,EAAY50B,SAAQ,SAAUhZ,GAC5B,IAAI+uC,EAAiBhvB,EAAcivB,cAAchvC,QAC1B+G,IAAnBgoC,IACFD,EAAoB9uC,GAAO+uC,EAE/B,IACArD,EAAW5wB,KAAK,CACdvY,UAAWusC,GAEf,CACA,IAAIG,EAAgBr5B,QAAQ81B,EAAW5rC,QAKvC,OAJI2a,IAAqC,IAAlB/Z,EAAMyV,UAAsB4J,EAAcsuB,yBAC/DY,GAAgB,GAElBx0B,GAAkB,EACXw0B,EAAgB/4B,EAAQw1B,GAAc3B,QAAQC,SACvD,CAgBA,MAAO,CACLkF,WAvPF,SAAoBlvC,GAClB,YAAgC+G,IAAzBwmC,EAAgBvtC,EACzB,EAsPE2gB,eAAgBA,EAChBkT,UAfF,SAAmB/tB,EAAMP,EAAUyL,GACjC,IAAIqH,EAEJ,OAAI6Q,EAAMpjB,GAAMP,WAAaA,EAAiBwkC,QAAQC,WAEb,QAAxC3xB,EAAK0H,EAAcyrB,uBAAoC,IAAPnzB,GAAyBA,EAAGW,SAAQ,SAAU5P,GAC7F,IAAIiP,EACJ,OAAuC,QAA/BA,EAAKjP,EAAMsX,sBAAmC,IAAPrI,OAAgB,EAASA,EAAGwb,UAAU/tB,EAAMP,EAC7F,IACA2jB,EAAMpjB,GAAMP,SAAWA,EAChBob,EAAe3P,EAASlL,GACjC,EAKEqpC,mBAnPF,SAA4BC,GAC1Bl5B,EAAUk5B,EAAarvB,EACzB,EAkPEqsB,SAAU,WACR,OAAOljB,CACT,EAEJ,CASA,SAASokB,GAAgB/nC,GAIvB,YAHiB,IAAbA,IACFA,GAAW,GAEN,CACLA,SAAUA,EACVinC,cAAe,CAAC,EAChBC,eAAgB,CAAC,EACjBkC,mBAAoB,CAAC,EAEzB,CChTA,IAAIjD,GAAa,CACfnpC,UAAW+xB,IAAwB,SAAUjc,GAC3C,IAAI0H,EAAgB1H,EAAG0H,cACrB7J,EAAUmC,EAAGnC,QAMf6J,EAAcW,iBAAmBX,EAAcW,eAAiB2sB,GAAqBttB,IAIjF8O,GAAoB3Y,KACtB,IAAAiG,YAAU,WACR,OAAOjG,EAAQm5B,UAAUtvB,EAC3B,GAAG,CAAC7J,GAER,IACAvC,KAAM2gB,IAAwB,SAAU5zB,GACtC,IAAIsV,EAAStV,EAAMsV,OACjB+J,EAAgBrf,EAAMqf,cACpB1H,GAAK,SAAO,UAAe,GAC7BC,EAAYD,EAAG,GACfG,EAAiBH,EAAG,GAClB2H,GAAkB,IAAA1F,YAAWjB,EAAA,IACjC,IAAA8C,YAAU,WACR,IAAI9D,EAAIoB,EACJlX,EAAoD,QAAvC8V,EAAK0H,EAAcW,sBAAmC,IAAPrI,OAAgB,EAASA,EAAGwb,UAAUzD,GAAc0c,MAAOx0B,EAAW,CACpItC,OAA4G,QAAnGyD,EAAKuG,aAAyD,EAASA,EAAgBhK,cAA2B,IAAPyD,EAAgBA,EAAKzD,KAE1IsC,IAAc/V,SAAsDA,EAAU2nC,KAAK1xB,GACtF,GAAG,CAACF,GACN,KCzCEg3B,GAAU,SAAiB9d,GAC7B,OAAOA,EAAMtxB,eAAe,MAAQsxB,EAAMtxB,eAAe,IAC3D,ECDIqvC,GAAY,SAAmB/d,GACjC,OAAO8d,GAAQ9d,IAAUA,EAAMtxB,eAAe,IAChD,ECAIsvC,GAAa,SAAoBnrB,EAAGC,GACtC,OAAOmB,KAAK4S,IAAIhU,EAAIC,EACtB,EACA,SAASgE,GAASjE,EAAGC,GACnB,GAAI+X,GAAMhY,IAAMgY,GAAM/X,GACpB,OAAOkrB,GAAWnrB,EAAGC,GAChB,GAAIgrB,GAAQjrB,IAAMirB,GAAQhrB,GAAI,CACnC,IAAImrB,EAASD,GAAWnrB,EAAEvR,EAAGwR,EAAExR,GAC3B48B,EAASF,GAAWnrB,EAAErR,EAAGsR,EAAEtR,GAC3B28B,EAASJ,GAAUlrB,IAAMkrB,GAAUjrB,GAAKkrB,GAAWnrB,EAAEY,EAAGX,EAAEW,GAAK,EACnE,OAAOQ,KAAKwR,KAAKxR,KAAKiR,IAAI+Y,EAAQ,GAAKhqB,KAAKiR,IAAIgZ,EAAQ,GAAKjqB,KAAKiR,IAAIiZ,EAAQ,GAChF,CACF,CCJA,IAAIC,GAA0B,WAC5B,SAASA,EAAW/e,EAAOgf,EAAUx3B,GACnC,IAAIiwB,EAAQjoC,KAEV2e,QADc,IAAP3G,EAAgB,CAAC,EAAIA,GACJ2G,mBAkE1B,GA9DA3e,KAAKyvC,WAAa,KAIlBzvC,KAAK0vC,cAAgB,KAIrB1vC,KAAK2vC,kBAAoB,KAIzB3vC,KAAKwvC,SAAW,CAAC,EACjBxvC,KAAK4vC,YAAc,WACjB,GAAM3H,EAAMyH,eAAiBzH,EAAM0H,kBAAnC,CACA,IAAIpc,EAAOsc,GAAW5H,EAAM0H,kBAAmB1H,EAAM6H,SACjDC,EAAoC,OAArB9H,EAAMwH,WAIrBO,EAA0B/nB,GAASsL,EAAK/b,OAAQ,CAClD/E,EAAG,EACHE,EAAG,KACC,EACN,GAAKo9B,GAAiBC,EAAtB,CACA,IAAI7e,EAAQoC,EAAKpC,MACb4X,GAAY,WAAeA,UAC/Bd,EAAM6H,QAAQr1B,MAAK,SAAS,QAAS,CAAC,EAAG0W,GAAQ,CAC/C4X,UAAWA,KAEb,IAAI/wB,EAAKiwB,EAAMuH,SACbS,EAAUj4B,EAAGi4B,QACbC,EAASl4B,EAAGk4B,OACTH,IACHE,GAAWA,EAAQhI,EAAMyH,cAAenc,GACxC0U,EAAMwH,WAAaxH,EAAMyH,eAE3BQ,GAAUA,EAAOjI,EAAMyH,cAAenc,EAbe,CAVQ,CAwB/D,EACAvzB,KAAKmwC,kBAAoB,SAAU3f,EAAO+C,GACxC0U,EAAMyH,cAAgBlf,EACtByX,EAAM0H,kBAAoBS,GAAe7c,EAAM0U,EAAMtpB,oBAEjD4R,GAAaC,IAA4B,IAAlBA,EAAM6f,QAC/BpI,EAAMqI,gBAAgB9f,EAAO+C,GAI/B,aAAY0U,EAAM2H,aAAa,EACjC,EACA5vC,KAAKswC,gBAAkB,SAAU9f,EAAO+C,GACtC0U,EAAMsI,MACN,IAAIv4B,EAAKiwB,EAAMuH,SACbgB,EAAQx4B,EAAGw4B,MACXC,EAAez4B,EAAGy4B,aAChBC,EAAUb,GAAWO,GAAe7c,EAAM0U,EAAMtpB,oBAAqBspB,EAAM6H,SAC3E7H,EAAMwH,YAAce,GACtBA,EAAMhgB,EAAOkgB,GAEfD,GAAgBA,EAAajgB,EAAOkgB,EACtC,IAEI9f,GAAaJ,IAAUA,EAAMK,QAAQpxB,OAAS,GAAlD,CACAO,KAAKwvC,SAAWA,EAChBxvC,KAAK2e,mBAAqBA,EAC1B,IACIgyB,EAAcP,GADP9e,GAAiBd,GACWxwB,KAAK2e,oBACxCwS,EAAQwf,EAAYxf,MACpB4X,GAAY,WAAeA,UAC/B/oC,KAAK8vC,QAAU,EAAC,SAAS,QAAS,CAAC,EAAG3e,GAAQ,CAC5C4X,UAAWA,KAEb,IAAI6H,EAAiBpB,EAASoB,eAC9BA,GAAkBA,EAAepgB,EAAOqf,GAAWc,EAAa3wC,KAAK8vC,UACrE9vC,KAAK6wC,gBAAkBhd,GAAKnB,GAAgBzT,OAAQ,cAAejf,KAAKmwC,mBAAoBzd,GAAgBzT,OAAQ,YAAajf,KAAKswC,iBAAkB5d,GAAgBzT,OAAQ,gBAAiBjf,KAAKswC,iBAZ3I,CAa7D,CAQA,OAPAf,EAAW3vC,UAAUkxC,eAAiB,SAAUtB,GAC9CxvC,KAAKwvC,SAAWA,CAClB,EACAD,EAAW3vC,UAAU2wC,IAAM,WACzBvwC,KAAK6wC,iBAAmB7wC,KAAK6wC,kBAC7B,aAAkB7wC,KAAK4vC,YACzB,EACOL,CACT,CA5F8B,GA6F9B,SAASa,GAAe7c,EAAM5U,GAC5B,OAAOA,EAAqB,CAC1BwS,MAAOxS,EAAmB4U,EAAKpC,QAC7BoC,CACN,CACA,SAASwd,GAAc/sB,EAAGC,GACxB,MAAO,CACLxR,EAAGuR,EAAEvR,EAAIwR,EAAExR,EACXE,EAAGqR,EAAErR,EAAIsR,EAAEtR,EAEf,CACA,SAASk9B,GAAW73B,EAAI83B,GACtB,IAAI3e,EAAQnZ,EAAGmZ,MACf,MAAO,CACLA,MAAOA,EACP8E,MAAO8a,GAAc5f,EAAO6f,GAAgBlB,IAC5Ct4B,OAAQu5B,GAAc5f,EAAO8f,GAAiBnB,IAC9CzuB,SAAU,GAAYyuB,EAAS,IAEnC,CACA,SAASmB,GAAiBnB,GACxB,OAAOA,EAAQ,EACjB,CACA,SAASkB,GAAgBlB,GACvB,OAAOA,EAAQA,EAAQrwC,OAAS,EAClC,CACA,SAAS,GAAYqwC,EAASvH,GAC5B,GAAIuH,EAAQrwC,OAAS,EACnB,MAAO,CACLgT,EAAG,EACHE,EAAG,GAMP,IAHA,IAAIpT,EAAIuwC,EAAQrwC,OAAS,EACrByxC,EAAmB,KACnBC,EAAYH,GAAgBlB,GACzBvwC,GAAK,IACV2xC,EAAmBpB,EAAQvwC,KACvB4xC,EAAUpI,UAAYmI,EAAiBnI,UAAY5G,GAAsBoG,MAG7EhpC,IAEF,IAAK2xC,EACH,MAAO,CACLz+B,EAAG,EACHE,EAAG,GAGP,IAAIy+B,GAAQD,EAAUpI,UAAYmI,EAAiBnI,WAAa,IAChE,GAAa,IAATqI,EACF,MAAO,CACL3+B,EAAG,EACHE,EAAG,GAGP,IAAIqO,EAAkB,CACpBvO,GAAI0+B,EAAU1+B,EAAIy+B,EAAiBz+B,GAAK2+B,EACxCz+B,GAAIw+B,EAAUx+B,EAAIu+B,EAAiBv+B,GAAKy+B,GAQ1C,OANIpwB,EAAgBvO,IAAMi7B,MACxB1sB,EAAgBvO,EAAI,GAElBuO,EAAgBrO,IAAM+6B,MACxB1sB,EAAgBrO,EAAI,GAEfqO,CACT,C,eC1KA,SAASqwB,GAASlhB,GAChB,MAAO,CAACA,EAAQ,KAAMA,EAAQ,KAChC,CCKA,SAASmhB,GAAiBngB,EAAOnZ,EAAIu5B,GACnC,IAAIrsB,EAAMlN,EAAGkN,IACXC,EAAMnN,EAAGmN,IAQX,YAPYze,IAARwe,GAAqBiM,EAAQjM,EAE/BiM,EAAQogB,EAAU3iB,GAAI1J,EAAKiM,EAAOogB,EAAQrsB,KAAOE,KAAKD,IAAIgM,EAAOjM,QAChDxe,IAARye,GAAqBgM,EAAQhM,IAEtCgM,EAAQogB,EAAU3iB,GAAIzJ,EAAKgM,EAAOogB,EAAQpsB,KAAOC,KAAKF,IAAIiM,EAAOhM,IAE5DgM,CACT,CAmBA,SAASqgB,GAA4BC,EAAMvsB,EAAKC,GAC9C,MAAO,CACLD,SAAaxe,IAARwe,EAAoBusB,EAAKvsB,IAAMA,OAAMxe,EAC1Cye,SAAaze,IAARye,EAAoBssB,EAAKtsB,IAAMA,GAAOssB,EAAKtsB,IAAMssB,EAAKvsB,UAAOxe,EAEtE,CAkBA,SAASgrC,GAA4BC,EAAYC,GAC/C,IAAI55B,EACAkN,EAAM0sB,EAAgB1sB,IAAMysB,EAAWzsB,IACvCC,EAAMysB,EAAgBzsB,IAAMwsB,EAAWxsB,IAM3C,OAHIysB,EAAgBzsB,IAAMysB,EAAgB1sB,IAAMysB,EAAWxsB,IAAMwsB,EAAWzsB,MAC9CA,GAA5BlN,GAAK,QAAO,CAACmN,EAAKD,GAAM,IAAa,GAAIC,EAAMnN,EAAG,IAE7C,CACLkN,IAAKysB,EAAWzsB,IAAMA,EACtBC,IAAKwsB,EAAWzsB,IAAMC,EAE1B,CAiDA,SAAS0sB,GAAmBC,EAAaC,EAAUC,GACjD,MAAO,CACL9sB,IAAK+sB,GAAoBH,EAAaC,GACtC5sB,IAAK8sB,GAAoBH,EAAaE,GAE1C,CACA,SAASC,GAAoBH,EAAapxC,GACxC,IAAIsX,EACJ,MAA8B,iBAAhB85B,EAA2BA,EAA4C,QAA7B95B,EAAK85B,EAAYpxC,UAA2B,IAAPsX,EAAgBA,EAAK,CACpH,CCzHA,SAASk6B,GAAe5qC,EAASqX,GAC/B,IAAIwzB,EAAM7qC,EAAQsoB,wBAClB,OAAO,UAA4B,SAAqBuiB,EAAKxzB,GAC/D,CCPA,SAASyzB,GAAO7uC,EAAOjE,EAAQ+yC,GAO7B,YANe,IAAX/yC,IACFA,EAAS,QAES,IAAhB+yC,IACFA,EAAc,KAETpqB,GAAS1kB,EAAOjE,GAAU+yC,CACnC,CACA,SAASC,GAAWb,GAClB,OAAOA,EAAKtsB,IAAMssB,EAAKvsB,GACzB,CAKA,SAAS,GAAWxlB,EAAQJ,GAC1B,IAAIssB,EAAS,GACT2mB,EAAeD,GAAW5yC,GAC1B8yC,EAAeF,GAAWhzC,GAM9B,OALIkzC,EAAeD,EACjB3mB,EAASE,GAASxsB,EAAO4lB,IAAK5lB,EAAO6lB,IAAMotB,EAAc7yC,EAAOwlB,KACvDqtB,EAAeC,IACxB5mB,EAASE,GAASpsB,EAAOwlB,IAAKxlB,EAAOylB,IAAMqtB,EAAclzC,EAAO4lB,MA5B3D,GAAM,EAAG,EA8BK0G,EACvB,CAOA,SAAS6mB,GAAgBxc,EAAOv2B,EAAQJ,EAAQssB,QAC/B,IAAXA,IACFA,EAAS,IAEXqK,EAAMrK,OAASA,EACfqK,EAAMyc,YAAc9jB,GAAIlvB,EAAOwlB,IAAKxlB,EAAOylB,IAAK8Q,EAAMrK,QACtDqK,EAAM1f,MAAQ+7B,GAAWhzC,GAAUgzC,GAAW5yC,GAC1C0yC,GAAOnc,EAAM1f,MAAO,EAAG,QAAS0f,EAAM1f,MAAQ,GAClD0f,EAAM0c,UAAY/jB,GAAItvB,EAAO4lB,IAAK5lB,EAAO6lB,IAAK8Q,EAAMrK,QAAUqK,EAAMyc,YAChEN,GAAOnc,EAAM0c,aAAY1c,EAAM0c,UAAY,EACjD,CAOA,SAASC,GAAe3c,EAAOv2B,EAAQJ,EAAQssB,GAC7C6mB,GAAgBxc,EAAMxjB,EAAG/S,EAAO+S,EAAGnT,EAAOmT,EAAGogC,GAAcjnB,EAAOtD,UAClEmqB,GAAgBxc,EAAMtjB,EAAGjT,EAAOiT,EAAGrT,EAAOqT,EAAGkgC,GAAcjnB,EAAOrD,SACpE,CAKA,SAASsqB,GAAcjnB,GACrB,MAAyB,iBAAXA,EAAsBA,EAAS,EAC/C,CACA,SAASknB,GAAiBxzC,EAAQyzC,EAAUr2B,GAC1Cpd,EAAO4lB,IAAMxI,EAAOwI,IAAM6tB,EAAS7tB,IACnC5lB,EAAO6lB,IAAM7lB,EAAO4lB,IAAMotB,GAAWS,EACvC,C,gBClEA,SAASC,GAAuBt2B,EAAQ3T,GACtC,MAAO,CACLmc,IAAKnc,EAAMmc,IAAMxI,EAAOwI,IACxBC,IAAKpc,EAAMoc,IAAMzI,EAAOwI,IAE5B,CACA,SAAS+tB,GAAmBv2B,EAAQ3T,GAClC,MAAO,CACL0J,EAAGugC,GAAuBt2B,EAAOjK,EAAG1J,EAAM0J,GAC1CE,EAAGqgC,GAAuBt2B,EAAO/J,EAAG5J,EAAM4J,GAE9C,CACA,SAASugC,GAAwB7d,EAAMD,GACrC,IAAI+d,EAAS9d,EAAK+d,cACdC,EAASje,EAAKge,cAClB,OAAOD,IAAWE,QAAqB3sC,IAAX2sC,GAAwBhe,IAASD,CAC/D,CCrBA,SAASke,GAAY5zB,GACnB,IAAI1H,EAAK0H,EAAcwB,WACrBjD,EAAOjG,EAAGiG,KACVs1B,EAASv7B,EAAGu7B,OACd,OAAOt1B,IAASs1B,CAClB,CCIA,SAASC,GAAU/B,EAAMgC,GACvBhC,EAAKvsB,IAAMuuB,EAAWvuB,IACtBusB,EAAKtsB,IAAMsuB,EAAWtuB,GACxB,CAaA,SAASuuB,GAAWviB,EAAO5a,EAAOm8B,GAGhC,OAAOA,EADMn8B,GADY4a,EAAQuhB,EAGnC,CAIA,SAASiB,GAAgBxiB,EAAOwhB,EAAWp8B,EAAOm8B,EAAakB,GAI7D,YAHiBltC,IAAbktC,IACFziB,EAAQuiB,GAAWviB,EAAOyiB,EAAUlB,IAE/BgB,GAAWviB,EAAO5a,EAAOm8B,GAAeC,CACjD,CAIA,SAASkB,GAAepC,EAAMkB,EAAWp8B,EAAOm8B,EAAakB,QACzC,IAAdjB,IACFA,EAAY,QAEA,IAAVp8B,IACFA,EAAQ,GAEVk7B,EAAKvsB,IAAMyuB,GAAgBlC,EAAKvsB,IAAKytB,EAAWp8B,EAAOm8B,EAAakB,GACpEnC,EAAKtsB,IAAMwuB,GAAgBlC,EAAKtsB,IAAKwtB,EAAWp8B,EAAOm8B,EAAakB,EACtE,CAIA,SAASE,GAAc3B,EAAKn6B,GAC1B,IAAIvF,EAAIuF,EAAGvF,EACTE,EAAIqF,EAAGrF,EACTkhC,GAAe1B,EAAI1/B,EAAGA,EAAEkgC,UAAWlgC,EAAE8D,MAAO9D,EAAEigC,aAC9CmB,GAAe1B,EAAIx/B,EAAGA,EAAEggC,UAAWhgC,EAAE4D,MAAO5D,EAAE+/B,YAChD,CAMA,SAASqB,GAAoBC,EAAOvC,EAAMwC,EAAYj8B,GACpD,IAAIoB,GAAK,QAAOpB,EAAI,GAClBrY,EAAMyZ,EAAG,GACT86B,EAAW96B,EAAG,GACd+6B,EAAY/6B,EAAG,GAEjB46B,EAAM9uB,IAAMusB,EAAKvsB,IACjB8uB,EAAM7uB,IAAMssB,EAAKtsB,IACjB,IAAIivB,OAAuC1tC,IAA1ButC,EAAWE,GAA2BF,EAAWE,GAAa,GAC3EzB,EAAc9jB,GAAI6iB,EAAKvsB,IAAKusB,EAAKtsB,IAAKivB,GAE1CP,GAAeG,EAAOC,EAAWt0C,GAAMs0C,EAAWC,GAAWxB,EAAauB,EAAW19B,MACvF,CAIA,IAAI89B,GAAQ,CAAC,IAAK,SAAU,WACxBC,GAAQ,CAAC,IAAK,SAAU,WAI5B,SAASC,GAAmBC,EAAUrC,EAAK8B,GACzCF,GAAoBS,EAAS/hC,EAAG0/B,EAAI1/B,EAAGwhC,EAAYI,IACnDN,GAAoBS,EAAS7hC,EAAGw/B,EAAIx/B,EAAGshC,EAAYK,GACrD,CAIA,SAASG,GAAiBtjB,EAAOwhB,EAAWp8B,EAAOm8B,EAAakB,GAM9D,OAJAziB,EAAQuiB,GADRviB,GAASwhB,EACiB,EAAIp8B,EAAOm8B,QACpBhsC,IAAbktC,IACFziB,EAAQuiB,GAAWviB,EAAO,EAAIyiB,EAAUlB,IAEnCvhB,CACT,CAsBA,SAASujB,GAAqBjD,EAAMwC,EAAYj8B,GAC9C,IAAIoB,GAAK,QAAOpB,EAAI,GAClBrY,EAAMyZ,EAAG,GACT86B,EAAW96B,EAAG,GACd+6B,EAAY/6B,EAAG,IAtBnB,SAAyBq4B,EAAMkB,EAAWp8B,EAAOqV,EAAQgoB,QACrC,IAAdjB,IACFA,EAAY,QAEA,IAAVp8B,IACFA,EAAQ,QAEK,IAAXqV,IACFA,EAAS,IAEX,IAAI8mB,EAAc9jB,GAAI6iB,EAAKvsB,IAAKusB,EAAKtsB,IAAKyG,GAAU+mB,EACpDlB,EAAKvsB,IAAMuvB,GAAiBhD,EAAKvsB,IAAKytB,EAAWp8B,EAAOm8B,EAAakB,GACrEnC,EAAKtsB,IAAMsvB,GAAiBhD,EAAKtsB,IAAKwtB,EAAWp8B,EAAOm8B,EAAakB,EACvE,CAUEe,CAAgBlD,EAAMwC,EAAWt0C,GAAMs0C,EAAWC,GAAWD,EAAWE,GAAYF,EAAW19B,MACjG,CAKA,SAASq+B,GAAoBzC,EAAK8B,GAChCS,GAAqBvC,EAAI1/B,EAAGwhC,EAAYI,IACxCK,GAAqBvC,EAAIx/B,EAAGshC,EAAYK,GAC1C,C,IChHIO,G,YAJAC,GAAsB,IAAIC,QAK1BC,GAAyC,WAC3C,SAASA,EAA0Bh9B,GACjC,IAAI0H,EAAgB1H,EAAG0H,cAMvB1f,KAAKi1C,YAAa,EAMlBj1C,KAAKk1C,iBAAmB,KAMxBl1C,KAAKm1C,aAAc,EAMnBn1C,KAAKuxC,SAAU,WAMfvxC,KAAKK,MAAQ,CAAC,EAIdL,KAAKo1C,uBAAwB,EAQ7Bp1C,KAAKq1C,eAAiB,CACpB5iC,EAAG,GACHE,EAAG,IAIL3S,KAAK0yC,YAAc,CAAC,EAIpB1yC,KAAKs1C,eAAiB,KAItBt1C,KAAKu1C,WAAa,KAClBv1C,KAAK0f,cAAgBA,EACrB1f,KAAK0f,cAAc81B,yBACnBV,GAAoBr8B,IAAIiH,EAAe1f,KACzC,CAogBA,OA9fAg1C,EAA0Bp1C,UAAU4hB,MAAQ,SAAUi0B,EAAaz9B,GACjE,IAAIiwB,EAAQjoC,KACRoZ,OAAY,IAAPpB,EAAgB,CAAC,EAAIA,EAC5BsB,EAAKF,EAAGs8B,aACRA,OAAsB,IAAPp8B,GAAwBA,EACvC+7B,EAAiBj8B,EAAGi8B,eAsIlB12B,EAAqB3e,KAAKK,MAAMse,mBACpC3e,KAAKu1C,WAAa,IAAIhG,GAAWkG,EAAa,CAC5C7E,eAvImB,SAAwBpgB,GAC3C,IAAIxY,EAGJiwB,EAAM0N,aAMN,IAAIC,EnE/DV,SAAmCplB,GACjC,OAAOc,GAAiBd,EAAO,SACjC,CmE6DyBqlB,CAA0BrlB,GAAOW,MACtB,QAA7BnZ,EAAKiwB,EAAM6N,oBAAiC,IAAP99B,GAAyBA,EAAGlY,KAAKmoC,GACvEA,EAAM6N,cAAe,SAAY,SAAUn5B,EAAMC,GAC/C,IAAIK,GAAY,SAA2BgrB,EAAMvoB,eAC7C7b,GAAW,SAA0BokC,EAAMvoB,eAC3Cq2B,GAAO,SAAc,QAAc,IAAI,QAAO94B,KAAa,QAAOpZ,IAClEmyC,GAA6B,EAKjC/N,EAAMgO,gBAAkBhO,EAAMvoB,cAAcw2B,uBAC5Ct5B,GAAM,WACJm5B,EAAKp9B,SAAQ,SAAUrR,GACrB,OAAOA,EAAQ4V,gBACjB,GACF,IACAP,GAAK,YACH,SAAwBsrB,EAAMvoB,eAC9B7b,EAAS8U,QAAQ,MACnB,IACAiE,GAAM,WACJm5B,EAAKp9B,SAAQ,SAAUrR,GACrB,OAAOA,EAAQ6V,kBACjB,IACIu4B,IACFM,EAA6B/N,EAAMyN,aAAaE,GAEpD,IACAj5B,GAAK,WACkBpH,QAAQ0yB,EAAMkO,mBAAmB,OAASlO,EAAMmO,mBAEnEnO,EAAMvoB,cAAc22B,wBAAuB,EAAMpO,EAAMvoB,cAAc42B,oBAAmB,IAE1FrO,EAAMvoB,cAAc62B,iCAYpB,IAAI/4B,EAAayqB,EAAMvoB,cAAclC,WACrC6zB,IAAS,SAAUI,GACjB,IAAKuE,EAA4B,CAC/B,IAAIh+B,EAAKwF,EAAWle,OAAOmyC,GACzBvsB,EAAMlN,EAAGkN,IACTC,EAAMnN,EAAGmN,IACX8iB,EAAMoN,eAAe5D,GAAQ4D,EAAiBA,EAAe5D,GAAQ3lB,GAAS5G,EAAKC,EAAKywB,EAAanE,GACvG,CAKA,IAAI+E,EAAYvO,EAAMkO,mBAAmB1E,GACrC+E,IACFvO,EAAMyK,YAAYjB,GAAQ+E,EAAUp7B,MAExC,GACF,IACAwB,GAAM,WACJ,eACA,kBACA,eACA,kBACF,IACAD,GAAK,WACH,OAAOsrB,EAAMwO,wBACf,GACF,GACF,EAoDExG,QAnDY,SAAiBzf,EAAO+C,GACpC,IAAIvb,EAAIoB,EAAIE,EAER8Q,EAAK6d,EAAM5nC,MACb4d,EAAOmM,EAAGnM,KACVy4B,EAAkBtsB,EAAGssB,kBACnBz4B,GAASy4B,IACPzO,EAAMqN,gBAAgBrN,EAAMqN,iBAChCrN,EAAMqN,eAAiBtiB,GAAc/U,GAEhCgqB,EAAMqN,oBAEb,UAEArN,EAAMgN,YAAa,EACnBhN,EAAMiN,iBAAmB,KAEiB,QAAzC97B,GAAMpB,EAAKiwB,EAAM5nC,OAAOs2C,mBAAgC,IAAPv9B,GAAyBA,EAAGtZ,KAAKkY,EAAIwY,EAAO+C,GAChD,QAA7Cja,EAAK2uB,EAAMvoB,cAAcW,sBAAmC,IAAP/G,GAAyBA,EAAGka,UAAUzD,GAAcyc,MAAM,GAClH,EAiCE0D,OAhCW,SAAgB1f,EAAO+C,GAClC,IAAIvb,EAAIoB,EAAIE,EAAI8Q,EACZwL,EAAKqS,EAAM5nC,MACbq2C,EAAkB9gB,EAAG8gB,gBACrBE,EAAoBhhB,EAAGghB,kBAEzB,GAAKF,GAAoBzO,EAAMqN,eAA/B,CACA,IAAI99B,EAAS+b,EAAK/b,OAElB,GAAIo/B,GAAgD,OAA3B3O,EAAMiN,iBAM7B,OALAjN,EAAMiN,iBAiZd,SAA6B19B,EAAQq/B,QACb,IAAlBA,IACFA,EAAgB,IAElB,IAAIrrC,EAAY,KACZ4Z,KAAK4S,IAAIxgB,EAAO7E,GAAKkkC,EACvBrrC,EAAY,IACH4Z,KAAK4S,IAAIxgB,EAAO/E,GAAKokC,IAC9BrrC,EAAY,KAEd,OAAOA,CACT,CA5ZiCsrC,CAAoBt/B,QAEd,OAA3BywB,EAAMiN,mBACsC,QAA7C97B,GAAMpB,EAAKiwB,EAAM5nC,OAAO02C,uBAAoC,IAAP39B,GAAyBA,EAAGtZ,KAAKkY,EAAIiwB,EAAMiN,oBAKrGjN,EAAM+O,WAAW,IAAKzjB,EAAKpC,MAAO3Z,GAClCywB,EAAM+O,WAAW,IAAKzjB,EAAKpC,MAAO3Z,GAEG,QAApC4S,GAAM9Q,EAAK2uB,EAAM5nC,OAAO42C,cAA2B,IAAP7sB,GAAyBA,EAAGtqB,KAAKwZ,EAAIkX,EAAO+C,GAEzFshB,GAAmBrkB,CAjBkC,CAkBvD,EASEigB,aARiB,SAAsBjgB,EAAO+C,GAC9C,OAAO0U,EAAMzH,KAAKhQ,EAAO+C,EAC3B,GAOG,CACD5U,mBAAoBA,GAExB,EACAq2B,EAA0Bp1C,UAAU62C,uBAAyB,WAC3D,IAAIxO,EAAQjoC,KACRgY,EAAKhY,KAAKK,MACZ62C,EAAkBl/B,EAAGk/B,gBACrBpF,EAAc95B,EAAG85B,YACfrtB,EAASzkB,KAAK0f,cAAcy3B,iBAAiBC,gBAE/Cp3C,KAAKm1C,cADH+B,IACiB12B,EAAY02B,GAAmBl3C,KAAKq3C,sBAAsB5yB,EAAQyyB,GN1M3F,SAAiCI,EAAWt/B,GAC1C,IAAI7O,EAAM6O,EAAG7O,IACXG,EAAO0O,EAAG1O,KACVD,EAAS2O,EAAG3O,OACZD,EAAQ4O,EAAG5O,MACb,MAAO,CACLqJ,EAAG++B,GAA4B8F,EAAU7kC,EAAGnJ,EAAMF,GAClDuJ,EAAG6+B,GAA4B8F,EAAU3kC,EAAGxJ,EAAKE,GAErD,CMiM8GkuC,CAAwB9yB,EAAQyyB,IAI1Il3C,KAAKuxC,QN9IT,SAA4BO,GAM1B,OALoB,IAAhBA,EACFA,EAAc,GACW,IAAhBA,IACTA,EARiB,KAUZ,CACLr/B,EAAGo/B,GAAmBC,EAAa,OAAQ,SAC3Cn/B,EAAGk/B,GAAmBC,EAAa,MAAO,UAE9C,CMoImB0F,CAAmB1F,GAK9B9xC,KAAKm1C,cAAgBn1C,KAAKo1C,uBAC5B/D,IAAS,SAAUI,GACbxJ,EAAMkO,mBAAmB1E,KAC3BxJ,EAAMkN,YAAY1D,GNpK5B,SAA+BhtB,EAAQ0wB,GACrC,IAAIsC,EAAsB,CAAC,EAO3B,YANwB/wC,IAApByuC,EAAYjwB,MACduyB,EAAoBvyB,IAAMiwB,EAAYjwB,IAAMT,EAAOS,UAE7Bxe,IAApByuC,EAAYhwB,MACdsyB,EAAoBtyB,IAAMgwB,EAAYhwB,IAAMV,EAAOS,KAE9CuyB,CACT,CM2JoCC,CAAsBjzB,EAAOgtB,GAAOxJ,EAAMkN,YAAY1D,IAEpF,GAEJ,EACAuD,EAA0Bp1C,UAAUy3C,sBAAwB,SAAUC,EAAWnC,GAC/E,IAAIn9B,EAAKhY,KAAKK,MACZs3C,EAA2B3/B,EAAG2/B,yBAC9Bh5B,EAAqB3G,EAAG2G,mBACtBi5B,EAAqBzC,EAAYt7B,QAErC7Z,KAAK63C,eAAiB3F,GAAe0F,EAAoBj5B,GACzD,IAAIm5B,ENpMR,SAAiCR,EAAWO,GAC1C,MAAO,CACLplC,EAAGi/B,GAA4B4F,EAAU7kC,EAAGolC,EAAeplC,GAC3DE,EAAG++B,GAA4B4F,EAAU3kC,EAAGklC,EAAellC,GAE/D,CM+L8BolC,CAAwBT,EAAWt3C,KAAK63C,gBAKlE,GAAIF,EAA0B,CAC5B,IAAIK,EAAkBL,GAAyB,SAA4BG,IAC3E93C,KAAKo1C,wBAA0B4C,EAC3BA,IACFF,GAAsB,SAA4BE,GAEtD,CACA,OAAOF,CACT,EACA9C,EAA0Bp1C,UAAUq4C,WAAa,WAC/C,IAAIjgC,EAAIoB,EACRpZ,KAAK0f,cAAcw4B,yBACU,QAA5BlgC,EAAKhY,KAAK81C,oBAAiC,IAAP99B,GAAyBA,EAAGlY,KAAKE,MACtEA,KAAKi1C,YAAa,EAClBj1C,KAAKu1C,YAAcv1C,KAAKu1C,WAAWhF,MACnCvwC,KAAKu1C,WAAa,MACbv1C,KAAKK,MAAMq2C,iBAAmB12C,KAAKs1C,iBACtCt1C,KAAKs1C,iBACLt1C,KAAKs1C,eAAiB,MAEqB,QAA5Cl8B,EAAKpZ,KAAK0f,cAAcW,sBAAmC,IAAPjH,GAAyBA,EAAGoa,UAAUzD,GAAcyc,MAAM,EACjH,EACAwI,EAA0Bp1C,UAAU4gC,KAAO,SAAUhQ,EAAO+C,GAC1D,IAAIvb,EAAIoB,EAAIE,EACe,QAA1BtB,EAAKhY,KAAKu1C,kBAA+B,IAAPv9B,GAAyBA,EAAGu4B,MAC/DvwC,KAAKu1C,WAAa,KAClB,IAAIN,EAAaj1C,KAAKi1C,WAEtB,GADAj1C,KAAKi4C,aACAhD,EAAL,CACA,IAAI5zB,EAAWkS,EAAKlS,SACpBrhB,KAAKm4C,eAAe92B,GACmB,QAAtC/H,GAAMF,EAAKpZ,KAAKK,OAAO+3C,iBAA8B,IAAP9+B,GAAyBA,EAAGxZ,KAAKsZ,EAAIoX,EAAO+C,EAHpE,CAIzB,EACAyhB,EAA0Bp1C,UAAU81C,aAAe,SAAUvkB,GAC3D,IAAI8W,EAAQjoC,KACZ,OAAOqxC,IAAS,SAAUI,GAGxB,GAAK4G,GAAW5G,EAFLxJ,EAAM5nC,MAAM4d,KAEKgqB,EAAMiN,kBAAlC,CACA,IAAIsB,EAAYvO,EAAMkO,mBAAmB1E,GACzC,IAAI+E,EASF,OADAvO,EAAMoN,eAAe5D,GAAQ,IACtB,EARP,IAAIU,EAAMlK,EAAMvoB,cAAcy3B,iBAAiB1yB,OAC3C6zB,EAAWnG,EAAIV,GAAMtsB,IAAMgtB,EAAIV,GAAMvsB,IACrCqzB,EAASpG,EAAIV,GAAMvsB,IAAMozB,EAAW,EACpC9gC,EAAS2Z,EAAMsgB,GAAQ8G,EAC3BtQ,EAAMyK,YAAYjB,GAAQtgB,EAAMsgB,GAChC+E,EAAU/9B,IAAIjB,EAR2C,CAa7D,IAAGkM,UAAS,EACd,EAIAsxB,EAA0Bp1C,UAAUo3C,WAAa,SAAUvF,EAAMtgB,EAAO3Z,GAGtE,GAAK6gC,GAAW5G,EAFLzxC,KAAKK,MAAM4d,KAEMje,KAAKk1C,kBACjC,OAAOl1C,KAAKm2C,mBAAmB1E,GAAQzxC,KAAKw4C,sBAAsB/G,EAAMj6B,GAAUxX,KAAKy4C,wBAAwBhH,EAAMtgB,EACvH,EACA6jB,EAA0Bp1C,UAAU44C,sBAAwB,SAAU/G,EAAMj6B,GAC1E,IAAIg/B,EAAYx2C,KAAKm2C,mBAAmB1E,GACxC,GAAKj6B,GAAWg/B,EAAhB,CACA,IAAIkC,EAAY14C,KAAK0yC,YAAYjB,GAAQj6B,EAAOi6B,GAC5CnR,EAAStgC,KAAKm1C,YAAc7D,GAAiBoH,EAAW14C,KAAKm1C,YAAY1D,GAAOzxC,KAAKuxC,QAAQE,IAASiH,EAC1GlC,EAAU/9B,IAAI6nB,EAHmB,CAInC,EACA0U,EAA0Bp1C,UAAU64C,wBAA0B,SAAUhH,EAAMtgB,GAC5E,IAAInZ,EAEA2gC,EAAa34C,KAAK0f,cAAcy3B,iBAAiB1yB,OAAOgtB,GAGxDmH,EAAaD,EAAWxzB,IAAMwzB,EAAWzzB,IAEzC2zB,EAAe74C,KAAKq1C,eAAe5D,GAEnCvsB,EN1UR,SAAiCiM,EAAO1xB,EAAQqsB,EAAUqpB,EAAa5D,GAErE,IAAIrsB,EAAMiM,EAAQ1xB,EAASqsB,EAC3B,OAAOqpB,EAAc7D,GAAiBpsB,EAAKiwB,EAAa5D,GAAWrsB,CACrE,CMsUc4zB,CAAwB3nB,EAAMsgB,GAAOmH,EAAYC,EAA0C,QAA3B7gC,EAAKhY,KAAKm1C,mBAAgC,IAAPn9B,OAAgB,EAASA,EAAGy5B,GAAOzxC,KAAKuxC,QAAQE,IAE7JzxC,KAAK0f,cAAcq5B,wBAAwBtH,EAAMvsB,EAAKA,EAAM0zB,EAC9D,EACA5D,EAA0Bp1C,UAAUsgB,SAAW,SAAUlI,GACvD,IAAIoB,EAAKpB,EAAGiG,KACVA,OAAc,IAAP7E,GAAwBA,EAC/BE,EAAKtB,EAAG4+B,kBACRA,OAA2B,IAAPt9B,GAAwBA,EAC5C8Q,EAAKpS,EAAG0+B,gBACRA,OAAyB,IAAPtsB,GAAwBA,EAC1CwL,EAAK5d,EAAGk/B,gBACRA,OAAyB,IAAPthB,GAAwBA,EAC1CmK,EAAK/nB,EAAG85B,YACRA,OAAqB,IAAP/R,ENxQC,IMwQgCA,EAC/Ce,EAAK9oB,EAAGghC,aACRA,OAAsB,IAAPlY,GAAuBA,EACtCmY,GAAiB,QAAOjhC,EAAI,CAAC,OAAQ,oBAAqB,kBAAmB,kBAAmB,cAAe,iBACjHhY,KAAKK,OAAQ,QAAS,CACpB4d,KAAMA,EACN24B,kBAAmBA,EACnBF,gBAAiBA,EACjBQ,gBAAiBA,EACjBpF,YAAaA,EACbkH,aAAcA,GACbC,EACL,EASAjE,EAA0Bp1C,UAAUu2C,mBAAqB,SAAU1E,GACjE,IAAIz5B,EAAKhY,KAAKK,MACZokB,EAASzM,EAAGyM,OACZ7E,EAAW5H,EAAG4H,SACZs5B,EAAU,QAAUzH,EAAKljB,cAC7B,OAAIvuB,KAAKK,MAAM64C,GACNl5C,KAAKK,MAAM64C,GACRz0B,QAAuB/d,IAAbkZ,OAAf,EACE5f,KAAK0f,cAAc+qB,SAASgH,EAAM,EAE7C,EACAuD,EAA0Bp1C,UAAUq2C,aAAe,WACjD,OAAQj2C,KAAKm2C,mBAAmB,IAClC,EACAnB,EAA0Bp1C,UAAUw2C,eAAiB,WACnD,IAAIp+B,EAAKhY,KAAKK,MACZkzC,EAASv7B,EAAGu7B,OACZ4F,EAASnhC,EAAGmhC,OACd,OAAO5F,GAAU4F,CACnB,EACAnE,EAA0Bp1C,UAAUu4C,eAAiB,SAAU92B,GAC7D,IAAI4mB,EAAQjoC,KACRgY,EAAKhY,KAAKK,MACZ4d,EAAOjG,EAAGiG,KACV+6B,EAAehhC,EAAGghC,aAClBlH,EAAc95B,EAAG85B,YACjBsH,EAAiBphC,EAAGohC,eAKlBC,EChaR,SAAqC35B,EAAeu2B,QAC7B,IAAjBA,IACFA,GAAe,GAEjB,IAEIz+B,EAFA8hC,EAAmB55B,EAAc65B,sBACrC,QAAKD,IAEDrD,EAEFrB,GADAp9B,EAASy7B,GAAmBqG,EAAiB97B,WAAWle,OAAQogB,EAAclC,WAAWle,QAC7Dg6C,EAAiBE,mBAE7ChiC,EAASy7B,GAAmBqG,EAAiBnC,iBAAiB1yB,OAAQ/E,EAAcy3B,iBAAiB1yB,QAEvG4sB,IAAS,SAAUI,GACjB,OAAO/xB,EAAcq5B,wBAAwBtH,EAAMj6B,EAAOi6B,GAAMvsB,IAAK1N,EAAOi6B,GAAMtsB,KAAK,EACzF,KACO,EACT,CD+YqBs0B,CAA4Bz5C,KAAK0f,cAAe1f,KAAKi2C,iBAAmBj2C,KAAKo2C,kBAK1FjB,EAAcn1C,KAAKm1C,aAAe,CAAC,EACvC,GAAIkE,GAAcj6C,OAAOiC,KAAK8zC,GAAa11C,QAAUO,KAAKi2C,eAAgB,CACxE,IAAIqD,EAAmBt5C,KAAK0f,cAAc65B,sBAC1C,GAAID,EAAkB,CACpB,IAAII,EAAwBzG,GAAmBqG,EAAiB97B,WAAWm8B,YAAaxE,GACxF9D,IAAS,SAAUI,GACjB,IAAIz5B,EAAK0hC,EAAsBjI,GAC7BvsB,EAAMlN,EAAGkN,IACTC,EAAMnN,EAAGmN,IACXgwB,EAAY1D,GAAQ,CAClBvsB,IAAKyR,MAAMzR,QAAOxe,EAAYwe,EAC9BC,IAAKwR,MAAMxR,QAAOze,EAAYye,EAElC,GACF,CACF,CACA,IAAIy0B,EAAqBvI,IAAS,SAAUI,GAC1C,IAAIz5B,EACJ,GAAKqgC,GAAW5G,EAAMxzB,EAAMgqB,EAAMiN,kBAAlC,CAGA,IAAIrhC,EAAoG,QAAtFmE,EAAKm9B,aAAiD,EAASA,EAAY1D,UAA0B,IAAPz5B,EAAgBA,EAAK,CAAC,EAOlI4uB,EAAkBkL,EAAc,IAAM,IACtCjL,EAAgBiL,EAAc,GAAK,IACnCvK,GAAU,SAAS,QAAS,CAC9B9hC,KAAM,UACN4b,SAAU23B,EAAe33B,EAASowB,GAAQ,EAC1C7K,gBAAiBA,EACjBC,cAAeA,EACf/G,aAAc,IACd3I,UAAW,EACXD,UAAW,IACVkiB,GAAiBvlC,GAIpB,OAAOo0B,EAAMkO,mBAAmB1E,GAAQxJ,EAAM4R,wBAAwBpI,EAAMlK,GAAWU,EAAMvoB,cAAco6B,qBAAqBrI,EAAMlK,EAAS8R,EAtB/I,CAuBF,IAEA,OAAO3P,QAAQgC,IAAIkO,GAAoB/P,MAAK,WAC1C,IAAI7xB,EAAIoB,EAC0C,QAAjDA,GAAMpB,EAAKiwB,EAAM5nC,OAAO05C,2BAAwC,IAAP3gC,GAAyBA,EAAGtZ,KAAKkY,EAC7F,GACF,EACAg9B,EAA0Bp1C,UAAU+1C,WAAa,WAC/C,IAAI1N,EAAQjoC,KACZqxC,IAAS,SAAUI,GACjB,IAAI+E,EAAYvO,EAAMkO,mBAAmB1E,GACzC+E,EAAYA,EAAUhW,OAASyH,EAAMvoB,cAAcs6B,qBACrD,GACF,EACAhF,EAA0Bp1C,UAAUi6C,wBAA0B,SAAUpI,EAAM59B,GAC5E,IAAI2iC,EAAYx2C,KAAKm2C,mBAAmB1E,GACxC,GAAK+E,EAAL,CACA,IAAIyD,EAAezD,EAAUp7B,MAG7B,OAFAo7B,EAAU/9B,IAAIwhC,GACdzD,EAAU/9B,IAAIwhC,GACPhT,GAAewK,EAAM+E,EAAW,EAAG3iC,EAJpB,CAKxB,EACAmhC,EAA0Bp1C,UAAU8zC,WAAa,WAC/C,IAAIzL,EAAQjoC,KACRgY,EAAKhY,KAAKK,MACZ4d,EAAOjG,EAAGiG,KAEZ,GAAKuC,EADexI,EAAGk/B,kBACel3C,KAAK63C,eAA3C,CAEA73C,KAAK21C,aAEL,IAAIuE,EAAc,CAChBznC,EAAG,EACHE,EAAG,GAEL0+B,IAAS,SAAUI,GACjByI,EAAYzI,GAAQ,GAAWxJ,EAAMvoB,cAAclC,WAAWle,OAAOmyC,GAAOxJ,EAAM4P,eAAepG,GACnG,IAMAzxC,KAAKm6C,mBAAkB,WACrB9I,IAAS,SAAUI,GACjB,GAAK4G,GAAW5G,EAAMxzB,EAAM,MAA5B,CAGA,IAAIjG,ENjbZ,SAAkCy5B,EAAM0D,EAAarpB,GACnD,IAAI8sB,EAAanH,EAAKtsB,IAAMssB,EAAKvsB,IAC7BA,EAAM0J,GAAIumB,EAAYjwB,IAAKiwB,EAAYhwB,IAAMyzB,EAAY9sB,GAC7D,MAAO,CACL5G,IAAKA,EACLC,IAAKD,EAAM0zB,EAEf,CM0aiBwB,CAAyBnS,EAAMvoB,cAAclC,WAAWle,OAAOmyC,GAAOxJ,EAAM4P,eAAepG,GAAOyI,EAAYzI,IACrHvsB,EAAMlN,EAAGkN,IACTC,EAAMnN,EAAGmN,IACX8iB,EAAMvoB,cAAcq5B,wBAAwBtH,EAAMvsB,EAAKC,EANd,CAO3C,GACF,IAKA/P,WAAW,KAAa,EA/ByC,CAgCnE,EACA4/B,EAA0Bp1C,UAAUu6C,kBAAoB,SAAUE,GAChE,IAAIpS,EAAQjoC,KACZA,KAAK81C,cAAe,SAAY,SAAUn5B,EAAMC,GAC9C,IAAIK,GAAY,SAA2BgrB,EAAMvoB,eACjD9C,GAAM,WACJ,OAAOK,EAAUtE,SAAQ,SAAUrR,GACjC,OAAOA,EAAQ4V,gBACjB,GACF,IACAP,GAAK,WACH,OAAO,SAAwBsrB,EAAMvoB,cACvC,IACA9C,GAAM,WACJ,OAAOK,EAAUtE,SAAQ,SAAUrR,GACjC,OAAOA,EAAQ6V,kBACjB,GACF,IACAR,GAAK,WACHsrB,EAAMwO,wBACR,IACI4D,GAASz9B,EAAMy9B,EACrB,GACF,EACArF,EAA0Bp1C,UAAUmjB,MAAQ,SAAUrD,GACpD,IAAIuoB,EAAQjoC,KAKRs6C,EAAsB5nB,GAJZhT,EAAcoV,cAIuB,eAAe,SAAUtE,GAC1E,IAAIxY,EAAKiwB,EAAM5nC,MACb4d,EAAOjG,EAAGiG,KACV7E,EAAKpB,EAAGuiC,aAEVt8B,SADwB,IAAP7E,GAAuBA,IAChB6uB,EAAMzmB,MAAMgP,EACtC,IAKIgqB,EAAqBvqB,GAAYhR,OAAQ,UAAU,WACrDgpB,EAAMyL,YACR,IAKI+G,EAA2B/6B,EAAcg7B,gBAAe,WACtDzS,EAAMgN,YACRhN,EAAMwO,wBAEV,IAKIkE,EAAiBj7B,EAAci7B,eASnC,OARIA,GACF36C,KAAKwhB,MAAMqzB,GAAkB,CAC3BQ,eAAgBsF,IAMb,WACLL,SAA0EA,IAC1EE,SAAwEA,IACxEC,SAAoFA,IACpFxS,EAAMgQ,YACR,CACF,EACOjD,CACT,CAnkB6C,GAokB7C,SAASqD,GAAW7sC,EAAWyS,EAAMi3B,GACnC,SAAiB,IAATj3B,GAAiBA,IAASzS,GAAoC,OAArB0pC,GAA6BA,IAAqB1pC,EACrG,CE7lBA,IAAIyS,GAAO,CACTI,IAAK4V,ICcP,SAAuBjc,GACrB,IAAI4iC,EAAQ5iC,EAAG4iC,MACbC,EAAa7iC,EAAG6iC,WAChBC,EAAW9iC,EAAG8iC,SACdC,EAAoB/iC,EAAG+iC,kBACvBr7B,EAAgB1H,EAAG0H,cACjBs7B,EAAeJ,GAASC,GAAcC,GAAYC,EAClDxF,GAAa,IAAA97B,QAAO,MACpBkF,GAAqB,IAAA1E,YAAWyE,GAAqBC,mBACrD6wB,EAAW,CACboB,eAAgBmK,EAChB9K,QAAS4K,EACT3K,OAAQ0K,EACRpK,MAAO,SAAehgB,EAAO+C,GAC3BgiB,EAAW17B,QAAU,KACrBihC,GAAYA,EAAStqB,EAAO+C,EAC9B,IAEF,IAAAzX,YAAU,WACmB,OAAvBy5B,EAAW17B,SACb07B,EAAW17B,QAAQi3B,eAAetB,EAEtC,IAMA7c,GAAgBjT,EAAe,cAAes7B,GAL9C,SAAuBxqB,GACrB+kB,EAAW17B,QAAU,IAAI01B,GAAW/e,EAAOgf,EAAU,CACnD7wB,mBAAoBA,GAExB,IAEA,SAAiB,WACf,OAAO42B,EAAW17B,SAAW07B,EAAW17B,QAAQ02B,KAClD,GACF,ID7CEtyB,KAAMgW,IEMR,SAAiB5zB,GACf,IAAI46C,EAAoB56C,EAAM66C,aAC5Bx7B,EAAgBrf,EAAMqf,cACpBf,GAAqB,IAAA1E,YAAWyE,GAAqBC,mBACrDu8B,GAAe,SAAY,WAC7B,OAAO,IAAIlG,GAA0B,CACnCt1B,cAAeA,GAEnB,IACAw7B,EAAah7B,UAAS,SAAS,QAAS,CAAC,EAAG7f,GAAQ,CAClDse,mBAAoBA,MAItB,IAAA7C,YAAU,WACR,OAAOm/B,GAAqBA,EAAkBjM,UAAUkM,EAC1D,GAAG,CAACA,KAEJ,IAAAp/B,YAAU,WACR,OAAOo/B,EAAan4B,MAAMrD,EAC5B,GAAG,GACL,K,YC9BA,SAAS,GAAcnc,GACrB,MAAwB,iBAAVA,GAAsBA,EAAMwhB,WAAW,SACvD,CAUA,IAAIo2B,GAAmB,uDAUvB,SAASC,GAAiBvhC,EAASvS,EAAS+zC,QAC5B,IAAVA,IACFA,EAAQ,GAGV,IAAIrjC,GAAK,QAdX,SAA0B6B,GACxB,IAAIwf,EAAQ8hB,GAAiBG,KAAKzhC,GAClC,IAAKwf,EAAO,MAAO,CAAC,GACpB,IAAIrhB,GAAK,QAAOqhB,EAAO,GAGvB,MAAO,CAFGrhB,EAAG,GACAA,EAAG,GAElB,CAOkBujC,CAAiB1hC,GAAU,GACzC2hC,EAAQxjC,EAAG,GACXyjC,EAAWzjC,EAAG,GAEhB,GAAKwjC,EAAL,CAEA,IAAI/rB,EAAWxQ,OAAOy8B,iBAAiBp0C,GAASq0C,iBAAiBH,GACjE,OAAI/rB,EACKA,EAAShF,OACP,GAAcgxB,GAEhBL,GAAiBK,EAAUn0C,EAAS+zC,EAAQ,GAE5CI,CATS,CAWpB,CCxCA,SAASG,GAAgBC,EAAQpK,GAC/B,OAAOoK,GAAUpK,EAAKtsB,IAAMssB,EAAKvsB,KAAO,GAC1C,CA6BA,IAAI42B,GAAW,QAgDf,IAAIC,GAA6B,CAC/BlyB,QAtEF,SAA6B6W,EAAQsb,EAAchkC,GACjD,IAAI1Y,EAAS0Y,EAAG1Y,OAKhB,GAAsB,iBAAXohC,EAAqB,CAC9B,IAAIva,EAAGxC,KAAK+c,GAGV,OAAOA,EAFPA,EAAShrB,WAAWgrB,EAIxB,CAOA,OAFQkb,GAAgBlb,EAAQphC,EAAOmT,GAE5B,KADHmpC,GAAgBlb,EAAQphC,EAAOqT,GACjB,GACxB,GAoDIspC,GAAyB,CAC3Bn6C,cAAc,SAAS,QAAS,CAAC,EAAGi6C,IAA6B,CAC/DjyB,QAAS,CAAC,sBAAuB,uBAAwB,yBAA0B,6BAErFjD,oBAAqBk1B,GACrBj1B,qBAAsBi1B,GACtB/0B,uBAAwB+0B,GACxBh1B,wBAAyBg1B,GACzBG,UAAW,CACTryB,QA3DJ,SAA0B6W,EAAQ1oB,GAChC,IAAIie,EAAQje,EAAGie,MACbhM,EAAYjS,EAAGiS,UACbkyB,EAAWzb,EAIX0b,EAAuB1b,EAAOhd,SAAS,QACvC24B,EAAe,GACfD,IACF1b,EAASA,EAAO7S,QAAQstB,IAAkB,SAAU9hB,GAElD,OADAgjB,EAAa5hC,KAAK4e,GACXyiB,EACT,KAEF,IAAIQ,EAAS1gB,GAAQ5V,MAAM0a,GAE3B,GAAI4b,EAAO78C,OAAS,EAAG,OAAO08C,EAC9B,IAAIzf,EAAWd,GAAQJ,kBAAkBkF,GACrClpB,EAA8B,iBAAd8kC,EAAO,GAAkB,EAAI,EAE7CC,EAAStmB,EAAMxjB,EAAE8D,MAAQ0T,EAAUxX,EACnC+pC,EAASvmB,EAAMtjB,EAAE4D,MAAQ0T,EAAUtX,EACvC2pC,EAAO,EAAI9kC,IAAW+kC,EACtBD,EAAO,EAAI9kC,IAAWglC,EAOtB,IAAIC,EAAe7tB,GAAI2tB,EAAQC,EAAQ,IAEL,iBAAvBF,EAAO,EAAI9kC,KAAsB8kC,EAAO,EAAI9kC,IAAWilC,GAEhC,iBAAvBH,EAAO,EAAI9kC,KAAsB8kC,EAAO,EAAI9kC,IAAWilC,GAClE,IAAI/gB,EAASgB,EAAS4f,GACtB,GAAIF,EAAsB,CACxB,IAAIM,EAAM,EACVhhB,EAASA,EAAO7N,QAAQiuB,IAAU,WAChC,IAAIa,EAAcN,EAAaK,GAE/B,OADAA,IACOC,CACT,GACF,CACA,OAAOjhB,CACT,ICvEI6Q,GAAuB,SAAUqQ,GAEnC,SAASrQ,IACP,IAAItE,EAAmB,OAAX2U,GAAmBA,EAAO78C,MAAMC,KAAMR,YAAcQ,KAwIhE,OAnIAioC,EAAM4U,aAAc,WAKpB5U,EAAM6U,wBAAyB,WAI/B7U,EAAM8B,YAAc,CAClBt3B,GAAG,EACHE,GAAG,GAELs1B,EAAM8U,kBAAoB,CACxBtqC,OAAG/L,EACHiM,OAAGjM,GAELuhC,EAAM+U,iBAAkB,EACxB/U,EAAMpyB,QAAU,SAAUvW,EAAQssB,EAAQ5T,QAC7B,IAAPA,IACFA,EAAK,CAAC,GAER,IAAIilC,EAAYjlC,EAAGilC,UACjBC,EAAYllC,EAAGklC,UACfC,EAAmBnlC,EAAGmlC,iBACtBC,EAAqBplC,EAAGolC,mBACxB7b,EAAavpB,EAAGupB,WAChB8b,EAAarlC,EAAGqlC,WAChB79B,GAAS,QAAOxH,EAAI,CAAC,YAAa,YAAa,mBAAoB,qBAAsB,aAAc,eACrGoB,EAAK6uB,EAAM5nC,MACbqf,EAAgBtG,EAAGsG,cACnB+E,EAASrL,EAAGqL,OAId,IAA2B,IAAvB24B,EAEF,OADAnV,EAAM+U,iBAAkB,EACjB/U,EAAMqV,eAKf,IAAIrV,EAAM+U,kBAA0C,IAAvBI,EAA7B,CAEWA,IACTnV,EAAM+U,iBAAkB,GAM1BpxB,EAASqxB,GAAarxB,EACtBtsB,EAAS49C,GAAa59C,EAMtB,IAAI+5C,GAAa,EACbC,EAAmB55B,EAAc65B,sBACrC,GAAID,EAAkB,CACpB,IAAIiE,EAAwBjE,EAAiB/7B,gBACzCigC,EAAelE,EAAiBnC,iBAAiB1yB,OAIjD44B,IAMEH,IACFM,EAAeH,EAAWlG,iBAAiB1yB,QAOzCw4B,IAAc/J,GAAwBmK,EAAY/D,IAAqB+D,EAAW9/B,kBACpFggC,EAAwBF,EAAW9/B,kBAGnCggC,GAAyBE,GAA6CJ,EAAYJ,EAAWC,KAC/F7D,GAAa,EACbztB,EAASqnB,GAAmBsK,EAAuB3xB,GACnDtsB,EAAS2zC,GAAmBuK,EAAcl+C,GAE9C,CACA,IAAIo+C,EAAcC,GAAS/xB,EAAQtsB,GAC/B+rC,EAAagG,IAAS,SAAUI,GAClC,IAAIz5B,EAAIoB,EAKR,GAAe,aAAXqL,EAAuB,CACzB,IAAI+tB,EAAelzC,EAAOmyC,GAAMtsB,IAAM7lB,EAAOmyC,GAAMvsB,IACnD0G,EAAO6lB,GAAMtsB,IAAMyG,EAAO6lB,GAAMvsB,IAAMstB,CACxC,CACA,IAAI9yB,EAAclC,WAAWogC,eAEtB,YAAyBl3C,IAArBy2C,EAEAO,EAGFzV,EAAM4V,YAAYpM,EAAMnyC,EAAOmyC,GAAO7lB,EAAO6lB,IAAO,SAAS,QAAS,CAAC,EAAGjyB,GAAS,CACxF65B,WAAYA,MAGkC,QAA/CjgC,GAAMpB,EAAKiwB,EAAM8U,mBAAmBtL,UAA0B,IAAPr4B,GAAyBA,EAAGtZ,KAAKkY,GAGlF0H,EAAcq5B,wBAAwBtH,EAAMnyC,EAAOmyC,GAAMvsB,IAAK5lB,EAAOmyC,GAAMtsB,IAAKk0B,SAXvF35B,EAAco+B,cAAcX,IAAqB,UAarD,IAQA,OANAz9B,EAAcU,aAMPspB,QAAQgC,IAAIL,GAAYxB,MAAK,WAClC5B,EAAM+U,iBAAkB,EACxBzb,GAAcA,IACd7hB,EAAcq+B,+BAChB,GAnFA,CAoFF,EACO9V,CACT,CAkFA,OA7NA,QAAUsE,EAASqQ,GA4InBrQ,EAAQ3sC,UAAUo+C,kBAAoB,WACpC,IAAI/V,EAAQjoC,KACR0f,EAAgB1f,KAAKK,MAAMqf,cAC/BA,EAAcu+B,mBAAqBhX,GACnCvnB,EAAc81B,yBACdx1C,KAAKk+C,iBAAmBx+B,EAAcg7B,eAAe16C,KAAK6V,SAC1D6J,EAAcy+B,mBAAqB,WACjC,OAAOlW,EAAMqV,cACf,EjH5JJ,SAA4Bc,GAC1B,IAAK,IAAIz+C,KAAOy+C,EACdx6B,EAAqBjkB,GAAOy+C,EAAWz+C,EAE3C,CiHyJI0+C,CAAmBpC,GACrB,EACA1P,EAAQ3sC,UAAU0+C,qBAAuB,WACvC,IAAIrW,EAAQjoC,KACZA,KAAKk+C,mBACL7M,IAAS,SAAUI,GACjB,IAAIz5B,EAAIoB,EACR,OAAuD,QAA/CA,GAAMpB,EAAKiwB,EAAM8U,mBAAmBtL,UAA0B,IAAPr4B,OAAgB,EAASA,EAAGtZ,KAAKkY,EAClG,GACF,EAMAu0B,EAAQ3sC,UAAUi+C,YAAc,SAAUpM,EAAMnyC,EAAQssB,EAAQ5T,GAC9D,IACIoB,EAAIE,EADJ2uB,EAAQjoC,KAERoqB,OAAY,IAAPpS,EAAgB,CAAC,EAAIA,EAC5BnE,EAAauW,EAAGvW,WAChBwlC,EAAajvB,EAAGivB,WAIlB,IAAIr5C,KAAK+pC,YAAY0H,KAAS8M,GAAYj/C,EAAQU,KAAK88C,uBAAuBrL,IAA9E,CAG+C,QAA9Cn4B,GAAMF,EAAKpZ,KAAK+8C,mBAAmBtL,UAA0B,IAAPn4B,GAAyBA,EAAGxZ,KAAKsZ,GACxFpZ,KAAK+pC,YAAY0H,IAAQ,EACzB,IAAI/xB,EAAgB1f,KAAKK,MAAMqf,cAC3Bm9B,EAAc78C,KAAK68C,YAAYpL,GAC/B+M,EAAiB9+B,EAAc++B,iCAAiChN,GAKpE+M,EAAenV,iBACfmV,EAAe/lC,IAAI,GACnB+lC,EAAe/lC,IAAI,GAKnB,IAAIimC,EAAQ,WAEV,IAAI9/B,EAAI4/B,EAAepjC,MApMR,KVTrB,SAAmB9b,EAAQ+1B,EAAMD,EAAMxW,GACrCtf,EAAO4lB,IAAM0J,GAAIyG,EAAKnQ,IAAKkQ,EAAKlQ,IAAKtG,GACrCtf,EAAO6lB,IAAMyJ,GAAIyG,EAAKlQ,IAAKiQ,EAAKjQ,IAAKvG,EACvC,CU4MM+/B,CAAU9B,EAAajxB,EAAQtsB,EAAQsf,GACvCc,EAAcq5B,wBAAwBtH,EAAMoL,EAAY33B,IAAK23B,EAAY13B,IAAKk0B,EAChF,EAEAqF,IAEA,IAAIE,EAAsBJ,EAAerV,SAASuV,GAClD1+C,KAAK+8C,kBAAkBtL,GAAQ,WAC7BxJ,EAAM8B,YAAY0H,IAAQ,EAC1B+M,EAAehe,OACfoe,GACF,EACA5+C,KAAK88C,uBAAuBrL,GAAQnyC,EACpC,IAAIu/C,EAAmBhrC,GAAc6L,EAAcqrB,wBAA0B+T,GAG7E,OADgB7X,GAAwB,MAATwK,EAAe,UAAY,UAAW+M,EArNpD,IAqNoFK,GAAoBvY,GAAmBuY,EAAkB,WAAWhV,KAAK7pC,KAAK+8C,kBAAkBtL,GApCrM,CAsCF,EACAlF,EAAQ3sC,UAAU09C,aAAe,WAC/B,IAAItlC,EAAIoB,EACkC,QAAzCA,GAAMpB,EAAKhY,KAAKK,OAAOi9C,oBAAiC,IAAPlkC,GAAyBA,EAAGtZ,KAAKkY,EACrF,EACAu0B,EAAQ3sC,UAAUkpC,OAAS,WACzB,OAAO,IACT,EACOyD,CACT,CA/N2B,CA+NzB,aAQF,SAASoR,GAAS35B,EAAGC,GACnB,QAAQ86B,GAAU/6B,IAAO+6B,GAAU96B,IAAQs6B,GAAYv6B,EAAEvR,EAAGwR,EAAExR,IAAO8rC,GAAYv6B,EAAErR,EAAGsR,EAAEtR,GAC1F,CACA,IAAIqsC,GAAW,CACb95B,IAAK,EACLC,IAAK,GAEP,SAAS45B,GAAU/6B,GACjB,OAAOu6B,GAAYv6B,EAAEvR,EAAGusC,KAAaT,GAAYv6B,EAAErR,EAAGqsC,GACxD,CACA,SAAST,GAAYv6B,EAAGC,GACtB,OAAOD,EAAEkB,MAAQjB,EAAEiB,KAAOlB,EAAEmB,MAAQlB,EAAEkB,GACxC,CACA,IAAI25B,GAA0B,CAC5BnrC,SAAU,IACVX,KAAM,CAAC,GAAK,EAAG,GAAK,IAEtB,SAASyqC,GAA6CJ,EAAYJ,EAAWC,GAC3E,OAAOG,IAAeA,KAAgBJ,GAAaC,EACrD,C,gBC7PI+B,GAAuB,SAAUrC,GAEnC,SAASqC,IACP,OAAkB,OAAXrC,GAAmBA,EAAO78C,MAAMC,KAAMR,YAAcQ,IAC7D,CA6CA,OAhDA,QAAUi/C,EAASrC,GAOnBqC,EAAQr/C,UAAUo+C,kBAAoB,WACpC,IAAIhmC,EAAKhY,KAAKK,MACZ6+C,EAAalnC,EAAGknC,WAChBC,EAAmBnnC,EAAGmnC,iBACtBz/B,EAAgB1H,EAAG0H,eACrB,SAAew/B,IAAeA,EAAWrmC,SAAS6G,IAClD,SAAey/B,IAAqBA,EAAiBtmC,SAAS6G,GAC9DA,EAAc0/B,WAAU,YAClB,SAAeF,IACjBA,EAAWG,OAAO3/B,IAEhB,SAAey/B,IACjBA,EAAiBE,OAAO3/B,EAE5B,GACF,EAOAu/B,EAAQr/C,UAAU0/C,wBAA0B,WAC1C,IAAItnC,EAAKhY,KAAKK,MACZ6+C,EAAalnC,EAAGknC,WAChBx/B,EAAgB1H,EAAG0H,cAOrB,OANI,SAAew/B,GACjBA,EAAWK,eAEX,SAAoB7/B,GACpBw/B,EAAW/jC,IAAIuE,IAEV,IACT,EACAu/B,EAAQr/C,UAAU4/C,mBAAqB,WACrC,IAAIN,EAAal/C,KAAKK,MAAM6+C,YACvB,SAAeA,IAAaA,EAAWziC,OAC9C,EACAwiC,EAAQr/C,UAAUkpC,OAAS,WACzB,OAAO,IACT,EACOmW,CACT,CAlD2B,CAkDzB,aCxDF,IAAIQ,GAAmB,CACrBzhC,cDwDF,SAAgC3d,GAC9B,IAAI6+C,GAAa,IAAAjlC,YAAWC,GAAA,IACxBilC,GAAmB,IAAAllC,YAAW,OAClC,OAAO,gBAA6BglC,IAAS,QAAS,CAAC,EAAG5+C,EAAO,CAC/D6+C,WAAYA,EACZC,iBAAkBA,IAEtB,EC9DE7gC,gBFuOF,SAAsCje,GACpC,IACEi9C,GADO,SAAO,UAAe,GACX,GACpB,OAAO,gBAAoB/Q,IAAS,QAAS,CAAC,EAAGlsC,EAAO,CACtDi9C,aAAcA,IAElB,GGvOA,SAASoC,KACP,MAAO,CACL/1B,YAAY,EACZlF,QAAQ,WACR2yB,iBAAiB,WACjBntB,UAAW,CACTxX,EAAG,EACHE,EAAG,GAELsjB,OAAO,WACPjM,YAAY,WACZ21B,eAAgB,GAEpB,CACA,IAAIC,GAAaF,KClBjB,SAASG,GAA+B7nC,EAAIiS,EAAW61B,GACrD,IAAIrtC,EAAIuF,EAAGvF,EACTE,EAAIqF,EAAGrF,EASLxS,EAAY,eAFCsS,EAAEkgC,UAAY1oB,EAAUxX,EAEK,OAD7BE,EAAEggC,UAAY1oB,EAAUtX,EAC2B,UACpE,GAAImtC,EAAiB,CACnB,IAAIv4B,EAASu4B,EAAgBv4B,OAC3BC,EAAUs4B,EAAgBt4B,QAC1BC,EAAUq4B,EAAgBr4B,QACxBF,IAAQpnB,GAAa,UAAYonB,EAAS,MAC1CC,IAASrnB,GAAa,WAAaqnB,EAAU,MAC7CC,IAAStnB,GAAa,WAAasnB,EAAU,KACnD,CAEA,OADAtnB,GAAa,SAAWsS,EAAE8D,MAAQ,KAAO5D,EAAE4D,MAAQ,IAC3CupC,GAAmB3/C,IAAc4/C,GAA0B5/C,EAAL,EAChE,CAIA,SAAS6/C,GAAqChoC,GAC5C,IAAIgS,EAAahS,EAAGgS,WACpB,OAA6B,IAAtBA,EAAWvX,EAAEmZ,OAAe,KAA6B,IAAtB5B,EAAWrX,EAAEiZ,OAAe,KACxE,CACA,IAAIm0B,GAAqBF,GAA+BD,GAAW3pB,MAAO2pB,GAAW31B,UAAW,CAC9FxX,EAAG,EACHE,EAAG,ICpCDstC,GAAQ,CAAC,gBAAiB,sBAAuB,eAAgB,oBAAqB,SAAU,SAAU,oBAAqB,0BAA2B,iBAAkB,gBAAiB,WCAjM,SAASC,GAAmBloC,EAAIoB,EAAI+mC,EAAU92B,GAC5C,IdegB8oB,EAAK8K,EcfjBhnB,EAAQje,EAAGie,MACbxR,EAASzM,EAAGyM,OACZ2yB,EAAkBp/B,EAAGo/B,gBACrBntB,EAAYjS,EAAGiS,UACb3qB,EAAS8Z,EAAG9Z,OdWK29C,EcNKx4B,EdO1B+uB,IADgBrB,EcNPiF,GdOK3kC,EAAGwqC,EAAUxqC,GAC3B+gC,GAAUrB,EAAIx/B,EAAGsqC,EAAUtqC,GA4H7B,SAAyBw/B,EAAKloB,EAAWk2B,GACvC,IAAIC,EAAaD,EAAS1gD,OAC1B,GAAK2gD,EAAL,CAGA,IAAI55C,EACAyvB,EAFJhM,EAAUxX,EAAIwX,EAAUtX,EAAI,EAG5B,IAAK,IAAIpT,EAAI,EAAGA,EAAI6gD,EAAY7gD,IAE9B02B,GADAzvB,EAAO25C,EAAS5gD,IACH43C,iBAAiBlhB,MAE9BhM,EAAUxX,GAAKwjB,EAAMxjB,EAAE8D,MACvB0T,EAAUtX,GAAKsjB,EAAMtjB,EAAE4D,MAEvBu9B,GAAc3B,EAAKlc,GAEfqd,GAAY9sC,IACd+tC,GAAmBpC,EAAKA,EAAK3rC,EAAKgzC,kBAff,CAkBzB,CcnJE6G,CAAgBjJ,EAAiBntB,EAAWk2B,GAU5CvN,GAAe3c,EAAOmhB,EAAiB93C,EAAQ+pB,EACjD,C,gBC1BIi3B,GAAwB,WAC1B,SAASA,IACPtgD,KAAK6D,SAAW,GAChB7D,KAAKugD,SAAU,CACjB,CAcA,OAbAD,EAAS1gD,UAAUub,IAAM,SAAUpS,GACjC6+B,GAAc5nC,KAAK6D,SAAUkF,GAC7B/I,KAAKugD,SAAU,CACjB,EACAD,EAAS1gD,UAAUy/C,OAAS,SAAUt2C,GACpC++B,GAAW9nC,KAAK6D,SAAUkF,GAC1B/I,KAAKugD,SAAU,CACjB,EACAD,EAAS1gD,UAAU+Y,QAAU,SAAU2a,GACrCtzB,KAAKugD,SAAWvgD,KAAK6D,SAASmZ,KAAK,MACnChd,KAAKugD,SAAU,EACfvgD,KAAK6D,SAAS8U,QAAQ2a,EACxB,EACOgtB,CACT,CAnB4B,GCkB5B,IAAI5gC,GAAgB,SAAuB1H,GACzC,IAAIoB,EAAKpB,EAAGwoC,SACVA,OAAkB,IAAPpnC,EAAgB,GAAKA,EAChCqnC,EAAQzoC,EAAGyoC,MACXC,EAAiB1oC,EAAG22B,cACpBgS,EAAwB3oC,EAAG4yB,qBAC3BgW,EAAsB5oC,EAAGs+B,mBACzBuK,EAAiB7oC,EAAG8wB,OACpBgY,EAAwB9oC,EAAG8oC,sBAC3BC,EAAkB/oC,EAAGkF,eACrB8jC,EAAoBhpC,EAAGmF,iBACvB8jC,EAA6BjpC,EAAGipC,2BAChCC,EAAoBlpC,EAAGk0B,iBACvB7d,EAA8BrW,EAAGqW,4BACnC,OAAO,SAAUrW,EAAIrH,GACnB,IAAI+L,EAAS1E,EAAG0E,OACdrc,EAAQ2X,EAAG3X,MACXuX,EAAaI,EAAGJ,WAChBqI,EAAwBjI,EAAGiI,sBAC3BX,EAActH,EAAGsH,iBACH,IAAZ3O,IACFA,EAAU,CAAC,GAEb,IAQImS,EAgBAw2B,EAUA6H,EAYAC,EA6BAC,EAWAC,EAtFAx4B,EAAexJ,EAAYwJ,aAC7BqF,EAAc7O,EAAY6O,YAYxBozB,EHrDR,WACE,IAAIC,EAAWvB,GAAM1uC,KAAI,WACvB,OAAO,IAAIw2B,EACb,IACI0Z,EAAoB,CAAC,EACrBF,EAAa,CACfG,kBAAmB,WACjB,OAAOF,EAAS7oC,SAAQ,SAAUgpC,GAChC,OAAOA,EAAQrkC,OACjB,GACF,EACAskC,oBAAqB,SAA6BvhD,GAChD,OAAO4/C,GAAMtnC,SAAQ,SAAUpW,GAC7B,IAAIyV,EAC+B,QAAlCA,EAAKypC,EAAkBl/C,UAA0B,IAAPyV,GAAyBA,EAAGlY,KAAK2hD,GAC5E,IAAII,EAAK,KAAOt/C,EACZu/C,EAAezhD,EAAMwhD,GACrBC,IACFL,EAAkBl/C,GAAQg/C,EAAWM,GAAIC,GAE7C,GACF,GAcF,OAZAN,EAAS7oC,SAAQ,SAAUgpC,EAASpiD,GAClCgiD,EAAW,KAAOtB,GAAM1gD,IAAM,SAAU4wB,GACtC,OAAOwxB,EAAQxmC,IAAIgV,EACrB,EACAoxB,EAAW,SAAWtB,GAAM1gD,IAAM,WAEhC,IADA,IAAIwiD,EAAO,GACFhuB,EAAK,EAAGA,EAAKv0B,UAAUC,OAAQs0B,IACtCguB,EAAKhuB,GAAMv0B,UAAUu0B,GAEvB,OAAO4tB,EAAQzZ,OAAOnoC,MAAM4hD,GAAS,QAAc,IAAI,QAAOI,IAChE,CACF,IACOR,CACT,CGiBqBS,GAIbxkC,EL1DC,CACLK,WAAW,EACX8L,YAAY,EACZi0B,gBAAgB,EAChBt+C,QAAQ,WACRq6C,aAAa,YKoETsI,EAAiBzkC,EACjB0kC,EAAmBp5B,EASnBC,EAAc22B,KASdyC,GAAwB,EAMxB/yB,EAAS,IAAInW,IAKbmpC,EAAqB,IAAInpC,IAMzBopC,EAAmB,CAAC,EAYpBC,GAAa,QAAS,CAAC,EAAGx5B,GAU9B,SAASggB,IACFhmB,IACDxb,EAAQi7C,sBAMVhO,GAAmB0N,EAAetI,YAAasI,EAAe3iD,OAAQ4iD,GAOtEtP,GAAe7pB,EAAYiB,WAAYjB,EAAYquB,gBAAiB6K,EAAetI,YAAa7wB,IAElG05B,IACA3B,EAAe/9B,EAAUqL,GAC3B,CACA,SAASq0B,IACP,IAAIC,EAAiB35B,EACrB,GAAIs4B,GAAcA,EAAWl8C,WAAY,CACvC,IAAIw9C,EAAmBtB,EAAWuB,kBAAkBr7C,GAChDo7C,IAAkBD,EAAiBC,EACzC,CACAjC,EAAMn5C,EAAS6mB,EAAas0B,EAAgBR,EAAgBl5B,EAAapY,EAAStQ,EACpF,CACA,SAASigC,IACPihB,EAAWqB,aAAa95B,EAC1B,CAmBA,SAAS+5B,IACPv7C,EAAQw7C,WAAWnqC,QAAQoqC,GAC7B,CAyBA,IAAIC,EAAsB30B,EAA4BhuB,GACtD,IAAK,IAAIV,KAAOqjD,EAAqB,CACnC,IAAIz/C,EAAQy/C,EAAoBrjD,QACN+G,IAAtBoiB,EAAanpB,IAAsB+kB,EAAcnhB,IACnDA,EAAMkV,IAAIqQ,EAAanpB,IAAM,EAEjC,CAIA,IAAI2vB,EAAwB/N,EAA2BlhB,GACnDkvB,EAAgB1N,EAAmBxhB,GACnCiH,GAAU,SAAS,QAAS,CAC9Bk5C,SAAUA,EAKV3mC,QAAS,KAITwhC,MAAO3+B,EAASA,EAAO2+B,MAAQ,EAAI,EACnC3+B,OAAQA,EACR7Y,SAAU,IAAIiX,IAKdtT,KAAMkV,GAAS,SAAc,QAAc,IAAI,QAAOA,EAAOlV,OAAQ,CAACkV,IAAW,GACjFomC,WAAYpmC,EAASA,EAAOomC,WAAa,IAAIxC,GAI7C1oC,WAAYA,EACZ4F,WAAYA,EAMZ2tB,gBAAiB5b,EAAgB,IAAIzU,SAAQpU,EAO7Cu8C,eAAWv8C,EASXsnC,uBAAwBz4B,QAAQmH,aAAuC,EAASA,EAAOwmC,aAKvFjjC,sBAAuBA,EAMvBijC,UAAW,WACT,OAAO3tC,QAAQuN,EACjB,EACAC,MAAO,SAAeogC,GACpBrgC,EAAWxb,EAAQuS,QAAUspC,EAC7B77C,EAAQ87C,QAAQ97C,GACZioB,GAAiB7S,IAAW4S,IAC9BgyB,EAAwB5kC,aAAuC,EAASA,EAAO2mC,gBAAgB/7C,IAEjGoV,SAAgDA,EAAO7Y,SAASsX,IAAI7T,EACtE,EAIA0b,QAAS,WACP,aAAkBsd,GAClB,aAAkBwI,GAClB,gBAAqBxhC,EAAQg8C,wBAC7BlB,EAAmBzpC,SAAQ,SAAU0mC,GACnC,OAAOA,GACT,IACA/3C,EAAQ0yC,sBACR1yC,EAAQw7C,WAAWzD,OAAO/3C,GAC1Bg6C,SAA8EA,IAC9E5kC,SAAgDA,EAAO7Y,SAASiV,OAAOxR,GACvE65C,SAAoGA,IACpGI,EAAWG,mBACb,EAIA2B,gBAAiB,SAAyBt6C,GACxC,IAAIiP,EACAurC,EAAqBj8C,EAAQk8C,wBACjC,GAAID,EAEF,OAD8C,QAA7CvrC,EAAKurC,EAAmBpY,uBAAoC,IAAPnzB,GAAyBA,EAAGmD,IAAIpS,GAC/E,WACL,OAAOw6C,EAAmBpY,gBAAgBryB,OAAO/P,EACnD,CAEJ,EACAmjC,iBAAkB,SAA0BuX,GAI1C,OAAKvC,GAAqBV,IAAaiD,EAAMjD,SACtCU,EAAkB55C,EAAQwtB,cAAe2uB,EAAM3uB,eADQ,CAEhE,EAKA0uB,sBAAuB,WACrB,OAAOj0B,EAAgBjoB,EAAUoV,aAAuC,EAASA,EAAO8mC,uBAC1F,EAMAjN,+BAAgC75B,EAASA,EAAO65B,+BAAiC,WAC/E,OAAO,gBAAejvC,EAAQo8C,4BAA4B,GAAO,EACnE,EAIAtQ,YAAa,WACX,OAAO/yC,EAAMuf,QACf,EAIAkV,YAAa,WACX,OAAOhS,CACT,EAIA6gC,eAAgB,SAAwBhkD,GACtC,OAAOmpB,EAAanpB,EACtB,EACAikD,eAAgB,SAAwBjkD,EAAK4D,GAC3C,OAAOulB,EAAanpB,GAAO4D,CAC7B,EAMAi2C,gBAAiB,WACf,OAAO1wB,CACT,EAKAg1B,cAAe,SAAuB+F,GAChCv8C,EAAQ27C,YAAcY,IAC1Bv8C,EAAQ27C,UAAYY,EACpBv8C,EAAQw8C,iBACV,EAQAlZ,qBAAsB,SAA8BtrC,EAAQykD,GAI1D,YAHkB,IAAdA,IACFA,GAAY,GAEPpD,EAAsBr5C,EAAShI,EAAQe,EAAO0jD,EACvD,EAKArZ,SAAU,SAAkB/qC,EAAK4D,GAE3B+D,EAAQkjC,SAAS7qC,IAAM2H,EAAQ08C,YAAYrkD,GAC/CyvB,EAAO3W,IAAI9Y,EAAK4D,GAChBulB,EAAanpB,GAAO4D,EAAM6X,MAnN9B,SAA2Bzb,EAAK4D,GAC9B,IAAI0gD,EAAiB1gD,EAAM4lC,UAAS,SAAU+a,GAC5Cp7B,EAAanpB,GAAOukD,EACpB7jD,EAAMohC,UAAY,aAAYnB,GAAQ,GAAO,EAC/C,IACI6jB,EAAwB5gD,EAAM+lC,gBAAgBhiC,EAAQw8C,gBAC1D1B,EAAmB3pC,IAAI9Y,GAAK,WAC1BskD,IACAE,GACF,GACF,CA0MIC,CAAkBzkD,EAAK4D,EACzB,EAIAygD,YAAa,SAAqBrkD,GAChC,IAAIqY,EACJoX,EAAOtW,OAAOnZ,GACyB,QAAtCqY,EAAKoqC,EAAmBhnC,IAAIzb,UAAyB,IAAPqY,GAAyBA,IACxEoqC,EAAmBtpC,OAAOnZ,UACnBmpB,EAAanpB,GACpBshD,EAA2BthD,EAAKwuB,EAClC,EAIAqc,SAAU,SAAkB7qC,GAC1B,OAAOyvB,EAAO1T,IAAI/b,EACpB,EAKA8qC,SAAU,SAAkB9qC,EAAKglC,GAC/B,IAAIphC,EAAQ6rB,EAAOhU,IAAIzb,GAKvB,YAJc+G,IAAVnD,QAAwCmD,IAAjBi+B,IACzBphC,EAAQ0mC,GAAYtF,GACpBr9B,EAAQojC,SAAS/qC,EAAK4D,IAEjBA,CACT,EAIA4d,aAAc,SAAsBmS,GAClC,OAAOlE,EAAOzW,QAAQ2a,EACxB,EAMA+wB,UAAW,SAAmB1kD,GAC5B,IAAIqY,EACJ,OAAoC,QAA5BA,EAAK8Q,EAAanpB,UAAyB,IAAPqY,EAAgBA,EAAK8oC,EAAsBh+B,EAAUnjB,EAAKgR,EACxG,EAKA2zC,cAAe,SAAuB3kD,EAAK4D,GACzC++C,EAAW3iD,GAAO4D,CACpB,EAKAorC,cAAe,SAAuBhvC,GACpC,GAAI+gD,EAAgB,CAClB,IAAIphD,EAASohD,EAAergD,EAAOV,GACnC,QAAe+G,IAAXpH,IAAyBolB,EAAcplB,GAAS,OAAOA,CAC7D,CACA,OAAOgjD,EAAW3iD,EACpB,GACC4hD,GAAa,CAIdd,MAAO,WAEL,OADA+B,IACOr0B,CACT,EAIA21B,eAAgB,WACd,aAAYhb,GAAQ,GAAO,EAC7B,EAOA1oB,WAAY0oB,EAKZ5oB,SAAU,SAAkBqkC,GAC1BlkD,EAAQkkD,EACRhD,EAAWK,oBAAoB2C,GAC/BlC,EC1eR,SAAqC/6C,EAAS8tB,EAAMC,GAClD,IAAIrd,EACJ,IAAK,IAAIrY,KAAOy1B,EAAM,CACpB,IAAIsjB,EAAYtjB,EAAKz1B,GACjB6kD,EAAYnvB,EAAK11B,GACrB,GAAI+kB,EAAcg0B,GAKhBpxC,EAAQojC,SAAS/qC,EAAK+4C,QACjB,GAAIh0B,EAAc8/B,GAKvBl9C,EAAQojC,SAAS/qC,EAAKsqC,GAAYyO,SAC7B,GAAI8L,IAAc9L,EAMvB,GAAIpxC,EAAQkjC,SAAS7qC,GAAM,CACzB,IAAI8kD,EAAgBn9C,EAAQmjC,SAAS9qC,IAEpC8kD,EAAcvb,aAAeub,EAAchsC,IAAIigC,EAClD,MACEpxC,EAAQojC,SAAS/qC,EAAKsqC,GAAmD,QAAtCjyB,EAAK1Q,EAAQq8C,eAAehkD,UAAyB,IAAPqY,EAAgBA,EAAK0gC,GAG5G,CAEA,IAAK,IAAI/4C,KAAO01B,OACI3uB,IAAd0uB,EAAKz1B,IAAoB2H,EAAQ08C,YAAYrkD,GAEnD,OAAOy1B,CACT,CDqc2BsvB,CAA4Bp9C,EAAS+mB,EAA4BhuB,GAAQgiD,EAC9F,EACAnhC,SAAU,WACR,OAAO7gB,CACT,EAKAskD,WAAY,SAAoBpiD,GAC9B,IAAIyV,EACJ,OAAiC,QAAzBA,EAAK3X,EAAM0V,gBAA6B,IAAPiC,OAAgB,EAASA,EAAGzV,EACvE,EAIAwoC,qBAAsB,WACpB,OAAO1qC,EAAMwT,UACf,EAIAy5B,kBAAmB,SAA2BsX,GAI5C,QAHsB,IAAlBA,IACFA,GAAgB,GAEdA,EAAe,OAAOloC,aAAuC,EAASA,EAAO4wB,oBACjF,IAAKhe,EAAuB,CAC1B,IAAIu1B,GAAanoC,aAAuC,EAASA,EAAO4wB,sBAAwB,CAAC,EAIjG,YAHsB5mC,IAAlBrG,EAAMyV,UACR+uC,EAAU/uC,QAAUzV,EAAMyV,SAErB+uC,CACT,CAEA,IADA,IAAI3hD,EAAU,CAAC,EACN3D,EAAI,EAAGA,EAAIulD,GAAiBvlD,IAAK,CACxC,IAAIojB,EAASoiC,GAAaxlD,GACtB2iB,EAAO7hB,EAAMsiB,IACb/B,EAAesB,KAAkB,IAATA,KAC1Bhf,EAAQyf,GAAUT,EAEtB,CACA,OAAOhf,CACT,EAMAsyC,uBAAwB,WACtBh4B,EAAWK,WAAY,EACvBvW,EAAQw7C,WAAW3nC,IAAI7T,EACzB,EAKA4uC,qBAAsB,WACpB14B,EAAWogC,gBAAiB,CAC9B,EACA1F,uBAAwB,WACtB5wC,EAAQ0yC,sBACRx8B,EAAWogC,gBAAiB,CAC9B,EACAzG,eAAgB,WACd,OAAOpuB,CACT,EACAi8B,cAAe,SAAuBC,GACpC7D,EAAa6D,CACf,EACA1C,kBAAmB,WACjB,OAAO/kC,EAAWK,WAAaL,EAAWmM,YAAcZ,EAAYY,UACtE,EAIAmwB,qBAAsB,SAA8BrI,EAAM59B,EAAYwlC,QACjD,IAAfA,IACFA,GAAa,GAEf,IAAIvtB,EAAWxkB,EAAQm3C,iCAAiChN,GACpDz5B,EAAKqhC,EAAa77B,EAAW0nC,eAAezT,GAAQj0B,EAAWle,OAAOmyC,GACxEvsB,EAAMlN,EAAGkN,IAEPzlB,EADIuY,EAAGmN,IACQD,EAOnB,OANA4G,EAASud,iBACTvd,EAASrT,IAAIyM,GACb4G,EAASrT,IAAIyM,GACb4G,EAASqd,UAAS,SAAUzoB,GAC1BpZ,EAAQyxC,wBAAwBtH,EAAM/wB,EAAGA,EAAIjhB,EAAQ45C,EACvD,IACO/xC,EAAQ22C,mBAAmBxM,EAAM3lB,EAAU,EAAGjY,EACvD,EAIAmmC,oBAAqB,WACnB3I,IAAS,SAAUI,GACjB,OAAOnqC,EAAQm3C,iCAAiChN,GAAMjR,MACxD,GACF,EAMA8V,mBAAoB,SAA4B6O,QACxB,IAAlBA,IACFA,GAAgB,GAElB,IAAIC,EAAcxE,EAAoB99B,EAAUnS,GAEhD,OADKw0C,GAAevQ,GAAoBwQ,EAAat8B,GAC9Cs8B,CACT,EAKA3G,+BAAgC,WAK9B,OAJA4C,IAA6BA,EAA2B,CACtD5uC,EAAGw3B,GAAY,GACft3B,EAAGs3B,GAAY,KAEVoX,CACT,EAKAtI,wBAAyB,SAAiCtH,EAAMvsB,EAAKC,EAAKk0B,GAIxE,IAAI/5C,OAHe,IAAf+5C,IACFA,GAAa,GAGXA,GACG77B,EAAW0nC,iBACd1nC,EAAW0nC,gBAAiB,YAE9B5lD,EAASke,EAAW0nC,eAAezT,KAEnCj0B,EAAW0nC,oBAAiBx+C,EAC5BpH,EAASke,EAAWle,OAAOmyC,IAE7Bj0B,EAAWmM,YAAa,EACxBrqB,EAAO4lB,IAAMA,EACb5lB,EAAO6lB,IAAMA,EAEbg9B,GAAwB,EACxBZ,EAAW8D,qBACb,EAOAhP,uBAAwB,SAAgCiP,EAAOnT,QACjD,IAARA,IACFA,EAAMppB,EAAYtE,QAEpB,IAAIzM,EAAK1Q,EAAQm3C,iCACfhsC,EAAIuF,EAAGvF,EACPE,EAAIqF,EAAGrF,EACL4yC,IAAgB/nC,EAAW0nC,gBAAmB1nC,EAAWogC,gBAAmBnrC,EAAEs3B,eAAkBp3B,EAAEo3B,gBAClGub,GAASC,IACXlU,IAAS,SAAUI,GACjB,IAAIz5B,EAAKm6B,EAAIV,GACXvsB,EAAMlN,EAAGkN,IACTC,EAAMnN,EAAGmN,IACX7d,EAAQyxC,wBAAwBtH,EAAMvsB,EAAKC,EAC7C,GAEJ,EAMA7I,kBAAmB,SAA2BkD,IE5pBpD,SAA+BE,GAC7B,IAAI45B,EAAmB55B,EAAc65B,sBACrC,GAAKD,EAAL,CAIA,IAAIkM,EAAiBvS,GAAmBqG,EAAiBnC,iBAAiB1yB,OAAQ/E,EAAcy3B,iBAAiB1yB,QACjH4sB,IAAS,SAAUI,GACjB/xB,EAAcq5B,wBAAwBtH,EAAM+T,EAAe/T,GAAMvsB,IAAKsgC,EAAe/T,GAAMtsB,KAAK,EAClG,GAJA,MAFEzF,EAAc22B,wBAOlB,CFmpBQoP,CAAsBn+C,GACtBA,EAAQo+C,mBAAmB38B,EAAYtE,OAAQnd,EAAQiW,iBAAmBwL,EAAYtE,OAAQjF,EAChG,EAIAtC,eAAgB,WACd,OAAO6jC,EAAgBz5C,EAASwb,EAAUziB,EAC5C,EACA8c,iBAAkB,WAChB,OAAO6jC,EAAkBl+B,EAAUqL,EACrC,EACAm1B,uBAvgBF,WACE,GAAKh8C,EAAQi7C,oBAAb,CACA,IAAItsB,EAAQlN,EAAYkN,MACtBhM,EAAYlB,EAAYkB,UACtB07B,EAAiB17B,EAAUxX,EAC3BmzC,EAAiB37B,EAAUtX,EAC3BkzC,EAAqB98B,EAAY42B,eACrCO,GAAmBn3B,EAAak5B,EAAgB36C,EAAQE,KAAMshB,GAC9Dq5B,GAAyB76C,EAAQw+C,wBAAwB7D,EAAe3iD,OAAQ22B,GAChFksB,GAAwB,EACxB,IAAIxC,EAAiBE,GAA+B5pB,EAAOhM,GACvD01B,IAAmBkG,GAEvBF,IAAmB17B,EAAUxX,GAAKmzC,IAAmB37B,EAAUtX,GAC7DrL,EAAQw8C,iBAEV/6B,EAAY42B,eAAiBA,CAfW,CAgB1C,EAufE+D,2BAA4B,WAC1Bp8C,EAAQw7C,WAAWnqC,QAAQotC,IAO3B,gBAAelD,GAA6B,GAAO,EAErD,EAEAtJ,oBAAqB,WACnB,QAAyB7yC,IAArB4yC,EAAgC,CAGlC,IAFA,IAAI0M,GAAc,EAETzmD,EAAI+H,EAAQE,KAAK/H,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACjD,IAAI0mD,EAAW3+C,EAAQE,KAAKjI,GAC5B,GAAI0mD,EAASzoC,WAAWK,UAAW,CACjCmoC,EAAcC,EACd,KACF,CACF,CACA3M,EAAmB0M,CACrB,CACA,OAAO1M,CACT,EACA4M,yBAA0B,WACxB,IAAIC,EAAiB7+C,EAAQiyC,sBAC7B,GAAK/7B,EAAW0nC,gBAAmBiB,InBjoB3C,SAAyB3oC,EAAY4oC,GACnCtT,GAAiBt1B,EAAWle,OAAOmT,EAAG+K,EAAW0nC,eAAezyC,EAAG2zC,EAAiB9mD,OAAOmT,GAC3FqgC,GAAiBt1B,EAAWle,OAAOqT,EAAG6K,EAAW0nC,eAAevyC,EAAGyzC,EAAiB9mD,OAAOqT,EAC7F,CmB+nBQ0zC,CAAgB7oC,EAAY2oC,EAAe3oC,YACvC81B,GAAY6S,IAAiB,CAC/B,IAAI7mD,EAASke,EAAWle,OACxBi1C,GAAmBj1C,EAAQA,EAAQ6mD,EAAe3M,kBACpD,CACF,EACA8M,qBAAsB,WACpB,OAAO/wC,QAAQlV,EAAMkmD,sBACvB,EAIAnD,QAAS,SAAiBoD,GACxBvE,EAAiBuE,EAAQhpC,WACzB0kC,EAAmBsE,EAAQhN,kBAI3B2H,SAAoGA,IACpGA,EAAmCttB,GAAK2yB,EAAQC,gBAAgBn/C,EAAQivC,gCAAiCiQ,EAAQE,2BAA0B,WACzI,IAAI1uC,EACA1Q,EAAQ2Q,UACV3Q,EAAQ8V,SAAW,aAEmB,QAArCpF,EAAK1Q,EAAQ62C,0BAAuC,IAAPnmC,GAAyBA,EAAGlY,KAAKwH,EAEnF,IACF,EAEA2Q,WAAW,EACXmF,SAAU,gBAEZ,OAAO9V,CACT,CACF,EACA,SAASy+C,GAA6Bh9C,GACpCA,EAAMm9C,0BACR,CACA,SAASnD,GAA2Bh6C,GAClCA,EAAMu6C,wBACR,CACA,IG7tBIqD,GH6tBA5B,IAAe,QAAc,CAAC,YAAY,QAAOzY,KACjDwY,GAAkBC,GAAatlD,OG9uB/BmnD,GAAiB,IAAI9rC,IAAI,CAAC,QAAS,SAAU,MAAO,OAAQ,QAAS,SAAU,IAAK,MACpF+rC,GAAkB,SAAyBlnD,GAC7C,OAAOinD,GAAelrC,IAAI/b,EAC5B,EAIImnD,GAAsB,SAA6BvjD,EAAO0zB,GAG5D1zB,EAAMkV,IAAIwe,GAAI,GACd1zB,EAAMkV,IAAIwe,EACZ,EACI8vB,GAAgB,SAAuBrmC,GACzC,OAAOA,IAAM6F,IAAU7F,IAAMyF,CAC/B,GAEA,SAAWwgC,GACTA,EAA4B,MAAI,QAChCA,EAA6B,OAAI,SACjCA,EAA2B,KAAI,OAC/BA,EAA4B,MAAI,QAChCA,EAA0B,IAAI,MAC9BA,EAA6B,OAAI,QAClC,CAPD,CAOGA,KAAyBA,GAAuB,CAAC,IACpD,IAAIK,GAAmB,SAA0BC,EAAQC,GACvD,OAAOxxC,WAAWuxC,EAAOlhC,MAAM,MAAMmhC,GACvC,EACIC,GAAyB,SAAgCC,EAAMC,GACjE,OAAO,SAAUC,EAAOtvC,GACtB,IAAI7X,EAAY6X,EAAG7X,UACnB,GAAkB,SAAdA,IAAyBA,EAAW,OAAO,EAC/C,IAAIonD,EAAWpnD,EAAUk5B,MAAM,sBAC/B,GAAIkuB,EACF,OAAOP,GAAiBO,EAAS,GAAIF,GAErC,IAAIJ,EAAS9mD,EAAUk5B,MAAM,oBAC7B,OAAI4tB,EACKD,GAAiBC,EAAO,GAAIG,GAE5B,CAGb,CACF,EACIh+B,GAAgB,IAAItO,IAAI,CAAC,IAAK,IAAK,MACnC0sC,GAAgC1jC,EAAe+gB,QAAO,SAAUllC,GAClE,OAAQypB,GAAc1N,IAAI/b,EAC5B,IAcA,IAAI8nD,GAAmB,CAErBhpD,MAAO,SAAeuZ,GACpB,IAAIvF,EAAIuF,EAAGvF,EACX,OAAOA,EAAE0S,IAAM1S,EAAEyS,GACnB,EACA1mB,OAAQ,SAAgBwZ,GACtB,IAAIrF,EAAIqF,EAAGrF,EACX,OAAOA,EAAEwS,IAAMxS,EAAEuS,GACnB,EACA/b,IAAK,SAAam+C,EAAOtvC,GACvB,IAAI7O,EAAM6O,EAAG7O,IACb,OAAOuM,WAAWvM,EACpB,EACAG,KAAM,SAAcg+C,EAAOtvC,GACzB,IAAI1O,EAAO0O,EAAG1O,KACd,OAAOoM,WAAWpM,EACpB,EACAD,OAAQ,SAAgB2O,EAAIoB,GAC1B,IAAIzG,EAAIqF,EAAGrF,EACPxJ,EAAMiQ,EAAGjQ,IACb,OAAOuM,WAAWvM,IAAQwJ,EAAEwS,IAAMxS,EAAEuS,IACtC,EACA9b,MAAO,SAAe4O,EAAIoB,GACxB,IAAI3G,EAAIuF,EAAGvF,EACPnJ,EAAO8P,EAAG9P,KACd,OAAOoM,WAAWpM,IAASmJ,EAAE0S,IAAM1S,EAAEyS,IACvC,EAEAzS,EAAG00C,GAAuB,EAAG,IAC7Bx0C,EAAGw0C,GAAuB,EAAG,KAoC3BO,GAAmC,SAA0ChoC,EAAepgB,EAAQssB,EAAQxX,QAC/F,IAAXwX,IACFA,EAAS,CAAC,QAEU,IAAlBxX,IACFA,EAAgB,CAAC,GAEnB9U,GAAS,QAAS,CAAC,EAAGA,GACtB8U,GAAgB,QAAS,CAAC,EAAGA,GAC7B,IAAIuzC,EAAuBvoD,OAAOiC,KAAK/B,GAAQulC,OAAOgiB,IAGlDe,EAAyB,GACzBC,GAAsC,EACtCC,EAAuB,GA2D3B,GA1DAH,EAAqBhvC,SAAQ,SAAUhZ,GACrC,IAAI4D,EAAQmc,EAAc+qB,SAAS9qC,GACnC,GAAK+f,EAAc8qB,SAAS7qC,GAA5B,CACA,IAGIooD,EAHAhrC,EAAO6O,EAAOjsB,GACds3B,EAAK33B,EAAOK,GACZqoD,EAAW5d,GAAuBrtB,GAMtC,GAAI0R,GAAkBwI,GAEpB,IADA,IAAIgxB,EAAehxB,EAAGx3B,OACbF,EAAc,OAAV03B,EAAG,GAAc,EAAI,EAAG13B,EAAI0oD,EAAc1oD,IAChDwoD,EAIO3d,GAAuBnT,EAAG13B,KAHpCwoD,EAAS3d,GAAuBnT,EAAG13B,OACdyoD,GAAYjB,GAAciB,IAAajB,GAAcgB,QAM9EA,EAAS3d,GAAuBnT,GAElC,GAAI+wB,IAAaD,EAGf,GAAIhB,GAAciB,IAAajB,GAAcgB,GAAS,CACpD,IAAIluC,EAAUtW,EAAM6X,MACG,iBAAZvB,GACTtW,EAAMkV,IAAI/C,WAAWmE,IAEL,iBAAPod,EACT33B,EAAOK,GAAO+V,WAAWuhB,GAChBna,MAAM6D,QAAQsW,IAAO8wB,IAAW5hC,IACzC7mB,EAAOK,GAAOs3B,EAAG1lB,IAAImE,YAEzB,MAAYsyC,aAA2C,EAASA,EAAS7nD,aAAe4nD,aAAuC,EAASA,EAAO5nD,aAAwB,IAAT4c,GAAqB,IAAPka,GAG7J,IAATla,EACFxZ,EAAMkV,IAAIsvC,EAAO5nD,UAAU4c,IAE3Bzd,EAAOK,GAAOqoD,EAAS7nD,UAAU82B,IAK9B4wB,IACHD,EA/IV,SAAyCloC,GACvC,IAAIwoC,EAAoB,GAUxB,OATAV,GAA8B7uC,SAAQ,SAAUhZ,GAC9C,IAAI4D,EAAQmc,EAAc+qB,SAAS9qC,QACrB+G,IAAVnD,IACF2kD,EAAkBztC,KAAK,CAAC9a,EAAK4D,EAAM6X,QACnC7X,EAAMkV,IAAI9Y,EAAIolB,WAAW,SAAW,EAAI,GAE5C,IAEImjC,EAAkBzoD,QAAQigB,EAAcU,aACrC8nC,CACT,CAmImCC,CAAgCzoC,GACzDmoC,GAAsC,GAExCC,EAAqBrtC,KAAK9a,GAC1ByU,EAAczU,QAA8B+G,IAAvB0N,EAAczU,GAAqByU,EAAczU,GAAOL,EAAOK,GACpFmnD,GAAoBvjD,EAAO0zB,GApDS,CAuD1C,IACI6wB,EAAqBroD,OAAQ,CAC/B,IAAI2oD,EA5GuB,SAAkC9oD,EAAQogB,EAAe2oC,GACtF,IAAIC,EAAa5oC,EAAc42B,qBAC3BhvC,EAAUoY,EAAcoV,cACxByzB,EAAuB7M,iBAAiBp0C,GACxC3F,EAAU4mD,EAAqB5mD,QAM/B6mD,EAAsB,CACxBr/C,IANMo/C,EAAqBp/C,IAO3BG,KANOi/C,EAAqBj/C,KAO5BD,OANSk/C,EAAqBl/C,OAO9BD,MANQm/C,EAAqBn/C,MAO7BjJ,UANYooD,EAAqBpoD,WAUnB,SAAZwB,GACF+d,EAAckkC,eAAe,UAAWtkD,EAAOqC,SAAW,SAG5D+d,EAAcU,aACd,IAAIqoC,EAAa/oC,EAAc42B,qBAQ/B,OAPA+R,EAAY1vC,SAAQ,SAAUhZ,GAG5B,IAAI4D,EAAQmc,EAAc+qB,SAAS9qC,GACnCmnD,GAAoBvjD,EAAOkkD,GAAiB9nD,GAAK2oD,EAAYE,IAC7DlpD,EAAOK,GAAO8nD,GAAiB9nD,GAAK8oD,EAAYF,EAClD,IACOjpD,CACT,CA2E0BopD,CAAyBppD,EAAQogB,EAAeooC,GAYtE,OAVIF,EAAuBnoD,QACzBmoD,EAAuBjvC,SAAQ,SAAUX,GACvC,IAAIoB,GAAK,QAAOpB,EAAI,GAClBrY,EAAMyZ,EAAG,GACT7V,EAAQ6V,EAAG,GACbsG,EAAc+qB,SAAS9qC,GAAK8Y,IAAIlV,EAClC,IAGFmc,EAAcU,aACP,CACL9gB,OAAQ8oD,EACRh0C,cAAeA,EAEnB,CACE,MAAO,CACL9U,OAAQA,EACR8U,cAAeA,EAGrB,EAQA,SAASu0C,GAAejpC,EAAepgB,EAAQssB,EAAQxX,GACrD,OArOqB,SAA0B9U,GAC/C,OAAOF,OAAOiC,KAAK/B,GAAQwe,KAAK+oC,GAClC,CAmOS+B,CAAiBtpD,GAAUooD,GAAiChoC,EAAepgB,EAAQssB,EAAQxX,GAAiB,CACjH9U,OAAQA,EACR8U,cAAeA,EAEnB,CC5OA,IAAIy0C,GAAkB,SAAyBnpC,EAAepgB,EAAQssB,EAAQxX,GAC5E,IAAIqb,Ed0CN,SAA6B/P,EAAe1H,EAAI5D,GAC9C,IAAIgF,EACA9Z,GAAS,QAAO0Y,EAAI,IACpB1Q,EAAUoY,EAAcoV,cAC5B,KAAMxtB,aAAmBwhD,aAAc,MAAO,CAC5CxpD,OAAQA,EACR8U,cAAeA,GAgBjB,IAAK,IAAIzU,KAZLyU,IACFA,GAAgB,QAAS,CAAC,EAAGA,IAG/BsL,EAAcyB,cAAa,SAAU5d,GACnC,IAAIsW,EAAUtW,EAAM6X,MACpB,GAAK,GAAcvB,GAAnB,CACA,IAAI4V,EAAW2rB,GAAiBvhC,EAASvS,GACrCmoB,GAAUlsB,EAAMkV,IAAIgX,EAFW,CAGrC,IAGgBnwB,EAAQ,CACtB,IAAIua,EAAUva,EAAOK,GACrB,GAAK,GAAcka,GAAnB,CACA,IAAI4V,EAAW2rB,GAAiBvhC,EAASvS,GACpCmoB,IAELnwB,EAAOK,GAAO8vB,EAIVrb,IAA6C,QAA7BgF,EAAKhF,EAAczU,UAAyB,IAAPyZ,IAAqBhF,EAAczU,GAAOka,IAR9D,CASvC,CACA,MAAO,CACLva,OAAQA,EACR8U,cAAeA,EAEnB,CchFiB20C,CAAoBrpC,EAAepgB,EAAQ8U,GAG1D,OAAOu0C,GAAejpC,EAFtBpgB,EAASmwB,EAASnwB,OAE2BssB,EAD7CxX,EAAgBqb,EAASrb,cAE3B,ECGA,IAAI40C,GAAa,CACfxI,SAAU,MACVM,sBAAuB,SAA+BmI,EAAYtpD,GAChE,GAAI0kB,EAAgB1kB,GAAM,CACxB,IAAIiH,EAAcw+B,GAAoBzlC,GACtC,OAAOiH,GAAcA,EAAY6f,SAAe,CAClD,CACE,IAVoBnf,EAUhB4P,GAVgB5P,EAUiB2hD,EATlChqC,OAAOy8B,iBAAiBp0C,IAU3B,OAAQwd,EAAcnlB,GAAOuX,EAAcykC,iBAAiBh8C,GAAOuX,EAAcvX,KAAS,CAE9F,EACAusC,iBAAkB,SAA0BloB,EAAGC,GAM7C,OAAsC,EAA/BD,EAAEklC,wBAAwBjlC,GAAS,GAAK,CACjD,EACA0qB,cAAe,SAAuBtuC,EAAOV,GAC3C,IAAIqY,EACJ,OAA8B,QAAtBA,EAAK3X,EAAM2U,aAA0B,IAAPgD,OAAgB,EAASA,EAAGrY,EACpE,EACA22C,mBAAoB,SAA4BhvC,EAAS0Q,GAEvD,OAAOk6B,GAAe5qC,EADG0Q,EAAG2G,mBAE9B,EAQAzB,eAAgB,SAAwB5V,EAAS2hD,EAAY5oD,GAC3D,IAAI2oB,EAAoB3oB,EAAM2oB,kBAC9BigC,EAAWj0C,MAAM7U,UAAY6oB,EAAoBA,EAAkB,CAAC,EAAG,IAAM,OAE7E1hB,EAAQw8C,gBACV,EACA3mC,iBAAkB,SAA0B2F,EAAUqmC,GACpDrmC,EAAS9N,MAAM7U,UAAYgpD,EAAan0C,MAAM7U,SAChD,EACA8gD,2BAA4B,SAAoCthD,EAAKqY,GACnE,IAAImR,EAAOnR,EAAGmR,KACZnU,EAAQgD,EAAGhD,aACNmU,EAAKxpB,UACLqV,EAAMrV,EACf,EAKAirC,qBAAsB,SAA8BtjC,EAAS0Q,EAAIoB,EAAI8pC,GACnE,IAAIl4B,EAAkB5R,EAAG4R,qBACP,IAAdk4B,IACFA,GAAY,GAEd,IAAIrvC,EAAamE,EAAGnE,WAClBO,EAAgB4D,EAAG5D,cACnB9U,GAAS,QAAO0Y,EAAI,CAAC,aAAc,kBACjC4T,EnCyBR,SAAmBtsB,EAAQuU,EAAY6L,GACrC,IAAI1H,EAAIoB,EACJwS,EAAS,CAAC,EACd,IAAK,IAAIjsB,KAAOL,EACdssB,EAAOjsB,GAA2D,QAAnDqY,EAAK6yB,GAAwBlrC,EAAKkU,UAAgC,IAAPmE,EAAgBA,EAA4C,QAAtCoB,EAAKsG,EAAc+qB,SAAS9qC,UAAyB,IAAPyZ,OAAgB,EAASA,EAAGgC,MAE5K,OAAOwQ,CACT,CmChCiBw9B,CAAU9pD,EAAQuU,GAAc,CAAC,EAAGvM,GASjD,GALI0jB,IACE5W,IAAeA,EAAgB4W,EAAgB5W,IAC/C9U,IAAQA,EAAS0rB,EAAgB1rB,IACjCssB,IAAQA,EAASZ,EAAgBY,KAEnCs3B,EAAW,EnChCnB,SAAiCxjC,EAAepgB,EAAQssB,GACtD,IAAI5T,EAAIoB,EAAIE,EACR8Q,EACAi/B,EAAejqD,OAAOiC,KAAK/B,GAAQulC,QAAO,SAAUllC,GACtD,OAAQ+f,EAAc8qB,SAAS7qC,EACjC,IACI2pD,EAAeD,EAAa5pD,OAChC,GAAK6pD,EACL,IAAK,IAAI/pD,EAAI,EAAGA,EAAI+pD,EAAc/pD,IAAK,CACrC,IAAII,EAAM0pD,EAAa9pD,GACnBgqD,EAAcjqD,EAAOK,GACrB4D,EAAQ,KAKRuZ,MAAM6D,QAAQ4oC,KAChBhmD,EAAQgmD,EAAY,IAOR,OAAVhmD,IACFA,EAAoG,QAA3F6V,EAA4B,QAAtBpB,EAAK4T,EAAOjsB,UAAyB,IAAPqY,EAAgBA,EAAK0H,EAAc2kC,UAAU1kD,UAAyB,IAAPyZ,EAAgBA,EAAK9Z,EAAOK,IAMtI4D,UACiB,iBAAVA,GoCjFN,iBAAiBogB,KpCiF6BpgB,GAEjDA,EAAQmS,WAAWnS,IACT+mC,GAAc/mC,IAAUq4B,GAAQjY,KAAK4lC,KAC/ChmD,EAAQ,GAAkB5D,EAAK4pD,IAEjC7pC,EAAcgrB,SAAS/qC,EAAKsqC,GAAY1mC,IACV,QAA7B+V,GAAM8Q,EAAKwB,GAAQjsB,UAAyB,IAAP2Z,IAAqB8Q,EAAGzqB,GAAO4D,GACrEmc,EAAc4kC,cAAc3kD,EAAK4D,GACnC,CACF,CmCTMimD,CAAwBliD,EAAShI,EAAQssB,GACzC,IAAIkQ,EAAS+sB,GAAgBvhD,EAAShI,EAAQssB,EAAQxX,GACtDA,EAAgB0nB,EAAO1nB,cACvB9U,EAASw8B,EAAOx8B,MAClB,CACA,OAAO,QAAS,CACduU,WAAYA,EACZO,cAAeA,GACd9U,EACL,EACA+uB,4BAA6BA,GAC7BoyB,MAAO,SAAen5C,EAAS6mB,EAAarF,EAActL,EAAYuL,EAAapY,EAAStQ,QAChEqG,IAAtBY,EAAQ27C,YACV90B,EAAYnZ,MAAM6uC,WAAav8C,EAAQ27C,UAAY,UAAY,UAEjE,IAAIwG,EAAuBjsC,EAAWK,WAAakL,EAAYY,WAC/Df,GAAgBuF,EAAarF,EAActL,EAAYuL,EAAapY,EAAStQ,EAAM2oB,kBAAmBygC,EAAuB5J,QAAiCn5C,EAAW+iD,EAAuBzJ,QAAuCt5C,EACzO,EACAoiC,OAAQ/a,IAEN27B,GAAoBhqC,GAAcspC,IE/FlCW,GAAmBjqC,IAAc,SAAS,QAAS,CAAC,EAAGspC,IAAa,CACtEra,cAAe,SAAuBtuC,EAAOV,GAC3C,OAAOU,EAAMV,EACf,EACAmhD,sBAAuB,SAA+BmI,EAAYtpD,GAChE,IAAIqY,EACJ,OAAIqM,EAAgB1kB,IAC0B,QAAnCqY,EAAKotB,GAAoBzlC,UAAyB,IAAPqY,OAAgB,EAASA,EAAGyO,UAAY,GAE9F9mB,EAAOsuB,GAAoBvS,IAAI/b,GAA0BA,EAAnBguB,GAAYhuB,GAC3CspD,EAAWW,aAAajqD,GACjC,EACA0uB,4BAA6B,GAC7BoyB,MAAO,SAAeoJ,EAAU17B,EAAarF,EAActL,EAAYuL,EAAapY,EAAStQ,GAC3F,IAAIopD,EAAuBjsC,EAAWK,WAAakL,EAAYY,WAC/DuC,GAAciC,EAAarF,EAActL,EAAYuL,EAAapY,EAAStQ,EAAM2oB,kBAAmBygC,EAAuB5J,QAAiCn5C,EAAW+iD,EAAuBzJ,QAAuCt5C,EACvO,EACAoiC,OAAQ5a,MCzBN,GAAyB,SAAgC7O,EAAW1O,GACtE,OAAO8S,EAAepE,GAAasqC,GAAiBh5C,EAAS,CAC3DwZ,4BAA4B,IACzBu/B,GAAkB/4C,EAAS,CAC9BwZ,4BAA4B,GAEhC,ECAI2/B,IAAgB,SAAS,SAAS,SAAS,QAAS,CAAC,EAAGze,IAAalX,IAAoBlW,IAAOwhC,IAOhGsK,GAAsB7mC,GAAkB,SAAU7D,EAAWG,GAC/D,OCZF,SAA+BH,EAAWrH,EAAIoK,EAAmB7C,GAC/D,IAAInG,EAAKpB,EAAGoV,mBACVA,OAA4B,IAAPhU,GAAwBA,EAC3C4wC,EAAavmC,EAAepE,GAAaqQ,GAAkBM,GAC/D,OAAO,SAAS,QAAS,CAAC,EAAGg6B,GAAa,CACxC5nC,kBAAmBA,EACnBC,UAAW8K,GAAgBC,GAC3B7N,oBAAqBA,EACrBF,UAAWA,GAEf,CDES,CAAsBA,EAAWG,EAAQsqC,GAAe,GACjE,G,qKEfA,SAASG,EAAavqC,GAEpB,OADgBA,EAAclC,WAAWK,WACrB6B,EAAc4mC,sBACpC,CACA,SAAS4D,EAA2BxqC,EAAezC,QAC/B,IAAdA,IACFA,EAAY,IAEd,IAAIP,EAASgD,EAAchD,OAG3B,OAFIA,GAAQwtC,EAA2BxtC,EAAQO,GAC3CgtC,EAAavqC,IAAgBzC,EAAUxC,KAAKiF,GACzCzC,CACT,CACA,SAASktC,EAA0BzqC,GACjC,IAAI7b,EAAW,GAMf,OADA6b,EAAc7b,SAAS8U,SAJR,SAASyxC,EAASrhD,GAC3BkhD,EAAalhD,IAAQlF,EAAS4W,KAAK1R,GACvCA,EAAMlF,SAAS8U,QAAQyxC,EACzB,IAEOvmD,EAASmZ,KAAK,IACvB,CAKA,SAASqtC,EAAwB3qC,GAC/B,IAAIA,EAAc4mC,uBAAlB,CACA,IAAIv9B,EAAcrJ,EAAcy3B,iBAChCz3B,EAAc4qC,0BAA0BvhC,EAAYtE,QACpDsE,EAAYY,YAAa,EACzBZ,EAAYtE,OAAS/E,EAAc42B,qBACnCvtB,EAAYquB,iBAAkB,QAAYruB,EAAYtE,QACtD/E,EAAc6qC,oBAAoBxhC,EAAYtE,OAAQ/E,EAAcnC,iBAAmBwL,EAAYtE,QACnG,aAAY,WACV,OAAO/E,EAAc22B,wBACvB,GATgD,CAUlD,CAIA,SAASmU,EAAoB9qC,GACvBA,EAAc4mC,yBAClB5mC,EAAcnC,gBAAkBmC,EAAc42B,oBAAmB,GAKjE52B,EAAc22B,wBAAuB,EAAO32B,EAAcnC,iBAC5D,C,+ECpDA,IAAIktC,EAAiB,IAAI3vC,IACzB,SAAS4vC,EAAQC,EAAOC,EAAKC,GACtBF,EAAME,KAAUF,EAAME,GAAW,IACtCF,EAAME,GAASpwC,KAAKmwC,EACtB,CACA,SAASE,EAAYx3B,GAEnB,OADAm3B,EAAetvC,IAAImY,GACZ,WACL,OAAOm3B,EAAe3xC,OAAOwa,EAC/B,CACF,CACA,SAASy3B,IACP,GAAKN,EAAe9nD,KAApB,CACA,IAAIkoD,EAAU,EACVG,EAAQ,CAAC,IACTC,EAAS,GACTC,EAAU,SAAiBN,GAC7B,OAAOF,EAAQM,EAAOJ,EAAKC,EAC7B,EACIM,EAAW,SAAkBP,GAC/BF,EAAQO,EAAQL,EAAKC,GACrBA,GACF,EAIAJ,EAAe9xC,SAAQ,SAAU2a,GAC/BA,EAAS43B,EAASC,GAClBN,EAAU,CACZ,IACAJ,EAAentC,QAKf,IADA,IAAI8tC,EAAYH,EAAOxrD,OACdF,EAAI,EAAGA,GAAK6rD,EAAW7rD,IAC9ByrD,EAAMzrD,IAAMyrD,EAAMzrD,GAAGoZ,QAAQ0yC,GAC7BJ,EAAO1rD,IAAM0rD,EAAO1rD,GAAGoZ,QAAQ0yC,EAzBD,CA2BlC,CACA,IAAIA,EAAa,SAAoBT,GACnC,OAAOA,GACT,C,wDC1CA,IAAIU,EAAiB,SAAwBtnC,EAAGC,GAC9C,OAAOD,EAAEq3B,MAAQp3B,EAAEo3B,KACrB,C,+LCFA,SAASkQ,EAAKC,GACZ,OAAOA,CACT,CCMA,SAASC,EAA4BzzC,GACnC,IAAI7O,EAAM6O,EAAG7O,IAIb,MAAO,CACLsJ,EAAG,CACDyS,IALKlN,EAAG1O,KAMR6b,IALMnN,EAAG5O,OAOXuJ,EAAG,CACDuS,IAAK/b,EACLgc,IAROnN,EAAG3O,QAWhB,CACA,SAASqiD,EAA4B1zC,GACnC,IAAIvF,EAAIuF,EAAGvF,EACTE,EAAIqF,EAAGrF,EACT,MAAO,CACLxJ,IAAKwJ,EAAEuS,IACP7b,OAAQsJ,EAAEwS,IACV7b,KAAMmJ,EAAEyS,IACR9b,MAAOqJ,EAAE0S,IAEb,CAMA,SAASwmC,EAAqB3zC,EAAIo4B,GAChC,IAAIjnC,EAAM6O,EAAG7O,IACXG,EAAO0O,EAAG1O,KACVD,EAAS2O,EAAG3O,OACZD,EAAQ4O,EAAG5O,WACU,IAAnBgnC,IACFA,EAAiBmb,GAEnB,IAAIK,EAAUxb,EAAe,CAC3B39B,EAAGnJ,EACHqJ,EAAGxJ,IAED0iD,EAAczb,EAAe,CAC/B39B,EAAGrJ,EACHuJ,EAAGtJ,IAEL,MAAO,CACLF,IAAKyiD,EAAQj5C,EACbrJ,KAAMsiD,EAAQn5C,EACdpJ,OAAQwiD,EAAYl5C,EACpBvJ,MAAOyiD,EAAYp5C,EAEvB,CAIA,SAASq5C,IACP,MAAO,CACLr5C,EAAG,CACDyS,IAAK,EACLC,IAAK,GAEPxS,EAAG,CACDuS,IAAK,EACLC,IAAK,GAGX,CACA,SAAS4mC,EAAY5Z,GACnB,MAAO,CACL1/B,GAAG,QAAS,CAAC,EAAG0/B,EAAI1/B,GACpBE,GAAG,QAAS,CAAC,EAAGw/B,EAAIx/B,GAExB,CAIA,IAAIq5C,EAAY,CACdrZ,UAAW,EACXp8B,MAAO,EACPqV,OAAQ,EACR8mB,YAAa,GAEf,SAASzc,IACP,MAAO,CACLxjB,GAAG,QAAS,CAAC,EAAGu5C,GAChBr5C,GAAG,QAAS,CAAC,EAAGq5C,GAEpB,C,uECxFA,SAASC,EAAY3jB,GACnB,IAAIhoC,GAAM,IAAAmZ,QAAO,MAIjB,OAHoB,OAAhBnZ,EAAIuZ,UACNvZ,EAAIuZ,QAAUyuB,KAEThoC,EAAIuZ,OACb,C,uECdA,SAASqyC,EAAiB54B,GACxB,OAAO,IAAAxX,YAAU,WACf,OAAO,WACL,OAAOwX,GACT,CACF,GAAG,GACL,C,wDCAA,ICNI64B,EAAkB,45HAStB,EDVA,SAAiBC,GACf,IAAIC,EAAQ,CAAC,EACb,OAAO,SAAUC,GAEf,YADmB5lD,IAAf2lD,EAAMC,KAAoBD,EAAMC,GAAOF,EAAGE,IACvCD,EAAMC,EACf,CACF,CCHY,EAAQ,SAAUpqC,GAC5B,OAAOiqC,EAAgBxoC,KAAKzB,IAAgC,MAAvBA,EAAKqqC,WAAW,IACnB,MAAvBrqC,EAAKqqC,WAAW,IAChBrqC,EAAKqqC,WAAW,GAAK,EAClC,G","sources":["webpack://justcamp-gatsby/./node_modules/@chakra-ui/visually-hidden/dist/chakra-ui-visually-hidden.esm.js","webpack://justcamp-gatsby/./node_modules/@chakra-ui/spinner/dist/chakra-ui-spinner.esm.js","webpack://justcamp-gatsby/./node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js","webpack://justcamp-gatsby/./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js","webpack://justcamp-gatsby/./node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js","webpack://justcamp-gatsby/./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/use-force-update.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/types.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/PresenceContext.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/components/AnimateSharedLayout/utils/batcher.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/SharedLayoutContext.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/definitions.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/LazyContext.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/use-features.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/MotionConfigContext.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/MotionContext/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/is-browser.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/is-ref-object.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/variants.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/MotionContext/create.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/context/MotionContext/utils.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/scale-correction.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/transform.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/utils.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/numbers/units.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/numbers/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/number.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/use-props.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/path.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/use-props.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/use-render.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/render.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/render.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/resolve-value.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/config-motion.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/config-motion.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/types.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/events/use-dom-event.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/utils/event-type.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/events/event-info.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/events/use-pointer-event.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/events/utils.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/pipe.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/gestures.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/shallow-compare.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/clamp.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/utils/find-spring.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/generators/spring.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/progress.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/mix.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/color/utils.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/color/rgba.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/color/hex.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/color/hsla.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/mix-color.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/color/index.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/complex/index.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/inc.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/mix-complex.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/interpolate.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/easing/utils.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/easing/index.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/generators/keyframes.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/generators/decay.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/utils/elapsed.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/index.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/velocity-per-second.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/time-conversion.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/easing/cubic-bezier.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/easing.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.js","webpack://justcamp-gatsby/./node_modules/style-value-types/dist/es/complex/filter.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/animation/utils/transitions.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/animations/inertia.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/array.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/subscription-manager.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/value/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/test.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/value-types/find.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/setters.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/animation.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/animation-state.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/animations.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/is-point.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/is-point-3d.js","webpack://justcamp-gatsby/./node_modules/popmotion/dist/es/utils/distance.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/PanSession.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/each-axis.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/measure.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/geometry/delta-calc.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/layout/utils.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/is-draggable.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/geometry/delta-apply.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/drag.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/motion/features/layout/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/state.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/utils/build-projection-transform.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/lifecycles.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/projection.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/flat-tree.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/motion-values.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/relative-set.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/html/visual-element.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/is-numerical-string.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/svg/visual-element.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/motion.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/projection/utils.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/dom/utils/batch-layout.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/noop.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/geometry/index.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/use-constant.js","webpack://justcamp-gatsby/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.js","webpack://justcamp-gatsby/./node_modules/framer-motion/node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack://justcamp-gatsby/./node_modules/framer-motion/node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"],"sourcesContent":["import { chakra } from '@chakra-ui/system';\nimport { __DEV__ } from '@chakra-ui/utils';\n\n/**\n * Styles to visually hide an element\n * but make it accessible to screen-readers\n */\nvar visuallyHiddenStyle = {\n  border: \"0px\",\n  clip: \"rect(0px, 0px, 0px, 0px)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  padding: \"0px\",\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  position: \"absolute\"\n};\n/**\n * Visually hidden component used to hide\n * elements on screen\n */\n\nvar VisuallyHidden = chakra(\"span\", {\n  baseStyle: visuallyHiddenStyle\n});\nif (__DEV__) {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n}\n/**\n * Visually hidden input component for designing\n * custom input components using the html `input`\n * as a proxy\n */\n\nvar VisuallyHiddenInput = chakra(\"input\", {\n  baseStyle: visuallyHiddenStyle\n});\nif (__DEV__) {\n  VisuallyHiddenInput.displayName = \"VisuallyHiddenInput\";\n}\nvar VisuallyHidden$1 = VisuallyHidden;\nexport { VisuallyHidden, VisuallyHiddenInput, VisuallyHidden$1 as default, visuallyHiddenStyle };","import { keyframes, forwardRef, useStyleConfig, omitThemingProps, chakra } from '@chakra-ui/system';\nimport { cx, __DEV__ } from '@chakra-ui/utils';\nimport { VisuallyHidden } from '@chakra-ui/visually-hidden';\nimport * as React from 'react';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar _excluded = [\"label\", \"thickness\", \"speed\", \"emptyColor\", \"className\"];\nvar spin = keyframes({\n  \"0%\": {\n    transform: \"rotate(0deg)\"\n  },\n  \"100%\": {\n    transform: \"rotate(360deg)\"\n  }\n});\n\n/**\n * Spinner is used to indicate the loading state of a page or a component,\n * It renders a `div` by default.\n *\n * @see Docs https://chakra-ui.com/spinner\n */\nvar Spinner = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Spinner\", props);\n  var _omitThemingProps = omitThemingProps(props),\n    _omitThemingProps$lab = _omitThemingProps.label,\n    label = _omitThemingProps$lab === void 0 ? \"Loading...\" : _omitThemingProps$lab,\n    _omitThemingProps$thi = _omitThemingProps.thickness,\n    thickness = _omitThemingProps$thi === void 0 ? \"2px\" : _omitThemingProps$thi,\n    _omitThemingProps$spe = _omitThemingProps.speed,\n    speed = _omitThemingProps$spe === void 0 ? \"0.45s\" : _omitThemingProps$spe,\n    _omitThemingProps$emp = _omitThemingProps.emptyColor,\n    emptyColor = _omitThemingProps$emp === void 0 ? \"transparent\" : _omitThemingProps$emp,\n    className = _omitThemingProps.className,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);\n  var _className = cx(\"chakra-spinner\", className);\n  var spinnerStyles = _extends({\n    display: \"inline-block\",\n    borderColor: \"currentColor\",\n    borderStyle: \"solid\",\n    borderRadius: \"99999px\",\n    borderWidth: thickness,\n    borderBottomColor: emptyColor,\n    borderLeftColor: emptyColor,\n    animation: spin + \" \" + speed + \" linear infinite\"\n  }, styles);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    __css: spinnerStyles,\n    className: _className\n  }, rest), label && /*#__PURE__*/React.createElement(VisuallyHidden, null, label));\n});\nif (__DEV__) {\n  Spinner.displayName = \"Spinner\";\n}\nexport { Spinner };","import { useMergeRefs } from '@chakra-ui/hooks';\nimport { forwardRef, chakra, useStyleConfig, omitThemingProps } from '@chakra-ui/system';\nimport { cx, __DEV__, mergeWith, dataAttr } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { createContext } from '@chakra-ui/react-utils';\nimport { Spinner } from '@chakra-ui/spinner';\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar _excluded$4 = [\"size\", \"colorScheme\", \"variant\", \"className\", \"spacing\", \"isAttached\", \"isDisabled\"];\nvar _createContext = createContext({\n    strict: false,\n    name: \"ButtonGroupContext\"\n  }),\n  ButtonGroupProvider = _createContext[0],\n  useButtonGroup = _createContext[1];\nvar ButtonGroup = /*#__PURE__*/forwardRef(function (props, ref) {\n  var size = props.size,\n    colorScheme = props.colorScheme,\n    variant = props.variant,\n    className = props.className,\n    _props$spacing = props.spacing,\n    spacing = _props$spacing === void 0 ? \"0.5rem\" : _props$spacing,\n    isAttached = props.isAttached,\n    isDisabled = props.isDisabled,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$4);\n  var _className = cx(\"chakra-button__group\", className);\n  var context = React.useMemo(function () {\n    return {\n      size: size,\n      colorScheme: colorScheme,\n      variant: variant,\n      isDisabled: isDisabled\n    };\n  }, [size, colorScheme, variant, isDisabled]);\n  var groupStyles = {\n    display: \"inline-flex\"\n  };\n  if (isAttached) {\n    groupStyles = _extends({}, groupStyles, {\n      \"> *:first-of-type:not(:last-of-type)\": {\n        borderEndRadius: 0\n      },\n      \"> *:not(:first-of-type):not(:last-of-type)\": {\n        borderRadius: 0\n      },\n      \"> *:not(:first-of-type):last-of-type\": {\n        borderStartRadius: 0\n      }\n    });\n  } else {\n    groupStyles = _extends({}, groupStyles, {\n      \"& > *:not(style) ~ *:not(style)\": {\n        marginStart: spacing\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(ButtonGroupProvider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    role: \"group\",\n    __css: groupStyles,\n    className: _className\n  }, rest)));\n});\nif (__DEV__) {\n  ButtonGroup.displayName = \"ButtonGroup\";\n}\nvar _excluded$3 = [\"label\", \"placement\", \"spacing\", \"children\", \"className\", \"__css\"];\nvar ButtonSpinner = function ButtonSpinner(props) {\n  var label = props.label,\n    placement = props.placement,\n    _props$spacing = props.spacing,\n    spacing = _props$spacing === void 0 ? \"0.5rem\" : _props$spacing,\n    _props$children = props.children,\n    children = _props$children === void 0 ? /*#__PURE__*/React.createElement(Spinner, {\n      color: \"currentColor\",\n      width: \"1em\",\n      height: \"1em\"\n    }) : _props$children,\n    className = props.className,\n    __css = props.__css,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n  var _className = cx(\"chakra-button__spinner\", className);\n  var marginProp = placement === \"start\" ? \"marginEnd\" : \"marginStart\";\n  var spinnerStyles = React.useMemo(function () {\n    var _extends2;\n    return _extends((_extends2 = {\n      display: \"flex\",\n      alignItems: \"center\",\n      position: label ? \"relative\" : \"absolute\"\n    }, _extends2[marginProp] = label ? spacing : 0, _extends2.fontSize = \"1em\", _extends2.lineHeight = \"normal\", _extends2), __css);\n  }, [__css, label, marginProp, spacing]);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: _className\n  }, rest, {\n    __css: spinnerStyles\n  }), children);\n};\nif (__DEV__) {\n  ButtonSpinner.displayName = \"ButtonSpinner\";\n}\nvar _excluded$2 = [\"children\", \"className\"];\nvar ButtonIcon = function ButtonIcon(props) {\n  var children = props.children,\n    className = props.className,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$2);\n  var _children = /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.cloneElement(children, {\n    \"aria-hidden\": true,\n    focusable: false\n  }) : children;\n  var _className = cx(\"chakra-button__icon\", className);\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    display: \"inline-flex\",\n    alignSelf: \"center\",\n    flexShrink: 0\n  }, rest, {\n    className: _className\n  }), _children);\n};\nif (__DEV__) {\n  ButtonIcon.displayName = \"ButtonIcon\";\n}\nfunction useButtonType(value) {\n  var _React$useState = React.useState(!value),\n    isButton = _React$useState[0],\n    setIsButton = _React$useState[1];\n  var refCallback = React.useCallback(function (node) {\n    if (!node) return;\n    setIsButton(node.tagName === \"BUTTON\");\n  }, []);\n  var type = isButton ? \"button\" : undefined;\n  return {\n    ref: refCallback,\n    type: type\n  };\n}\nvar _excluded$1 = [\"isDisabled\", \"isLoading\", \"isActive\", \"isFullWidth\", \"children\", \"leftIcon\", \"rightIcon\", \"loadingText\", \"iconSpacing\", \"type\", \"spinner\", \"spinnerPlacement\", \"className\", \"as\"];\nvar Button = /*#__PURE__*/forwardRef(function (props, ref) {\n  var group = useButtonGroup();\n  var styles = useStyleConfig(\"Button\", _extends({}, group, props));\n  var _omitThemingProps = omitThemingProps(props),\n    _omitThemingProps$isD = _omitThemingProps.isDisabled,\n    isDisabled = _omitThemingProps$isD === void 0 ? group == null ? void 0 : group.isDisabled : _omitThemingProps$isD,\n    isLoading = _omitThemingProps.isLoading,\n    isActive = _omitThemingProps.isActive,\n    isFullWidth = _omitThemingProps.isFullWidth,\n    children = _omitThemingProps.children,\n    leftIcon = _omitThemingProps.leftIcon,\n    rightIcon = _omitThemingProps.rightIcon,\n    loadingText = _omitThemingProps.loadingText,\n    _omitThemingProps$ico = _omitThemingProps.iconSpacing,\n    iconSpacing = _omitThemingProps$ico === void 0 ? \"0.5rem\" : _omitThemingProps$ico,\n    type = _omitThemingProps.type,\n    spinner = _omitThemingProps.spinner,\n    _omitThemingProps$spi = _omitThemingProps.spinnerPlacement,\n    spinnerPlacement = _omitThemingProps$spi === void 0 ? \"start\" : _omitThemingProps$spi,\n    className = _omitThemingProps.className,\n    as = _omitThemingProps.as,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$1);\n  /**\n   * When button is used within ButtonGroup (i.e. flushed with sibling buttons),\n   * it is important to add a `zIndex` on focus.\n   *\n   * So let's read the component styles and then add `zIndex` to it.\n   */\n\n  var buttonStyles = React.useMemo(function () {\n    var _styles$_focus;\n    var _focus = mergeWith({}, (_styles$_focus = styles == null ? void 0 : styles[\"_focus\"]) != null ? _styles$_focus : {}, {\n      zIndex: 1\n    });\n    return _extends({\n      display: \"inline-flex\",\n      appearance: \"none\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      userSelect: \"none\",\n      position: \"relative\",\n      whiteSpace: \"nowrap\",\n      verticalAlign: \"middle\",\n      outline: \"none\",\n      width: isFullWidth ? \"100%\" : \"auto\"\n    }, styles, !!group && {\n      _focus: _focus\n    });\n  }, [styles, group, isFullWidth]);\n  var _useButtonType = useButtonType(as),\n    _ref = _useButtonType.ref,\n    defaultType = _useButtonType.type;\n  var contentProps = {\n    rightIcon: rightIcon,\n    leftIcon: leftIcon,\n    iconSpacing: iconSpacing,\n    children: children\n  };\n  return /*#__PURE__*/React.createElement(chakra.button, _extends({\n    disabled: isDisabled || isLoading,\n    ref: useMergeRefs(ref, _ref),\n    as: as,\n    type: type != null ? type : defaultType,\n    \"data-active\": dataAttr(isActive),\n    \"data-loading\": dataAttr(isLoading),\n    __css: buttonStyles,\n    className: cx(\"chakra-button\", className)\n  }, rest), isLoading && spinnerPlacement === \"start\" && /*#__PURE__*/React.createElement(ButtonSpinner, {\n    className: \"chakra-button__spinner--start\",\n    label: loadingText,\n    placement: \"start\",\n    spacing: iconSpacing\n  }, spinner), isLoading ? loadingText || /*#__PURE__*/React.createElement(chakra.span, {\n    opacity: 0\n  }, /*#__PURE__*/React.createElement(ButtonContent, contentProps)) : /*#__PURE__*/React.createElement(ButtonContent, contentProps), isLoading && spinnerPlacement === \"end\" && /*#__PURE__*/React.createElement(ButtonSpinner, {\n    className: \"chakra-button__spinner--end\",\n    label: loadingText,\n    placement: \"end\",\n    spacing: iconSpacing\n  }, spinner));\n});\nif (__DEV__) {\n  Button.displayName = \"Button\";\n}\nfunction ButtonContent(props) {\n  var leftIcon = props.leftIcon,\n    rightIcon = props.rightIcon,\n    children = props.children,\n    iconSpacing = props.iconSpacing;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, leftIcon && /*#__PURE__*/React.createElement(ButtonIcon, {\n    marginEnd: iconSpacing\n  }, leftIcon), children, rightIcon && /*#__PURE__*/React.createElement(ButtonIcon, {\n    marginStart: iconSpacing\n  }, rightIcon));\n}\nvar _excluded = [\"icon\", \"children\", \"isRound\", \"aria-label\"];\nvar IconButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var icon = props.icon,\n    children = props.children,\n    isRound = props.isRound,\n    ariaLabel = props[\"aria-label\"],\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  /**\n   * Passing the icon as prop or children should work\n   */\n\n  var element = icon || children;\n  var _children = /*#__PURE__*/React.isValidElement(element) ? /*#__PURE__*/React.cloneElement(element, {\n    \"aria-hidden\": true,\n    focusable: false\n  }) : null;\n  return /*#__PURE__*/React.createElement(Button, _extends({\n    padding: \"0\",\n    borderRadius: isRound ? \"full\" : undefined,\n    ref: ref,\n    \"aria-label\": ariaLabel\n  }, rest), _children);\n});\nif (__DEV__) {\n  IconButton.displayName = \"IconButton\";\n}\nexport { Button, ButtonGroup, ButtonSpinner, IconButton, useButtonGroup };","import { forwardRef, chakra } from '@chakra-ui/system';\nimport { cx, __DEV__ } from '@chakra-ui/utils';\nimport * as React from 'react';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar _excluded = [\"as\", \"viewBox\", \"color\", \"focusable\", \"children\", \"className\", \"__css\"];\nvar fallbackIcon = {\n  path: /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    fill: \"none\",\n    d: \"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    strokeLinecap: \"round\",\n    d: \"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    fill: \"none\",\n    strokeMiterlimit: \"10\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"11.25\"\n  })),\n  viewBox: \"0 0 24 24\"\n};\nvar Icon = /*#__PURE__*/forwardRef(function (props, ref) {\n  var element = props.as,\n    viewBox = props.viewBox,\n    _props$color = props.color,\n    color = _props$color === void 0 ? \"currentColor\" : _props$color,\n    _props$focusable = props.focusable,\n    focusable = _props$focusable === void 0 ? false : _props$focusable,\n    children = props.children,\n    className = props.className,\n    __css = props.__css,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var _className = cx(\"chakra-icon\", className);\n  var styles = _extends({\n    w: \"1em\",\n    h: \"1em\",\n    display: \"inline-block\",\n    lineHeight: \"1em\",\n    flexShrink: 0,\n    color: color\n  }, __css);\n  var shared = {\n    ref: ref,\n    focusable: focusable,\n    className: _className,\n    __css: styles\n  };\n  var _viewBox = viewBox != null ? viewBox : fallbackIcon.viewBox;\n  /**\n   * If you're using an icon library like `react-icons`.\n   * Note: anyone passing the `as` prop, should manage the `viewBox` from the external component\n   */\n\n  if (element && typeof element !== \"string\") {\n    return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n      as: element\n    }, shared, rest));\n  }\n  var _path = children != null ? children : fallbackIcon.path;\n  return /*#__PURE__*/React.createElement(chakra.svg, _extends({\n    verticalAlign: \"middle\",\n    viewBox: _viewBox\n  }, shared, rest), _path);\n});\nif (__DEV__) {\n  Icon.displayName = \"Icon\";\n}\nvar Icon$1 = Icon;\nfunction createIcon(options) {\n  var _options$viewBox = options.viewBox,\n    viewBox = _options$viewBox === void 0 ? \"0 0 24 24\" : _options$viewBox,\n    pathDefinition = options.d,\n    displayName = options.displayName,\n    _options$defaultProps = options.defaultProps,\n    defaultProps = _options$defaultProps === void 0 ? {} : _options$defaultProps;\n  var path = React.Children.toArray(options.path);\n  var Comp = /*#__PURE__*/forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Icon, _extends({\n      ref: ref,\n      viewBox: viewBox\n    }, defaultProps, props), path.length ? path : /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: pathDefinition\n    }));\n  });\n  if (__DEV__) {\n    Comp.displayName = displayName;\n  }\n  return Comp;\n}\nexport { Icon, createIcon, Icon$1 as default };","import { forwardRef, chakra, useStyleConfig, omitThemingProps, useMultiStyleConfig, tokenToCSSVar } from '@chakra-ui/system';\nimport { cx, mapResponsive, __DEV__, filterUndefined, isNull, isNumber } from '@chakra-ui/utils';\nimport * as React from 'react';\nimport { Icon } from '@chakra-ui/icon';\nimport { createContext, getValidChildren } from '@chakra-ui/react-utils';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar _excluded$h = [\"ratio\", \"children\", \"className\"];\n\n/**\n * React component used to cropping media (videos, images and maps)\n * to a desired aspect ratio.\n *\n * @see Docs https://chakra-ui.com/aspectratiobox\n */\nvar AspectRatio = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$ratio = props.ratio,\n    ratio = _props$ratio === void 0 ? 4 / 3 : _props$ratio,\n    children = props.children,\n    className = props.className,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$h); // enforce single child\n\n  var child = React.Children.only(children);\n  var _className = cx(\"chakra-aspect-ratio\", className);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    position: \"relative\",\n    className: _className,\n    _before: {\n      height: 0,\n      content: \"\\\"\\\"\",\n      display: \"block\",\n      paddingBottom: mapResponsive(ratio, function (r) {\n        return 1 / r * 100 + \"%\";\n      })\n    },\n    __css: {\n      \"& > *:not(style)\": {\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n      \"& > img, & > video\": {\n        objectFit: \"cover\"\n      }\n    }\n  }, rest), child);\n});\nif (__DEV__) {\n  AspectRatio.displayName = \"AspectRatio\";\n}\nvar _excluded$g = [\"className\"];\n\n/**\n * React component used to display notifications, messages, or\n * statuses in different shapes and sizes.\n *\n * @see Docs https://chakra-ui.com/badge\n */\nvar Badge = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Badge\", props);\n  var _omitThemingProps = omitThemingProps(props);\n  _omitThemingProps.className;\n  var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$g);\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({\n    ref: ref,\n    className: cx(\"chakra-badge\", props.className)\n  }, rest, {\n    __css: _extends({\n      display: \"inline-block\",\n      whiteSpace: \"nowrap\",\n      verticalAlign: \"middle\"\n    }, styles)\n  }));\n});\nif (__DEV__) {\n  Badge.displayName = \"Badge\";\n}\nvar _excluded$f = [\"size\", \"centerContent\"],\n  _excluded2$5 = [\"size\"];\n\n/**\n * Box is the most abstract component on top of which other chakra\n * components are built. It renders a `div` element by default.\n *\n * @see Docs https://chakra-ui.com/box\n */\nvar Box = chakra(\"div\");\nif (__DEV__) {\n  Box.displayName = \"Box\";\n}\n/**\n * As a constraint, you can't pass size related props\n * Only `size` would be allowed\n */\n\nvar Square = /*#__PURE__*/forwardRef(function (props, ref) {\n  var size = props.size,\n    _props$centerContent = props.centerContent,\n    centerContent = _props$centerContent === void 0 ? true : _props$centerContent,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$f);\n  var styles = centerContent ? {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  } : {};\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    ref: ref,\n    boxSize: size,\n    __css: _extends({}, styles, {\n      flexShrink: 0,\n      flexGrow: 0\n    })\n  }, rest));\n});\nif (__DEV__) {\n  Square.displayName = \"Square\";\n}\nvar Circle = /*#__PURE__*/forwardRef(function (props, ref) {\n  var size = props.size,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2$5);\n  return /*#__PURE__*/React.createElement(Square, _extends({\n    size: size,\n    ref: ref,\n    borderRadius: \"9999px\"\n  }, rest));\n});\nif (__DEV__) {\n  Circle.displayName = \"Circle\";\n}\nvar _excluded$e = [\"axis\"];\n\n/**\n * React component used to horizontally and vertically center its child.\n * It uses the popular `display: flex` centering technique.\n *\n * @see Docs https://chakra-ui.com/center\n */\nvar Center = chakra(\"div\", {\n  baseStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nif (__DEV__) {\n  Center.displayName = \"Center\";\n}\nvar centerStyles = {\n  horizontal: {\n    insetStart: \"50%\",\n    transform: \"translateX(-50%)\"\n  },\n  vertical: {\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  },\n  both: {\n    insetStart: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n/**\n * React component used to horizontally and vertically center an element\n * relative to its parent dimensions.\n *\n * It uses the `position: absolute` strategy.\n *\n * @see Docs https://chakra-ui.com/center\n * @see WebDev https://web.dev/centering-in-css/#5.-pop-and-plop\n */\n\nvar AbsoluteCenter = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$axis = props.axis,\n    axis = _props$axis === void 0 ? \"both\" : _props$axis,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$e);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    __css: centerStyles[axis]\n  }, rest, {\n    position: \"absolute\"\n  }));\n});\nvar _excluded$d = [\"className\"];\n\n/**\n * React component to render inline code snippets.\n *\n * @see Docs https://chakra-ui.com/code\n */\nvar Code = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Code\", props);\n  var _omitThemingProps = omitThemingProps(props);\n  _omitThemingProps.className;\n  var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$d);\n  return /*#__PURE__*/React.createElement(chakra.code, _extends({\n    ref: ref,\n    className: cx(\"chakra-code\", props.className)\n  }, rest, {\n    __css: _extends({\n      display: \"inline-block\"\n    }, styles)\n  }));\n});\nif (__DEV__) {\n  Code.displayName = \"Code\";\n}\nvar _excluded$c = [\"className\", \"centerContent\"];\n\n/**\n * Layout component used to wrap app or website content\n *\n * It sets `margin-left` and `margin-right` to `auto`,\n * to keep its content centered.\n *\n * It also sets a default max-width of `60ch` (60 characters).\n */\nvar Container = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _omitThemingProps = omitThemingProps(props),\n    className = _omitThemingProps.className,\n    centerContent = _omitThemingProps.centerContent,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$c);\n  var styles = useStyleConfig(\"Container\", props);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-container\", className)\n  }, rest, {\n    __css: _extends({}, styles, centerContent && {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    })\n  }));\n});\nif (__DEV__) {\n  Container.displayName = \"Container\";\n}\nvar _excluded$b = [\"borderLeftWidth\", \"borderBottomWidth\", \"borderTopWidth\", \"borderRightWidth\", \"borderWidth\", \"borderStyle\", \"borderColor\"],\n  _excluded2$4 = [\"className\", \"orientation\", \"__css\"];\n/**\n * Layout component used to visually separate content in a list or group.\n * It displays a thin horizontal or vertical line, and renders a `hr` tag.\n *\n * @see Docs https://chakra-ui.com/divider\n */\n\nvar Divider = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useStyleConfig = useStyleConfig(\"Divider\", props),\n    borderLeftWidth = _useStyleConfig.borderLeftWidth,\n    borderBottomWidth = _useStyleConfig.borderBottomWidth,\n    borderTopWidth = _useStyleConfig.borderTopWidth,\n    borderRightWidth = _useStyleConfig.borderRightWidth,\n    borderWidth = _useStyleConfig.borderWidth,\n    borderStyle = _useStyleConfig.borderStyle,\n    borderColor = _useStyleConfig.borderColor,\n    styles = _objectWithoutPropertiesLoose(_useStyleConfig, _excluded$b);\n  var _omitThemingProps = omitThemingProps(props),\n    className = _omitThemingProps.className,\n    _omitThemingProps$ori = _omitThemingProps.orientation,\n    orientation = _omitThemingProps$ori === void 0 ? \"horizontal\" : _omitThemingProps$ori,\n    __css = _omitThemingProps.__css,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2$4);\n  var dividerStyles = {\n    vertical: {\n      borderLeftWidth: borderLeftWidth || borderRightWidth || borderWidth || \"1px\",\n      height: \"100%\"\n    },\n    horizontal: {\n      borderBottomWidth: borderBottomWidth || borderTopWidth || borderWidth || \"1px\",\n      width: \"100%\"\n    }\n  };\n  return /*#__PURE__*/React.createElement(chakra.hr, _extends({\n    ref: ref,\n    \"aria-orientation\": orientation\n  }, rest, {\n    __css: _extends({}, styles, {\n      border: \"0\",\n      borderColor: borderColor,\n      borderStyle: borderStyle\n    }, dividerStyles[orientation], __css),\n    className: cx(\"chakra-divider\", className)\n  }));\n});\nif (__DEV__) {\n  Divider.displayName = \"Divider\";\n}\nvar _excluded$a = [\"direction\", \"align\", \"justify\", \"wrap\", \"basis\", \"grow\", \"shrink\"];\n\n/**\n * React component used to create flexbox layouts.\n *\n * It renders a `div` with `display: flex` and\n * comes with helpful style shorthand.\n *\n * @see Docs https://chakra-ui.com/flex\n */\nvar Flex = /*#__PURE__*/forwardRef(function (props, ref) {\n  var direction = props.direction,\n    align = props.align,\n    justify = props.justify,\n    wrap = props.wrap,\n    basis = props.basis,\n    grow = props.grow,\n    shrink = props.shrink,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$a);\n  var styles = {\n    display: \"flex\",\n    flexDirection: direction,\n    alignItems: align,\n    justifyContent: justify,\n    flexWrap: wrap,\n    flexBasis: basis,\n    flexGrow: grow,\n    flexShrink: shrink\n  };\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    __css: styles\n  }, rest));\n});\nif (__DEV__) {\n  Flex.displayName = \"Flex\";\n}\nvar _excluded$9 = [\"area\", \"templateAreas\", \"gap\", \"rowGap\", \"columnGap\", \"column\", \"row\", \"autoFlow\", \"autoRows\", \"templateRows\", \"autoColumns\", \"templateColumns\"],\n  _excluded2$3 = [\"area\", \"colSpan\", \"colStart\", \"colEnd\", \"rowEnd\", \"rowSpan\", \"rowStart\"];\n\n/**\n * React component used to create grid layouts.\n *\n * It renders a `div` with `display: grid` and\n * comes with helpful style shorthand.\n *\n * @see Docs https://chakra-ui.com/grid\n */\nvar Grid = /*#__PURE__*/forwardRef(function (props, ref) {\n  var area = props.area,\n    templateAreas = props.templateAreas,\n    gap = props.gap,\n    rowGap = props.rowGap,\n    columnGap = props.columnGap,\n    column = props.column,\n    row = props.row,\n    autoFlow = props.autoFlow,\n    autoRows = props.autoRows,\n    templateRows = props.templateRows,\n    autoColumns = props.autoColumns,\n    templateColumns = props.templateColumns,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$9);\n  var styles = {\n    display: \"grid\",\n    gridArea: area,\n    gridTemplateAreas: templateAreas,\n    gridGap: gap,\n    gridRowGap: rowGap,\n    gridColumnGap: columnGap,\n    gridAutoColumns: autoColumns,\n    gridColumn: column,\n    gridRow: row,\n    gridAutoFlow: autoFlow,\n    gridAutoRows: autoRows,\n    gridTemplateRows: templateRows,\n    gridTemplateColumns: templateColumns\n  };\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    __css: styles\n  }, rest));\n});\nif (__DEV__) {\n  Grid.displayName = \"Grid\";\n}\nfunction spanFn(span) {\n  return mapResponsive(span, function (value) {\n    return value === \"auto\" ? \"auto\" : \"span \" + value + \"/span \" + value;\n  });\n}\nvar GridItem = /*#__PURE__*/forwardRef(function (props, ref) {\n  var area = props.area,\n    colSpan = props.colSpan,\n    colStart = props.colStart,\n    colEnd = props.colEnd,\n    rowEnd = props.rowEnd,\n    rowSpan = props.rowSpan,\n    rowStart = props.rowStart,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2$3);\n  var styles = filterUndefined({\n    gridArea: area,\n    gridColumn: spanFn(colSpan),\n    gridRow: spanFn(rowSpan),\n    gridColumnStart: colStart,\n    gridColumnEnd: colEnd,\n    gridRowStart: rowStart,\n    gridRowEnd: rowEnd\n  });\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    __css: styles\n  }, rest));\n});\nvar _excluded$8 = [\"className\"];\nvar Heading = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Heading\", props);\n  var _omitThemingProps = omitThemingProps(props);\n  _omitThemingProps.className;\n  var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$8);\n  return /*#__PURE__*/React.createElement(chakra.h2, _extends({\n    ref: ref,\n    className: cx(\"chakra-heading\", props.className)\n  }, rest, {\n    __css: styles\n  }));\n});\nif (__DEV__) {\n  Heading.displayName = \"Heading\";\n}\nvar _excluded$7 = [\"className\"];\n\n/**\n * Semantic component to render a keyboard shortcut\n * within an application.\n *\n * @example\n *\n * ```jsx\n * <Kbd> + T</Kbd>\n * ```\n *\n * @see Docs https://chakra-ui.com/kbd\n */\nvar Kbd = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Kbd\", props);\n  var _omitThemingProps = omitThemingProps(props),\n    className = _omitThemingProps.className,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$7);\n  return /*#__PURE__*/React.createElement(chakra.kbd, _extends({\n    ref: ref,\n    className: cx(\"chakra-kbd\", className)\n  }, rest, {\n    __css: _extends({\n      fontFamily: \"mono\"\n    }, styles)\n  }));\n});\nif (__DEV__) {\n  Kbd.displayName = \"Kbd\";\n}\nvar _excluded$6 = [\"className\", \"isExternal\"];\n\n/**\n * Links are accessible elements used primarily for navigation.\n *\n * It integrates well with other routing libraries like\n * React Router, Reach Router and Next.js Link.\n *\n * @example\n *\n * ```jsx\n * <Link as={ReactRouterLink} to=\"/home\">Home</Link>\n * ```\n *\n * @see Docs https://chakra-ui.com/link\n */\nvar Link = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Link\", props);\n  var _omitThemingProps = omitThemingProps(props),\n    className = _omitThemingProps.className,\n    isExternal = _omitThemingProps.isExternal,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$6);\n  return /*#__PURE__*/React.createElement(chakra.a, _extends({\n    target: isExternal ? \"_blank\" : undefined,\n    rel: isExternal ? \"noopener\" : undefined,\n    ref: ref,\n    className: cx(\"chakra-link\", className)\n  }, rest, {\n    __css: styles\n  }));\n});\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\nvar _excluded$5 = [\"children\", \"styleType\", \"stylePosition\", \"spacing\"],\n  _excluded2$2 = [\"as\"],\n  _excluded3 = [\"as\"];\nvar _createContext = createContext({\n    name: \"StylesContext\",\n    errorMessage: \"useStyles: `styles` is undefined. Seems you forgot to wrap the components in a `<*List />` \"\n  }),\n  StylesProvider = _createContext[0],\n  useStyles = _createContext[1];\n\n/**\n * List is used to display list items, it renders a `<ul>` by default.\n *\n * @see Docs https://chakra-ui.com/list\n */\nvar List = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _ref;\n  var styles = useMultiStyleConfig(\"List\", props);\n  var _omitThemingProps = omitThemingProps(props),\n    children = _omitThemingProps.children,\n    _omitThemingProps$sty = _omitThemingProps.styleType,\n    styleType = _omitThemingProps$sty === void 0 ? \"none\" : _omitThemingProps$sty,\n    stylePosition = _omitThemingProps.stylePosition,\n    spacing = _omitThemingProps.spacing,\n    rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$5);\n  var validChildren = getValidChildren(children);\n  var selector = \"& > *:not(style) ~ *:not(style)\";\n  var spacingStyle = spacing ? (_ref = {}, _ref[selector] = {\n    mt: spacing\n  }, _ref) : {};\n  return /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(chakra.ul, _extends({\n    ref: ref,\n    listStyleType: styleType,\n    listStylePosition: stylePosition\n    /**\n     * We added this role to fix the Safari accessibility issue with list-style-type: none\n     * @see https://www.scottohara.me/blog/2019/01/12/lists-and-safari.html\n     */,\n\n    role: \"list\",\n    __css: _extends({}, styles.container, spacingStyle)\n  }, rest), validChildren));\n});\nif (__DEV__) {\n  List.displayName = \"List\";\n}\nvar OrderedList = /*#__PURE__*/forwardRef(function (props, ref) {\n  props.as;\n  var rest = _objectWithoutPropertiesLoose(props, _excluded2$2);\n  return /*#__PURE__*/React.createElement(List, _extends({\n    ref: ref,\n    as: \"ol\",\n    styleType: \"decimal\",\n    marginStart: \"1em\"\n  }, rest));\n});\nif (__DEV__) {\n  OrderedList.displayName = \"OrderedList\";\n}\nvar UnorderedList = /*#__PURE__*/forwardRef(function (props, ref) {\n  props.as;\n  var rest = _objectWithoutPropertiesLoose(props, _excluded3);\n  return /*#__PURE__*/React.createElement(List, _extends({\n    ref: ref,\n    as: \"ul\",\n    styleType: \"initial\",\n    marginStart: \"1em\"\n  }, rest));\n});\nif (__DEV__) {\n  UnorderedList.displayName = \"UnorderedList\";\n}\n\n/**\n * ListItem\n *\n * Used to render a list item\n */\nvar ListItem = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(chakra.li, _extends({\n    ref: ref\n  }, props, {\n    __css: styles.item\n  }));\n});\nif (__DEV__) {\n  ListItem.displayName = \"ListItem\";\n}\n/**\n * ListIcon\n *\n * Used to render an icon beside the list item text\n */\n\nvar ListIcon = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyles();\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    ref: ref,\n    role: \"presentation\"\n  }, props, {\n    __css: styles.icon\n  }));\n});\nif (__DEV__) {\n  ListIcon.displayName = \"ListIcon\";\n}\nvar _excluded$4 = [\"columns\", \"spacingX\", \"spacingY\", \"spacing\", \"minChildWidth\"];\n\n/**\n * SimpleGrid\n *\n * React component that uses the `Grid` component and provides\n * a simpler interface to create responsive grid layouts.\n * \n * Provides props that easily define columns and spacing.\n *\n * @see Docs https://chakra-ui.com/simplegrid\n */\nvar SimpleGrid = /*#__PURE__*/forwardRef(function (props, ref) {\n  var columns = props.columns,\n    spacingX = props.spacingX,\n    spacingY = props.spacingY,\n    spacing = props.spacing,\n    minChildWidth = props.minChildWidth,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$4);\n  var templateColumns = minChildWidth ? widthToColumns(minChildWidth) : countToColumns(columns);\n  return /*#__PURE__*/React.createElement(Grid, _extends({\n    ref: ref,\n    gap: spacing,\n    columnGap: spacingX,\n    rowGap: spacingY,\n    templateColumns: templateColumns\n  }, rest));\n});\nif (__DEV__) {\n  SimpleGrid.displayName = \"SimpleGrid\";\n}\nfunction toPx(n) {\n  return isNumber(n) ? n + \"px\" : n;\n}\nfunction widthToColumns(width) {\n  return mapResponsive(width, function (value) {\n    return isNull(value) ? null : \"repeat(auto-fit, minmax(\" + toPx(value) + \", 1fr))\";\n  });\n}\nfunction countToColumns(count) {\n  return mapResponsive(count, function (value) {\n    return isNull(value) ? null : \"repeat(\" + value + \", minmax(0, 1fr))\";\n  });\n}\n\n/**\n * A flexible flex spacer that expands along the major axis of its containing flex layout.\n * It renders a `div` by default, and takes up any available space.\n *\n * @see Docs https://chakra-ui.com/flex#using-the-spacer\n */\nvar Spacer = chakra(\"div\", {\n  baseStyle: {\n    flex: 1,\n    justifySelf: \"stretch\",\n    alignSelf: \"stretch\"\n  }\n});\nif (__DEV__) {\n  Spacer.displayName = \"Spacer\";\n}\n\n/**\n * If we ever run into SSR issues with this, check this post to find a fix for it:\n * @see https://medium.com/@emmenko/patching-lobotomized-owl-selector-for-emotion-ssr-5a582a3c424c\n */\nvar selector = \"& > *:not(style) ~ *:not(style)\";\nfunction getStackStyles(options) {\n  var _ref;\n  var spacing = options.spacing,\n    direction = options.direction;\n  var directionStyles = {\n    column: {\n      marginTop: spacing,\n      marginEnd: 0,\n      marginBottom: 0,\n      marginStart: 0\n    },\n    row: {\n      marginTop: 0,\n      marginEnd: 0,\n      marginBottom: 0,\n      marginStart: spacing\n    },\n    \"column-reverse\": {\n      marginTop: 0,\n      marginEnd: 0,\n      marginBottom: spacing,\n      marginStart: 0\n    },\n    \"row-reverse\": {\n      marginTop: 0,\n      marginEnd: spacing,\n      marginBottom: 0,\n      marginStart: 0\n    }\n  };\n  return _ref = {\n    flexDirection: direction\n  }, _ref[selector] = mapResponsive(direction, function (value) {\n    return directionStyles[value];\n  }), _ref;\n}\nfunction getDividerStyles(options) {\n  var spacing = options.spacing,\n    direction = options.direction;\n  var dividerStyles = {\n    column: {\n      my: spacing,\n      mx: 0,\n      borderLeftWidth: 0,\n      borderBottomWidth: \"1px\"\n    },\n    \"column-reverse\": {\n      my: spacing,\n      mx: 0,\n      borderLeftWidth: 0,\n      borderBottomWidth: \"1px\"\n    },\n    row: {\n      mx: spacing,\n      my: 0,\n      borderLeftWidth: \"1px\",\n      borderBottomWidth: 0\n    },\n    \"row-reverse\": {\n      mx: spacing,\n      my: 0,\n      borderLeftWidth: \"1px\",\n      borderBottomWidth: 0\n    }\n  };\n  return {\n    \"&\": mapResponsive(direction, function (value) {\n      return dividerStyles[value];\n    })\n  };\n}\nvar _excluded$3 = [\"isInline\", \"direction\", \"align\", \"justify\", \"spacing\", \"wrap\", \"children\", \"divider\", \"className\", \"shouldWrapChildren\"];\nvar StackDivider = function StackDivider(props) {\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: \"chakra-stack__divider\"\n  }, props, {\n    __css: _extends({}, props[\"__css\"], {\n      borderWidth: 0,\n      alignSelf: \"stretch\",\n      borderColor: \"inherit\",\n      width: \"auto\",\n      height: \"auto\"\n    })\n  }));\n};\nvar StackItem = function StackItem(props) {\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    className: \"chakra-stack__item\"\n  }, props, {\n    __css: _extends({\n      display: \"inline-block\",\n      flex: \"0 0 auto\",\n      minWidth: 0\n    }, props[\"__css\"])\n  }));\n};\n\n/**\n * Stacks help you easily create flexible and automatically distributed layouts\n *\n * You can stack elements in the horizontal or vertical direction,\n * and apply a space or/and divider between each element.\n *\n * It uses `display: flex` internally and renders a `div`.\n *\n * @see Docs https://chakra-ui.com/stack\n *\n */\nvar Stack = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _ref;\n  var isInline = props.isInline,\n    directionProp = props.direction,\n    align = props.align,\n    justify = props.justify,\n    _props$spacing = props.spacing,\n    spacing = _props$spacing === void 0 ? \"0.5rem\" : _props$spacing,\n    wrap = props.wrap,\n    children = props.children,\n    divider = props.divider,\n    className = props.className,\n    shouldWrapChildren = props.shouldWrapChildren,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n  var direction = isInline ? \"row\" : directionProp != null ? directionProp : \"column\";\n  var styles = React.useMemo(function () {\n    return getStackStyles({\n      direction: direction,\n      spacing: spacing\n    });\n  }, [direction, spacing]);\n  var dividerStyle = React.useMemo(function () {\n    return getDividerStyles({\n      spacing: spacing,\n      direction: direction\n    });\n  }, [spacing, direction]);\n  var hasDivider = !!divider;\n  var shouldUseChildren = !shouldWrapChildren && !hasDivider;\n  var validChildren = getValidChildren(children);\n  var clones = shouldUseChildren ? validChildren : validChildren.map(function (child, index) {\n    // Prefer provided child key, fallback to index\n    var key = typeof child.key !== \"undefined\" ? child.key : index;\n    var isLast = index + 1 === validChildren.length;\n    var wrappedChild = /*#__PURE__*/React.createElement(StackItem, {\n      key: key\n    }, child);\n    var _child = shouldWrapChildren ? wrappedChild : child;\n    if (!hasDivider) return _child;\n    var clonedDivider = /*#__PURE__*/React.cloneElement(divider, {\n      __css: dividerStyle\n    });\n    var _divider = isLast ? null : clonedDivider;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: key\n    }, _child, _divider);\n  });\n  var _className = cx(\"chakra-stack\", className);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    display: \"flex\",\n    alignItems: align,\n    justifyContent: justify,\n    flexDirection: styles.flexDirection,\n    flexWrap: wrap,\n    className: _className,\n    __css: hasDivider ? {} : (_ref = {}, _ref[selector] = styles[selector], _ref)\n  }, rest), clones);\n});\nif (__DEV__) {\n  Stack.displayName = \"Stack\";\n}\n/**\n * A view that arranges its children in a horizontal line.\n */\n\nvar HStack = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Stack, _extends({\n    align: \"center\"\n  }, props, {\n    direction: \"row\",\n    ref: ref\n  }));\n});\nif (__DEV__) {\n  HStack.displayName = \"HStack\";\n}\n/**\n * A view that arranges its children in a vertical line.\n */\n\nvar VStack = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Stack, _extends({\n    align: \"center\"\n  }, props, {\n    direction: \"column\",\n    ref: ref\n  }));\n});\nif (__DEV__) {\n  VStack.displayName = \"VStack\";\n}\nvar _excluded$2 = [\"className\", \"align\", \"decoration\", \"casing\"];\n\n/**\n * Used to render texts or paragraphs.\n *\n * @see Docs https://chakra-ui.com/text\n */\nvar Text = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useStyleConfig(\"Text\", props);\n  var _omitThemingProps = omitThemingProps(props);\n  _omitThemingProps.className;\n  _omitThemingProps.align;\n  _omitThemingProps.decoration;\n  _omitThemingProps.casing;\n  var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded$2);\n  var aliasedProps = filterUndefined({\n    textAlign: props.align,\n    textDecoration: props.decoration,\n    textTransform: props.casing\n  });\n  return /*#__PURE__*/React.createElement(chakra.p, _extends({\n    ref: ref,\n    className: cx(\"chakra-text\", props.className)\n  }, aliasedProps, rest, {\n    __css: styles\n  }));\n});\nif (__DEV__) {\n  Text.displayName = \"Text\";\n}\nvar _excluded$1 = [\"spacing\", \"spacingX\", \"spacingY\", \"children\", \"justify\", \"direction\", \"align\", \"className\", \"shouldWrapChildren\"],\n  _excluded2$1 = [\"className\"];\n\n/**\n * Layout component used to stack elements that differ in length\n * and are liable to wrap.\n *\n * Common use cases:\n * - Buttons that appear together at the end of forms\n * - Lists of tags and chips\n *\n * @see Docs https://chakra-ui.com/wrap\n */\nvar Wrap = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$spacing = props.spacing,\n    spacing = _props$spacing === void 0 ? \"0.5rem\" : _props$spacing,\n    spacingX = props.spacingX,\n    spacingY = props.spacingY,\n    children = props.children,\n    justify = props.justify,\n    direction = props.direction,\n    align = props.align,\n    className = props.className,\n    shouldWrapChildren = props.shouldWrapChildren,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$1);\n  var styles = React.useMemo(function () {\n    var _spacingX$spacingY = {\n        spacingX: spacingX,\n        spacingY: spacingY\n      },\n      _spacingX$spacingY$sp = _spacingX$spacingY.spacingX,\n      x = _spacingX$spacingY$sp === void 0 ? spacing : _spacingX$spacingY$sp,\n      _spacingX$spacingY$sp2 = _spacingX$spacingY.spacingY,\n      y = _spacingX$spacingY$sp2 === void 0 ? spacing : _spacingX$spacingY$sp2;\n    return {\n      \"--chakra-wrap-x-spacing\": function chakraWrapXSpacing(theme) {\n        return mapResponsive(x, function (value) {\n          return tokenToCSSVar(\"space\", value)(theme);\n        });\n      },\n      \"--chakra-wrap-y-spacing\": function chakraWrapYSpacing(theme) {\n        return mapResponsive(y, function (value) {\n          return tokenToCSSVar(\"space\", value)(theme);\n        });\n      },\n      \"--wrap-x-spacing\": \"calc(var(--chakra-wrap-x-spacing) / 2)\",\n      \"--wrap-y-spacing\": \"calc(var(--chakra-wrap-y-spacing) / 2)\",\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: justify,\n      alignItems: align,\n      flexDirection: direction,\n      listStyleType: \"none\",\n      padding: \"0\",\n      margin: \"calc(var(--wrap-y-spacing) * -1) calc(var(--wrap-x-spacing) * -1)\",\n      \"& > *:not(style)\": {\n        margin: \"var(--wrap-y-spacing) var(--wrap-x-spacing)\"\n      }\n    };\n  }, [spacing, spacingX, spacingY, justify, align, direction]);\n  var childrenToRender = shouldWrapChildren ? React.Children.map(children, function (child, index) {\n    return /*#__PURE__*/React.createElement(WrapItem, {\n      key: index\n    }, child);\n  }) : children;\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-wrap\", className)\n  }, rest), /*#__PURE__*/React.createElement(chakra.ul, {\n    className: \"chakra-wrap__list\",\n    __css: styles\n  }, childrenToRender));\n});\nif (__DEV__) {\n  Wrap.displayName = \"Wrap\";\n}\nvar WrapItem = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2$1);\n  return /*#__PURE__*/React.createElement(chakra.li, _extends({\n    ref: ref,\n    __css: {\n      display: \"flex\",\n      alignItems: \"flex-start\"\n    },\n    className: cx(\"chakra-wrap__listitem\", className)\n  }, rest));\n});\nif (__DEV__) {\n  WrapItem.displayName = \"WrapItem\";\n}\nvar _excluded = [\"isExternal\", \"target\", \"rel\", \"className\"],\n  _excluded2 = [\"className\"];\nvar LinkOverlay = /*#__PURE__*/forwardRef(function (props, ref) {\n  var isExternal = props.isExternal,\n    target = props.target,\n    rel = props.rel,\n    className = props.className,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  return /*#__PURE__*/React.createElement(chakra.a, _extends({}, rest, {\n    ref: ref,\n    className: cx(\"chakra-linkbox__overlay\", className),\n    rel: isExternal ? \"noopener noreferrer\" : rel,\n    target: isExternal ? \"_blank\" : target,\n    __css: {\n      position: \"static\",\n      \"&::before\": {\n        content: \"''\",\n        cursor: \"inherit\",\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        zIndex: 1,\n        width: \"100%\",\n        height: \"100%\"\n      }\n    }\n  }));\n});\n\n/**\n * `LinkBox` is used to wrap content areas within a link while ensuring semantic html\n *\n * @see Docs https://chakra-ui.com/docs/navigation/link-overlay\n * @see Resources https://www.sarasoueidan.com/blog/nested-links\n */\nvar LinkBox = /*#__PURE__*/forwardRef(function (props, ref) {\n  var className = props.className,\n    rest = _objectWithoutPropertiesLoose(props, _excluded2);\n  return /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref,\n    position: \"relative\"\n  }, rest, {\n    className: cx(\"chakra-linkbox\", className),\n    __css: {\n      /* Elevate the links, abbreviations and buttons up */\n      \"a[href]:not(.chakra-linkbox__overlay), abbr[title], button\": {\n        position: \"relative\",\n        zIndex: 1\n      }\n    }\n  }));\n});\nexport { AbsoluteCenter, AspectRatio, Badge, Box, Center, Circle, Code, Container, Divider, Flex, Grid, GridItem, HStack, Heading, Kbd, Link, LinkBox, LinkOverlay, List, ListIcon, ListItem, OrderedList, SimpleGrid, Spacer, Square, Stack, StackDivider, StackItem, Text, UnorderedList, VStack, Wrap, WrapItem };","import { isNumber, warn, mergeWith, cx, __DEV__ } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport * as React from 'react';\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar TransitionEasings = {\n  ease: [0.25, 0.1, 0.25, 1],\n  easeIn: [0.4, 0, 1, 1],\n  easeOut: [0, 0, 0.2, 1],\n  easeInOut: [0.4, 0, 0.2, 1]\n};\nvar TransitionVariants = {\n  scale: {\n    enter: {\n      scale: 1\n    },\n    exit: {\n      scale: 0.95\n    }\n  },\n  fade: {\n    enter: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    }\n  },\n  pushLeft: {\n    enter: {\n      x: \"100%\"\n    },\n    exit: {\n      x: \"-30%\"\n    }\n  },\n  pushRight: {\n    enter: {\n      x: \"-100%\"\n    },\n    exit: {\n      x: \"30%\"\n    }\n  },\n  pushUp: {\n    enter: {\n      y: \"100%\"\n    },\n    exit: {\n      y: \"-30%\"\n    }\n  },\n  pushDown: {\n    enter: {\n      y: \"-100%\"\n    },\n    exit: {\n      y: \"30%\"\n    }\n  },\n  slideLeft: {\n    position: {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      width: \"100%\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: \"-100%\",\n      y: 0\n    }\n  },\n  slideRight: {\n    position: {\n      right: 0,\n      top: 0,\n      bottom: 0,\n      width: \"100%\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: \"100%\",\n      y: 0\n    }\n  },\n  slideUp: {\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      maxWidth: \"100vw\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: 0,\n      y: \"-100%\"\n    }\n  },\n  slideDown: {\n    position: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      maxWidth: \"100vw\"\n    },\n    enter: {\n      x: 0,\n      y: 0\n    },\n    exit: {\n      x: 0,\n      y: \"100%\"\n    }\n  }\n};\nfunction slideTransition(options) {\n  var _options$direction;\n  var side = (_options$direction = options == null ? void 0 : options.direction) != null ? _options$direction : \"right\";\n  switch (side) {\n    case \"right\":\n      return TransitionVariants.slideRight;\n    case \"left\":\n      return TransitionVariants.slideLeft;\n    case \"bottom\":\n      return TransitionVariants.slideDown;\n    case \"top\":\n      return TransitionVariants.slideUp;\n    default:\n      return TransitionVariants.slideRight;\n  }\n}\nvar TransitionDefaults = {\n  enter: {\n    duration: 0.2,\n    ease: TransitionEasings.easeOut\n  },\n  exit: {\n    duration: 0.1,\n    ease: TransitionEasings.easeIn\n  }\n};\nvar withDelay = {\n  enter: function enter(transition, delay) {\n    return _extends({}, transition, {\n      delay: isNumber(delay) ? delay : delay == null ? void 0 : delay[\"enter\"]\n    });\n  },\n  exit: function exit(transition, delay) {\n    return _extends({}, transition, {\n      delay: isNumber(delay) ? delay : delay == null ? void 0 : delay[\"exit\"]\n    });\n  }\n};\nvar _excluded$4 = [\"in\", \"unmountOnExit\", \"animateOpacity\", \"startingHeight\", \"endingHeight\", \"style\", \"className\", \"transition\", \"transitionEnd\"];\nvar isNumeric = function isNumeric(value) {\n  return value != null && parseInt(value.toString(), 10) > 0;\n};\nvar defaultTransitions = {\n  exit: {\n    height: {\n      duration: 0.2,\n      ease: TransitionEasings.ease\n    },\n    opacity: {\n      duration: 0.3,\n      ease: TransitionEasings.ease\n    }\n  },\n  enter: {\n    height: {\n      duration: 0.3,\n      ease: TransitionEasings.ease\n    },\n    opacity: {\n      duration: 0.4,\n      ease: TransitionEasings.ease\n    }\n  }\n};\nvar variants$4 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n    var animateOpacity = _ref.animateOpacity,\n      startingHeight = _ref.startingHeight,\n      transition = _ref.transition,\n      transitionEnd = _ref.transitionEnd,\n      delay = _ref.delay;\n    return _extends({}, animateOpacity && {\n      opacity: isNumeric(startingHeight) ? 1 : 0\n    }, {\n      height: startingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransitions.exit, delay)\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n    var animateOpacity = _ref2.animateOpacity,\n      endingHeight = _ref2.endingHeight,\n      transition = _ref2.transition,\n      transitionEnd = _ref2.transitionEnd,\n      delay = _ref2.delay;\n    return _extends({}, animateOpacity && {\n      opacity: 1\n    }, {\n      height: endingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransitions.enter, delay)\n    });\n  }\n};\nvar Collapse = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var isOpen = props[\"in\"],\n    unmountOnExit = props.unmountOnExit,\n    _props$animateOpacity = props.animateOpacity,\n    animateOpacity = _props$animateOpacity === void 0 ? true : _props$animateOpacity,\n    _props$startingHeight = props.startingHeight,\n    startingHeight = _props$startingHeight === void 0 ? 0 : _props$startingHeight,\n    _props$endingHeight = props.endingHeight,\n    endingHeight = _props$endingHeight === void 0 ? \"auto\" : _props$endingHeight,\n    style = props.style,\n    className = props.className,\n    transition = props.transition,\n    transitionEnd = props.transitionEnd,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$4);\n  var _React$useState = React.useState(false),\n    mounted = _React$useState[0],\n    setMounted = _React$useState[1];\n  React.useEffect(function () {\n    var timeout = setTimeout(function () {\n      setMounted(true);\n    });\n    return function () {\n      return clearTimeout(timeout);\n    };\n  }, []);\n  /**\n   * Warn : `startingHeight` and `unmountOnExit` are mutually exclusive\n   *\n   * If you specify a starting height, the collapsed needs to be mounted\n   * for the height to take effect.\n   */\n\n  warn({\n    condition: Boolean(startingHeight > 0 && unmountOnExit),\n    message: \"startingHeight and unmountOnExit are mutually exclusive. You can't use them together\"\n  });\n  var hasStartingHeight = parseFloat(startingHeight.toString()) > 0;\n  var custom = {\n    startingHeight: startingHeight,\n    endingHeight: endingHeight,\n    animateOpacity: animateOpacity,\n    transition: !mounted ? {\n      enter: {\n        duration: 0\n      }\n    } : transition,\n    transitionEnd: mergeWith(transitionEnd, {\n      exit: unmountOnExit ? undefined : {\n        display: hasStartingHeight ? \"block\" : \"none\"\n      }\n    })\n  };\n  var show = unmountOnExit ? isOpen : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    initial: false,\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref\n  }, rest, {\n    className: cx(\"chakra-collapse\", className),\n    style: _extends({\n      overflow: \"hidden\",\n      display: \"block\"\n    }, style),\n    custom: custom,\n    variants: variants$4,\n    initial: unmountOnExit ? \"exit\" : false,\n    animate: animate,\n    exit: \"exit\"\n  })));\n});\nif (__DEV__) {\n  Collapse.displayName = \"Collapse\";\n}\nvar _excluded$3 = [\"unmountOnExit\", \"in\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants$3 = {\n  enter: function enter(_temp) {\n    var _transition$enter;\n    var _ref = _temp === void 0 ? {} : _temp,\n      transition = _ref.transition,\n      transitionEnd = _ref.transitionEnd,\n      delay = _ref.delay;\n    return {\n      opacity: 1,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  },\n  exit: function exit(_temp2) {\n    var _transition$exit;\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n      transition = _ref2.transition,\n      transitionEnd = _ref2.transitionEnd,\n      delay = _ref2.delay;\n    return {\n      opacity: 0,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    };\n  }\n};\nvar fadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants$3\n};\nvar Fade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n    isOpen = props[\"in\"],\n    className = props.className,\n    transition = props.transition,\n    transitionEnd = props.transitionEnd,\n    delay = props.delay,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var custom = {\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-fade\", className),\n    custom: custom\n  }, fadeConfig, {\n    animate: animate\n  }, rest)));\n});\nif (__DEV__) {\n  Fade.displayName = \"Fade\";\n}\nvar _excluded$2 = [\"unmountOnExit\", \"in\", \"reverse\", \"initialScale\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants$2 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n    var reverse = _ref.reverse,\n      initialScale = _ref.initialScale,\n      transition = _ref.transition,\n      transitionEnd = _ref.transitionEnd,\n      delay = _ref.delay;\n    return _extends({\n      opacity: 0\n    }, reverse ? {\n      scale: initialScale,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    } : {\n      transitionEnd: _extends({\n        scale: initialScale\n      }, transitionEnd == null ? void 0 : transitionEnd.exit)\n    }, {\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay)\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n    var transitionEnd = _ref2.transitionEnd,\n      transition = _ref2.transition,\n      delay = _ref2.delay;\n    return {\n      opacity: 1,\n      scale: 1,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  }\n};\nvar scaleFadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants$2\n};\nvar ScaleFade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n    isOpen = props[\"in\"],\n    _props$reverse = props.reverse,\n    reverse = _props$reverse === void 0 ? true : _props$reverse,\n    _props$initialScale = props.initialScale,\n    initialScale = _props$initialScale === void 0 ? 0.95 : _props$initialScale,\n    className = props.className,\n    transition = props.transition,\n    transitionEnd = props.transitionEnd,\n    delay = props.delay,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$2);\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    initialScale: initialScale,\n    reverse: reverse,\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-offset-slide\", className)\n  }, scaleFadeConfig, {\n    animate: animate,\n    custom: custom\n  }, rest)));\n});\nif (__DEV__) {\n  ScaleFade.displayName = \"ScaleFade\";\n}\nvar _excluded$1 = [\"direction\", \"style\", \"unmountOnExit\", \"in\", \"className\", \"transition\", \"transitionEnd\", \"delay\"];\nvar defaultTransition = {\n  exit: {\n    duration: 0.15,\n    ease: TransitionEasings.easeInOut\n  },\n  enter: {\n    type: \"spring\",\n    damping: 25,\n    stiffness: 180\n  }\n};\nvar variants$1 = {\n  exit: function exit(_ref) {\n    var _transition$exit;\n    var direction = _ref.direction,\n      transition = _ref.transition,\n      transitionEnd = _ref.transitionEnd,\n      delay = _ref.delay;\n    var _slideTransition = slideTransition({\n        direction: direction\n      }),\n      exitStyles = _slideTransition.exit;\n    return _extends({}, exitStyles, {\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransition.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    });\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n    var direction = _ref2.direction,\n      transitionEnd = _ref2.transitionEnd,\n      transition = _ref2.transition,\n      delay = _ref2.delay;\n    var _slideTransition2 = slideTransition({\n        direction: direction\n      }),\n      enterStyles = _slideTransition2.enter;\n    return _extends({}, enterStyles, {\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransition.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    });\n  }\n};\nvar Slide = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _props$direction = props.direction,\n    direction = _props$direction === void 0 ? \"right\" : _props$direction,\n    style = props.style,\n    unmountOnExit = props.unmountOnExit,\n    isOpen = props[\"in\"],\n    className = props.className,\n    transition = props.transition,\n    transitionEnd = props.transitionEnd,\n    delay = props.delay,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$1);\n  var transitionStyles = slideTransition({\n    direction: direction\n  });\n  var computedStyle = Object.assign({\n    position: \"fixed\"\n  }, transitionStyles.position, style);\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    transitionEnd: transitionEnd,\n    transition: transition,\n    direction: direction,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({}, rest, {\n    ref: ref,\n    initial: \"exit\",\n    className: cx(\"chakra-slide\", className),\n    animate: animate,\n    exit: \"exit\",\n    custom: custom,\n    variants: variants$1,\n    style: computedStyle\n  })));\n});\nif (__DEV__) {\n  Slide.displayName = \"Slide\";\n}\nvar _excluded = [\"unmountOnExit\", \"in\", \"reverse\", \"className\", \"offsetX\", \"offsetY\", \"transition\", \"transitionEnd\", \"delay\"];\nvar variants = {\n  initial: function initial(_ref) {\n    var _transition$exit;\n    var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY,\n      transition = _ref.transition,\n      transitionEnd = _ref.transitionEnd,\n      delay = _ref.delay;\n    return {\n      opacity: 0,\n      x: offsetX,\n      y: offsetY,\n      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    };\n  },\n  enter: function enter(_ref2) {\n    var _transition$enter;\n    var transition = _ref2.transition,\n      transitionEnd = _ref2.transitionEnd,\n      delay = _ref2.delay;\n    return {\n      opacity: 1,\n      x: 0,\n      y: 0,\n      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter\n    };\n  },\n  exit: function exit(_ref3) {\n    var _transition$exit2;\n    var offsetY = _ref3.offsetY,\n      offsetX = _ref3.offsetX,\n      transition = _ref3.transition,\n      transitionEnd = _ref3.transitionEnd,\n      reverse = _ref3.reverse,\n      delay = _ref3.delay;\n    var offset = {\n      x: offsetX,\n      y: offsetY\n    };\n    return _extends({\n      opacity: 0,\n      transition: (_transition$exit2 = transition == null ? void 0 : transition.exit) != null ? _transition$exit2 : withDelay.exit(TransitionDefaults.exit, delay)\n    }, reverse ? _extends({}, offset, {\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit\n    }) : {\n      transitionEnd: _extends({}, offset, transitionEnd == null ? void 0 : transitionEnd.exit)\n    });\n  }\n};\nvar slideFadeConfig = {\n  initial: \"initial\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants: variants\n};\nvar SlideFade = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var unmountOnExit = props.unmountOnExit,\n    isOpen = props[\"in\"],\n    _props$reverse = props.reverse,\n    reverse = _props$reverse === void 0 ? true : _props$reverse,\n    className = props.className,\n    _props$offsetX = props.offsetX,\n    offsetX = _props$offsetX === void 0 ? 0 : _props$offsetX,\n    _props$offsetY = props.offsetY,\n    offsetY = _props$offsetY === void 0 ? 8 : _props$offsetY,\n    transition = props.transition,\n    transitionEnd = props.transitionEnd,\n    delay = props.delay,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  var show = unmountOnExit ? isOpen && unmountOnExit : true;\n  var animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n  var custom = {\n    offsetX: offsetX,\n    offsetY: offsetY,\n    reverse: reverse,\n    transition: transition,\n    transitionEnd: transitionEnd,\n    delay: delay\n  };\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    custom: custom\n  }, show && /*#__PURE__*/React.createElement(motion.div, _extends({\n    ref: ref,\n    className: cx(\"chakra-offset-slide\", className),\n    custom: custom\n  }, slideFadeConfig, {\n    animate: animate\n  }, rest)));\n});\nif (__DEV__) {\n  SlideFade.displayName = \"SlideFade\";\n}\nexport { Collapse, TransitionEasings as EASINGS, Fade, ScaleFade, Slide, SlideFade, fadeConfig, scaleFadeConfig, slideFadeConfig };","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\nvar presenceId = 0;\nfunction getPresenceId() {\n  var id = presenceId;\n  presenceId++;\n  return id;\n}\nvar PresenceChild = function PresenceChild(_a) {\n  var children = _a.children,\n    initial = _a.initial,\n    isPresent = _a.isPresent,\n    _onExitComplete = _a.onExitComplete,\n    custom = _a.custom,\n    presenceAffectsLayout = _a.presenceAffectsLayout;\n  var presenceChildren = useConstant(newChildrenMap);\n  var id = useConstant(getPresenceId);\n  var context = useMemo(function () {\n    return {\n      id: id,\n      initial: initial,\n      isPresent: isPresent,\n      custom: custom,\n      onExitComplete: function onExitComplete(childId) {\n        presenceChildren.set(childId, true);\n        var allComplete = true;\n        presenceChildren.forEach(function (isComplete) {\n          if (!isComplete) allComplete = false;\n        });\n        allComplete && (_onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete());\n      },\n      register: function register(childId) {\n        presenceChildren.set(childId, false);\n        return function () {\n          return presenceChildren.delete(childId);\n        };\n      }\n    };\n  },\n  /**\n   * If the presence of a child affects the layout of the components around it,\n   * we want to make a new context value to ensure they get re-rendered\n   * so they can detect that layout change.\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(function () {\n    presenceChildren.forEach(function (_, key) {\n      return presenceChildren.set(key, false);\n    });\n  }, [isPresent]);\n  /**\n   * If there's no `motion` components to fire exit animations, we want to remove this\n   * component immediately.\n   */\n  React.useEffect(function () {\n    !isPresent && !presenceChildren.size && (_onExitComplete === null || _onExitComplete === void 0 ? void 0 : _onExitComplete());\n  }, [isPresent]);\n  return React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\nfunction newChildrenMap() {\n  return new Map();\n}\nexport { PresenceChild };","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\nfunction getChildKey(child) {\n  return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n  var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n  children.forEach(function (child) {\n    var key = getChildKey(child);\n    if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n      if (seenChildren.has(key)) {\n        console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n      }\n      seenChildren.add(key);\n    }\n    allChildren.set(key, child);\n  });\n}\nfunction onlyElements(children) {\n  var filtered = [];\n  // We use forEach here instead of map as map mutates the component key by preprending `.$`\n  Children.forEach(children, function (child) {\n    if (isValidElement(child)) filtered.push(child);\n  });\n  return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function AnimatePresence(_a) {\n  var children = _a.children,\n    custom = _a.custom,\n    _b = _a.initial,\n    initial = _b === void 0 ? true : _b,\n    onExitComplete = _a.onExitComplete,\n    exitBeforeEnter = _a.exitBeforeEnter,\n    _c = _a.presenceAffectsLayout,\n    presenceAffectsLayout = _c === void 0 ? true : _c;\n  // We want to force a re-render once all exiting animations have finished. We\n  // either use a local forceRender function, or one from a parent context if it exists.\n  var forceRender = useForceUpdate();\n  var layoutContext = useContext(SharedLayoutContext);\n  if (isSharedLayout(layoutContext)) {\n    forceRender = layoutContext.forceUpdate;\n  }\n  var isInitialRender = useRef(true);\n  // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n  var filteredChildren = onlyElements(children);\n  // Keep a living record of the children we're actually rendering so we\n  // can diff to figure out which are entering and exiting\n  var presentChildren = useRef(filteredChildren);\n  // A lookup table to quickly reference components by key\n  var allChildren = useRef(new Map()).current;\n  // A living record of all currently exiting components.\n  var exiting = useRef(new Set()).current;\n  updateChildLookup(filteredChildren, allChildren);\n  // If this is the initial component render, just deal with logic surrounding whether\n  // we play onMount animations or not.\n  if (isInitialRender.current) {\n    isInitialRender.current = false;\n    return React.createElement(React.Fragment, null, filteredChildren.map(function (child) {\n      return React.createElement(PresenceChild, {\n        key: getChildKey(child),\n        isPresent: true,\n        initial: initial ? undefined : false,\n        presenceAffectsLayout: presenceAffectsLayout\n      }, child);\n    }));\n  }\n  // If this is a subsequent render, deal with entering and exiting children\n  var childrenToRender = __spreadArray([], __read(filteredChildren));\n  // Diff the keys of the currently-present and target children to update our\n  // exiting list.\n  var presentKeys = presentChildren.current.map(getChildKey);\n  var targetKeys = filteredChildren.map(getChildKey);\n  // Diff the present children with our target children and mark those that are exiting\n  var numPresent = presentKeys.length;\n  for (var i = 0; i < numPresent; i++) {\n    var key = presentKeys[i];\n    if (targetKeys.indexOf(key) === -1) {\n      exiting.add(key);\n    } else {\n      // In case this key has re-entered, remove from the exiting list\n      exiting.delete(key);\n    }\n  }\n  // If we currently have exiting children, and we're deferring rendering incoming children\n  // until after all current children have exiting, empty the childrenToRender array\n  if (exitBeforeEnter && exiting.size) {\n    childrenToRender = [];\n  }\n  // Loop through all currently exiting components and clone them to overwrite `animate`\n  // with any `exit` prop they might have defined.\n  exiting.forEach(function (key) {\n    // If this component is actually entering again, early return\n    if (targetKeys.indexOf(key) !== -1) return;\n    var child = allChildren.get(key);\n    if (!child) return;\n    var insertionIndex = presentKeys.indexOf(key);\n    var onExit = function onExit() {\n      allChildren.delete(key);\n      exiting.delete(key);\n      // Remove this child from the present children\n      var removeIndex = presentChildren.current.findIndex(function (presentChild) {\n        return presentChild.key === key;\n      });\n      presentChildren.current.splice(removeIndex, 1);\n      // Defer re-rendering until all exiting children have indeed left\n      if (!exiting.size) {\n        presentChildren.current = filteredChildren;\n        forceRender();\n        onExitComplete && onExitComplete();\n      }\n    };\n    childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: false,\n      onExitComplete: onExit,\n      custom: custom,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child));\n  });\n  // Add `MotionContext` even to children that don't need it to ensure we're rendering\n  // the same tree between renders\n  childrenToRender = childrenToRender.map(function (child) {\n    var key = child.key;\n    return exiting.has(key) ? child : React.createElement(PresenceChild, {\n      key: getChildKey(child),\n      isPresent: true,\n      presenceAffectsLayout: presenceAffectsLayout\n    }, child);\n  });\n  presentChildren.current = childrenToRender;\n  if (process.env.NODE_ENV !== \"production\" && exitBeforeEnter && childrenToRender.length > 1) {\n    console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n  }\n  return React.createElement(React.Fragment, null, exiting.size ? childrenToRender : childrenToRender.map(function (child) {\n    return cloneElement(child);\n  }));\n};\nexport { AnimatePresence };","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\nfunction useForceUpdate() {\n  var unloadingRef = useRef(false);\n  var _a = __read(useState(0), 2),\n    forcedRenderCount = _a[0],\n    setForcedRenderCount = _a[1];\n  useUnmountEffect(function () {\n    return unloadingRef.current = true;\n  });\n  return useCallback(function () {\n    !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n  }, [forcedRenderCount]);\n}\nexport { useForceUpdate };","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n  var context = useContext(PresenceContext);\n  if (context === null) return [true, null];\n  var isPresent = context.isPresent,\n    onExitComplete = context.onExitComplete,\n    register = context.register;\n  // It's safe to call the following hooks conditionally (after an early return) because the context will always\n  // either be null or non-null for the lifespan of the component.\n  // Replace with useOpaqueId when released in React\n  var id = useUniqueId();\n  useEffect(function () {\n    return register(id);\n  }, []);\n  var safeToRemove = function safeToRemove() {\n    return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id);\n  };\n  return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n  return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n  return context === null ? true : context.isPresent;\n}\nvar counter = 0;\nvar incrementId = function incrementId() {\n  return counter++;\n};\nvar useUniqueId = function useUniqueId() {\n  return useConstant(incrementId);\n};\nexport { isPresent, useIsPresent, usePresence };","/**\n * @public\n */\nvar Presence;\n(function (Presence) {\n  Presence[Presence[\"Entering\"] = 0] = \"Entering\";\n  Presence[Presence[\"Present\"] = 1] = \"Present\";\n  Presence[Presence[\"Exiting\"] = 2] = \"Exiting\";\n})(Presence || (Presence = {}));\n/**\n * @public\n */\nvar VisibilityAction;\n(function (VisibilityAction) {\n  VisibilityAction[VisibilityAction[\"Hide\"] = 0] = \"Hide\";\n  VisibilityAction[VisibilityAction[\"Show\"] = 1] = \"Show\";\n})(VisibilityAction || (VisibilityAction = {}));\nexport { Presence, VisibilityAction };","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar PresenceContext = createContext(null);\nexport { PresenceContext };","import { __spreadArray, __read } from 'tslib';\nimport sync, { flushSync } from 'framesync';\nimport { collectProjectingAncestors, updateLayoutMeasurement } from '../../../render/dom/projection/utils.js';\nimport { batchLayout, flushLayout } from '../../../render/dom/utils/batch-layout.js';\nimport { compareByDepth } from '../../../render/utils/compare-by-depth.js';\nimport { Presence } from '../types.js';\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n  layoutReady: function layoutReady(child) {\n    return child.notifyLayoutReady();\n  }\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n  var queue = new Set();\n  return {\n    add: function add(child) {\n      return queue.add(child);\n    },\n    flush: function flush(_a) {\n      var _b = _a === void 0 ? defaultHandler : _a,\n        layoutReady = _b.layoutReady,\n        parent = _b.parent;\n      batchLayout(function (read, write) {\n        var order = Array.from(queue).sort(compareByDepth);\n        var ancestors = parent ? collectProjectingAncestors(parent) : [];\n        write(function () {\n          var allElements = __spreadArray(__spreadArray([], __read(ancestors)), __read(order));\n          allElements.forEach(function (element) {\n            return element.resetTransform();\n          });\n        });\n        read(function () {\n          order.forEach(updateLayoutMeasurement);\n        });\n        write(function () {\n          ancestors.forEach(function (element) {\n            return element.restoreTransform();\n          });\n          order.forEach(layoutReady);\n        });\n        read(function () {\n          /**\n           * After all children have started animating, ensure any Entering components are set to Present.\n           * If we add deferred animations (set up all animations and then start them in two loops) this\n           * could be moved to the start loop. But it needs to happen after all the animations configs\n           * are generated in AnimateSharedLayout as this relies on presence data\n           */\n          order.forEach(function (child) {\n            if (child.isPresent) child.presence = Presence.Present;\n          });\n        });\n        write(function () {\n          /**\n           * Starting these animations will have queued jobs on the frame loop. In some situations,\n           * like when removing an element, these will be processed too late after the DOM is manipulated,\n           * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n           * we ensure there's no flash.\n           */\n          flushSync.preRender();\n          flushSync.render();\n        });\n        read(function () {\n          /**\n           * Schedule a callback at the end of the following frame to assign the latest projection\n           * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n           * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n           * child attempts to calculate its previous relative position against a prevViewportBox\n           * it will be against its latest projection box instead, as the snapshot is useless beyond this\n           * render.\n           */\n          sync.postRender(function () {\n            return order.forEach(assignProjectionToSnapshot);\n          });\n          queue.clear();\n        });\n      });\n      // TODO: Need to find a layout-synchronous way of flushing this\n      flushLayout();\n    }\n  };\n}\nfunction assignProjectionToSnapshot(child) {\n  child.prevViewportBox = child.projection.target;\n}\nexport { createBatcher };","import { createContext } from 'react';\nimport { createBatcher } from '../components/AnimateSharedLayout/utils/batcher.js';\nvar SharedLayoutContext = createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = createContext(createBatcher());\nfunction isSharedLayout(context) {\n  return !!context.forceUpdate;\n}\nexport { FramerTreeLayoutContext, SharedLayoutContext, isSharedLayout };","var createDefinition = function createDefinition(propNames) {\n  return {\n    isEnabled: function isEnabled(props) {\n      return propNames.some(function (name) {\n        return !!props[name];\n      });\n    }\n  };\n};\nvar featureDefinitions = {\n  measureLayout: createDefinition([\"layout\", \"layoutId\", \"drag\", \"_layoutResetTransform\"]),\n  animation: createDefinition([\"animate\", \"exit\", \"variants\", \"whileHover\", \"whileTap\", \"whileFocus\", \"whileDrag\"]),\n  exit: createDefinition([\"exit\"]),\n  drag: createDefinition([\"drag\", \"dragControls\"]),\n  focus: createDefinition([\"whileFocus\"]),\n  hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n  tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n  pan: createDefinition([\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"]),\n  layoutAnimation: createDefinition([\"layout\", \"layoutId\"])\n};\nfunction loadFeatures(features) {\n  for (var key in features) {\n    var Component = features[key];\n    if (Component !== null) featureDefinitions[key].Component = Component;\n  }\n}\nexport { featureDefinitions, loadFeatures };","import { createContext } from 'react';\nvar LazyContext = createContext({\n  strict: false\n});\nexport { LazyContext };","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n  var features = [];\n  var lazyContext = useContext(LazyContext);\n  if (!visualElement) return null;\n  /**\n   * If we're in development mode, check to make sure we're not rendering a motion component\n   * as a child of LazyMotion, as this will break the file-size benefits of using it.\n   */\n  if (process.env.NODE_ENV !== \"production\" && preloadedFeatures && lazyContext.strict) {\n    invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n  }\n  for (var i = 0; i < numFeatures; i++) {\n    var name_1 = featureNames[i];\n    var _a = featureDefinitions[name_1],\n      isEnabled = _a.isEnabled,\n      Component = _a.Component;\n    /**\n     * It might be possible in the future to use this moment to\n     * dynamically request functionality. In initial tests this\n     * was producing a lot of duplication amongst bundles.\n     */\n    if (isEnabled(props) && Component) {\n      features.push(React.createElement(Component, __assign({\n        key: name_1\n      }, props, {\n        visualElement: visualElement\n      })));\n    }\n  }\n  return features;\n}\nexport { useFeatures };","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n  transformPagePoint: function transformPagePoint(p) {\n    return p;\n  },\n  isStatic: false\n});\nexport { MotionConfigContext };","import { useContext, createContext } from 'react';\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n  return useContext(MotionContext).visualElement;\n}\nexport { MotionContext, useVisualElementContext };","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\nexport { LayoutGroupContext };","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport { useIsomorphicLayoutEffect };","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\nfunction useLayoutId(_a) {\n  var layoutId = _a.layoutId;\n  var layoutGroupId = useContext(LayoutGroupContext);\n  return layoutGroupId && layoutId !== undefined ? layoutGroupId + \"-\" + layoutId : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n  var config = useContext(MotionConfigContext);\n  var lazyContext = useContext(LazyContext);\n  var parent = useVisualElementContext();\n  var presenceContext = useContext(PresenceContext);\n  var layoutId = useLayoutId(props);\n  var visualElementRef = useRef(undefined);\n  /**\n   * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n   */\n  if (!createVisualElement) createVisualElement = lazyContext.renderer;\n  if (!visualElementRef.current && createVisualElement) {\n    visualElementRef.current = createVisualElement(Component, {\n      visualState: visualState,\n      parent: parent,\n      props: __assign(__assign({}, props), {\n        layoutId: layoutId\n      }),\n      presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n      blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false\n    });\n  }\n  var visualElement = visualElementRef.current;\n  useIsomorphicLayoutEffect(function () {\n    if (!visualElement) return;\n    visualElement.setProps(__assign(__assign(__assign({}, config), props), {\n      layoutId: layoutId\n    }));\n    visualElement.isPresent = isPresent(presenceContext);\n    visualElement.isPresenceRoot = !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n    /**\n     * Fire a render to ensure the latest state is reflected on-screen.\n     */\n    visualElement.syncRender();\n  });\n  useEffect(function () {\n    var _a;\n    if (!visualElement) return;\n    /**\n     * In a future refactor we can replace the features-as-components and\n     * have this loop through them all firing \"effect\" listeners\n     */\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n  });\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount();\n    };\n  }, []);\n  return visualElement;\n}\nexport { useVisualElement };","function isRefObject(ref) {\n  return typeof ref === \"object\" && Object.prototype.hasOwnProperty.call(ref, \"current\");\n}\nexport { isRefObject };","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n  return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n  return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n  var current = {};\n  visualElement.forEachValue(function (value, key) {\n    return current[key] = value.get();\n  });\n  return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n  var velocity = {};\n  visualElement.forEachValue(function (value, key) {\n    return velocity[key] = value.getVelocity();\n  });\n  return velocity;\n}\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n  var _a;\n  if (currentValues === void 0) {\n    currentValues = {};\n  }\n  if (currentVelocity === void 0) {\n    currentVelocity = {};\n  }\n  if (typeof definition === \"string\") {\n    definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n  }\n  return typeof definition === \"function\" ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity) : definition;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n  var props = visualElement.getProps();\n  return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\nfunction checkIfControllingVariants(props) {\n  var _a;\n  return typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" || isVariantLabel(props.initial) || isVariantLabel(props.animate) || isVariantLabel(props.whileHover) || isVariantLabel(props.whileDrag) || isVariantLabel(props.whileTap) || isVariantLabel(props.whileFocus) || isVariantLabel(props.exit);\n}\nfunction checkIfVariantNode(props) {\n  return Boolean(checkIfControllingVariants(props) || props.variants);\n}\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\nfunction useCreateMotionContext(props, isStatic) {\n  var _a = getCurrentTreeVariants(props, useContext(MotionContext)),\n    initial = _a.initial,\n    animate = _a.animate;\n  return useMemo(function () {\n    return {\n      initial: initial,\n      animate: animate\n    };\n  },\n  /**\n   * Only break memoisation in static mode\n   */\n  isStatic ? [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)] : []);\n}\nfunction variantLabelsAsDependency(prop) {\n  return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\nexport { useCreateMotionContext };","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\nfunction getCurrentTreeVariants(props, context) {\n  if (checkIfControllingVariants(props)) {\n    var initial = props.initial,\n      animate = props.animate;\n    return {\n      initial: initial === false || isVariantLabel(initial) ? initial : undefined,\n      animate: isVariantLabel(animate) ? animate : undefined\n    };\n  }\n  return props.inherit !== false ? context : {};\n}\nexport { getCurrentTreeVariants };","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n  var preloadedFeatures = _a.preloadedFeatures,\n    createVisualElement = _a.createVisualElement,\n    useRender = _a.useRender,\n    useVisualState = _a.useVisualState,\n    Component = _a.Component;\n  preloadedFeatures && loadFeatures(preloadedFeatures);\n  function MotionComponent(props, externalRef) {\n    /**\n     * If we're rendering in a static environment, we only visually update the component\n     * as a result of a React-rerender rather than interactions or animations. This\n     * means we don't need to load additional memory structures like VisualElement,\n     * or any gesture/animation features.\n     */\n    var isStatic = useContext(MotionConfigContext).isStatic;\n    var features = null;\n    /**\n     * Create the tree context. This is memoized and will only trigger renders\n     * when the current tree variant changes in static mode.\n     */\n    var context = useCreateMotionContext(props, isStatic);\n    /**\n     *\n     */\n    var visualState = useVisualState(props, isStatic);\n    if (!isStatic && isBrowser) {\n      /**\n       * Create a VisualElement for this component. A VisualElement provides a common\n       * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n       * providing a way of rendering to these APIs outside of the React render loop\n       * for more performant animations and interactions\n       */\n      context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n      /**\n       * Load Motion gesture and animation features. These are rendered as renderless\n       * components so each feature can optionally make use of React lifecycle methods.\n       *\n       * TODO: The intention is to move these away from a React-centric to a\n       * VisualElement-centric lifecycle scheme.\n       */\n      features = useFeatures(props, context.visualElement, preloadedFeatures);\n    }\n    /**\n     * The mount order and hierarchy is specific to ensure our element ref\n     * is hydrated by the time features fire their effects.\n     */\n    return React.createElement(React.Fragment, null, React.createElement(MotionContext.Provider, {\n      value: context\n    }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)), features);\n  }\n  return forwardRef(MotionComponent);\n}\nexport { createMotionComponent };","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n  return useCallback(function (instance) {\n    var _a;\n    instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n    if (visualElement) {\n      instance ? visualElement.mount(instance) : visualElement.unmount();\n    }\n    if (externalRef) {\n      if (typeof externalRef === \"function\") {\n        externalRef(instance);\n      } else if (isRefObject(externalRef)) {\n        externalRef.current = instance;\n      }\n    }\n  },\n  /**\n   * Only pass a new ref callback to React if we've received a visual element\n   * factory. Otherwise we'll be mounting/remounting every time externalRef\n   * or other dependencies change.\n   */\n  [visualElement]);\n}\nexport { useMotionRef };","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n  function custom(Component, customMotionComponentConfig) {\n    if (customMotionComponentConfig === void 0) {\n      customMotionComponentConfig = {};\n    }\n    return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n  }\n  /**\n   * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n   * Rather than generating them anew every render.\n   */\n  var componentCache = new Map();\n  return new Proxy(custom, {\n    /**\n     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n     * The prop name is passed through as `key` and we can use that to generate a `motion`\n     * DOM component with that name.\n     */\n    get: function get(_target, key) {\n      /**\n       * If this element doesn't exist in the component cache, create it and cache.\n       */\n      if (!componentCache.has(key)) {\n        componentCache.set(key, custom(key));\n      }\n      return componentCache.get(key);\n    }\n  });\n}\nexport { createMotionProxy };","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\"animate\", \"circle\", \"defs\", \"desc\", \"ellipse\", \"g\", \"image\", \"line\", \"filter\", \"marker\", \"mask\", \"metadata\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"rect\", \"stop\", \"svg\", \"switch\", \"symbol\", \"text\", \"tspan\", \"use\", \"view\"];\nexport { lowercaseSVGElements };","import { lowercaseSVGElements } from '../../svg/lowercase-elements.js';\nfunction isSVGComponent(Component) {\n  if (\n  /**\n   * If it's not a string, it's a custom React component. Currently we only support\n   * HTML custom React components.\n   */\n  typeof Component !== \"string\" ||\n  /**\n   * If it contains a dash, the element is a custom HTML webcomponent.\n   */\n  Component.includes(\"-\")) {\n    return false;\n  } else if (\n  /**\n   * If it's in our list of lowercase SVG tags, it's an SVG component\n   */\n  lowercaseSVGElements.indexOf(Component) > -1 ||\n  /**\n   * If it contains a capital letter, it's an SVG component\n   */\n  /[A-Z]/.test(Component)) {\n    return true;\n  }\n  return false;\n}\nexport { isSVGComponent };","var valueScaleCorrection = {};\n/**\n * @internal\n */\nfunction addScaleCorrection(correctors) {\n  for (var key in correctors) {\n    valueScaleCorrection[key] = correctors[key];\n  }\n}\nexport { addScaleCorrection, valueScaleCorrection };","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n  return transformAxes.forEach(function (axesKey) {\n    return transformProps.push(operationKey + axesKey);\n  });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\nfunction sortTransformProps(a, b) {\n  return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\nvar transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n  return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };","import { valueScaleCorrection } from '../../render/dom/projection/scale-correction.js';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.js';\nfunction isForcedMotionValue(key, _a) {\n  var layout = _a.layout,\n    layoutId = _a.layoutId;\n  return isTransformProp(key) || isTransformOriginProp(key) || (layout || layoutId !== undefined) && (!!valueScaleCorrection[key] || key === \"opacity\");\n}\nexport { isForcedMotionValue };","var isMotionValue = function isMotionValue(value) {\n  return value !== null && typeof value === \"object\" && value.getVelocity;\n};\nexport { isMotionValue };","import { sortTransformProps } from './transform.js';\nvar translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\",\n  transformPerspective: \"perspective\"\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n  var transform = _a.transform,\n    transformKeys = _a.transformKeys;\n  var _c = _b.enableHardwareAcceleration,\n    enableHardwareAcceleration = _c === void 0 ? true : _c,\n    _d = _b.allowTransformNone,\n    allowTransformNone = _d === void 0 ? true : _d;\n  // The transform string we're going to build into.\n  var transformString = \"\";\n  // Transform keys into their default order - this will determine the output order.\n  transformKeys.sort(sortTransformProps);\n  // Track whether the defined transform has a defined z so we don't add a\n  // second to enable hardware acceleration\n  var transformHasZ = false;\n  // Loop over each transform and build them into transformString\n  var numTransformKeys = transformKeys.length;\n  for (var i = 0; i < numTransformKeys; i++) {\n    var key = transformKeys[i];\n    transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n    if (key === \"z\") transformHasZ = true;\n  }\n  if (!transformHasZ && enableHardwareAcceleration) {\n    transformString += \"translateZ(0)\";\n  } else {\n    transformString = transformString.trim();\n  }\n  // If we have a custom `transform` template, pass our transform values and\n  // generated transformString to that before returning\n  if (transformTemplate) {\n    transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n  } else if (allowTransformNone && transformIsDefault) {\n    transformString = \"none\";\n  }\n  return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\nfunction buildTransformOrigin(_a) {\n  var _b = _a.originX,\n    originX = _b === void 0 ? \"50%\" : _b,\n    _c = _a.originY,\n    originY = _c === void 0 ? \"50%\" : _c,\n    _d = _a.originZ,\n    originZ = _d === void 0 ? 0 : _d;\n  return originX + \" \" + originY + \" \" + originZ;\n}\nexport { buildTransform, buildTransformOrigin };","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n  return key.startsWith(\"--\");\n}\nexport { isCSSVariable };","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function getValueAsType(value, type) {\n  return type && typeof value === \"number\" ? type.transform(value) : value;\n};\nexport { getValueAsType };","var clamp = function clamp(min, max) {\n  return function (v) {\n    return Math.max(Math.min(v, max), min);\n  };\n};\nvar sanitize = function sanitize(v) {\n  return v % 1 ? Number(v.toFixed(5)) : v;\n};\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n  return typeof v === 'string';\n}\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };","import { __assign } from 'tslib';\nimport { isString } from '../utils.js';\nvar createUnitType = function createUnitType(unit) {\n  return {\n    test: function test(v) {\n      return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function transform(v) {\n      return \"\" + v + unit;\n    }\n  };\n};\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = __assign(__assign({}, percent), {\n  parse: function parse(v) {\n    return percent.parse(v) / 100;\n  },\n  transform: function transform(v) {\n    return percent.transform(v * 100);\n  }\n});\nexport { degrees, percent, progressPercentage, px, vh, vw };","import { __assign } from 'tslib';\nimport { clamp } from '../utils.js';\nvar number = {\n  test: function test(v) {\n    return typeof v === 'number';\n  },\n  parse: parseFloat,\n  transform: function transform(v) {\n    return v;\n  }\n};\nvar alpha = __assign(__assign({}, number), {\n  transform: clamp(0, 1)\n});\nvar scale = __assign(__assign({}, number), {\n  default: 1\n});\nexport { alpha, number, scale };","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\nvar int = __assign(__assign({}, number), {\n  transform: Math.round\n});\nexport { int };","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.js';\nvar numberValueTypes = {\n  // Border props\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  // Positioning props\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  // Spacing props\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  // Transform props\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale: scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  transformPerspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  // Misc\n  zIndex: int,\n  // SVG\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\nexport { numberValueTypes };","import { valueScaleCorrection } from '../../dom/projection/scale-correction.js';\nimport { buildTransform, buildTransformOrigin } from './build-transform.js';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.js';\nimport { isTransformProp, isTransformOriginProp } from './transform.js';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.js';\nimport { numberValueTypes } from '../../dom/value-types/number.js';\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var _a;\n  var style = state.style,\n    vars = state.vars,\n    transform = state.transform,\n    transformKeys = state.transformKeys,\n    transformOrigin = state.transformOrigin;\n  // Empty the transformKeys array. As we're throwing out refs to its items\n  // this might not be as cheap as suspected. Maybe using the array as a buffer\n  // with a manual incrementation would be better.\n  transformKeys.length = 0;\n  // Track whether we encounter any transform or transformOrigin values.\n  var hasTransform = false;\n  var hasTransformOrigin = false;\n  // Does the calculated transform essentially equal \"none\"?\n  var transformIsNone = true;\n  /**\n   * Loop over all our latest animated values and decide whether to handle them\n   * as a style or CSS variable.\n   *\n   * Transforms and transform origins are kept seperately for further processing.\n   */\n  for (var key in latestValues) {\n    var value = latestValues[key];\n    /**\n     * If this is a CSS variable we don't do any further processing.\n     */\n    if (isCSSVariable(key)) {\n      vars[key] = value;\n      continue;\n    }\n    // Convert the value to its default value type, ie 0 -> \"0px\"\n    var valueType = numberValueTypes[key];\n    var valueAsType = getValueAsType(value, valueType);\n    if (isTransformProp(key)) {\n      // If this is a transform, flag to enable further transform processing\n      hasTransform = true;\n      transform[key] = valueAsType;\n      transformKeys.push(key);\n      // If we already know we have a non-default transform, early return\n      if (!transformIsNone) continue;\n      // Otherwise check to see if this is a default transform\n      if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0)) transformIsNone = false;\n    } else if (isTransformOriginProp(key)) {\n      transformOrigin[key] = valueAsType;\n      // If this is a transform origin, flag and enable further transform-origin processing\n      hasTransformOrigin = true;\n    } else {\n      /**\n       * If layout projection is on, and we need to perform scale correction for this\n       * value type, perform it.\n       */\n      if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) && (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) && valueScaleCorrection[key]) {\n        var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n        /**\n         * Scale-correctable values can define a number of other values to break\n         * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n         */\n        var applyTo = valueScaleCorrection[key].applyTo;\n        if (applyTo) {\n          var num = applyTo.length;\n          for (var i = 0; i < num; i++) {\n            style[applyTo[i]] = correctedValue;\n          }\n        } else {\n          style[key] = correctedValue;\n        }\n      } else {\n        style[key] = valueAsType;\n      }\n    }\n  }\n  if (layoutState && projection && buildProjectionTransform && buildProjectionTransformOrigin) {\n    style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n    if (transformTemplate) {\n      style.transform = transformTemplate(transform, style.transform);\n    }\n    style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n  } else {\n    if (hasTransform) {\n      style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n    }\n    if (hasTransformOrigin) {\n      style.transformOrigin = buildTransformOrigin(transformOrigin);\n    }\n  }\n}\nexport { buildHTMLStyles };","var createHtmlRenderState = function createHtmlRenderState() {\n  return {\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {}\n  };\n};\nexport { createHtmlRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\nfunction copyRawValuesOnly(target, source, props) {\n  for (var key in source) {\n    if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n      target[key] = source[key];\n    }\n  }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n  var transformTemplate = _a.transformTemplate;\n  return useMemo(function () {\n    var state = createHtmlRenderState();\n    buildHTMLStyles(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: !isStatic\n    }, transformTemplate);\n    var vars = state.vars,\n      style = state.style;\n    return __assign(__assign({}, vars), style);\n  }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n  var styleProp = props.style || {};\n  var style = {};\n  /**\n   * Copy non-Motion Values straight into style\n   */\n  copyRawValuesOnly(style, styleProp, props);\n  Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n  if (props.transformValues) {\n    style = props.transformValues(style);\n  }\n  return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n  // The `any` isn't ideal but it is the type of createElement props argument\n  var htmlProps = {};\n  var style = useStyle(props, visualState, isStatic);\n  if (Boolean(props.drag)) {\n    // Disable the ghost element when a user drags\n    htmlProps.draggable = false;\n    // Disable text selection\n    style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout = \"none\";\n    // Disable scrolling on the draggable direction\n    style.touchAction = props.drag === true ? \"none\" : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n  }\n  htmlProps.style = style;\n  return htmlProps;\n}\nexport { copyRawValuesOnly, useHTMLProps, useStyle };","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\"initial\", \"animate\", \"exit\", \"style\", \"variants\", \"transition\", \"transformTemplate\", \"transformValues\", \"custom\", \"inherit\", \"layout\", \"layoutId\", \"_layoutResetTransform\", \"onLayoutAnimationComplete\", \"onViewportBoxUpdate\", \"onLayoutMeasure\", \"onBeforeLayoutMeasure\", \"onAnimationStart\", \"onAnimationComplete\", \"onUpdate\", \"onDragStart\", \"onDrag\", \"onDragEnd\", \"onMeasureDragConstraints\", \"onDirectionLock\", \"onDragTransitionEnd\", \"drag\", \"dragControls\", \"dragListener\", \"dragConstraints\", \"dragDirectionLock\", \"_dragX\", \"_dragY\", \"dragElastic\", \"dragMomentum\", \"dragPropagation\", \"dragTransition\", \"whileDrag\", \"onPan\", \"onPanStart\", \"onPanEnd\", \"onPanSessionStart\", \"onTap\", \"onTapStart\", \"onTapCancel\", \"onHoverStart\", \"onHoverEnd\", \"whileFocus\", \"whileTap\", \"whileHover\"]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n  return validMotionProps.has(key);\n}\nexport { isValidMotionProp };","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\nvar shouldForward = function shouldForward(key) {\n  return !isValidMotionProp(key);\n};\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n  var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n  shouldForward = function shouldForward(key) {\n    // Handle events explicitly as Emotion validates them all as true\n    if (key.startsWith(\"on\")) {\n      return !isValidMotionProp(key);\n    } else {\n      return emotionIsPropValid_1(key);\n    }\n  };\n} catch (_a) {\n  // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n  var filteredProps = {};\n  for (var key in props) {\n    if (shouldForward(key) || forwardMotionProps === true && isValidMotionProp(key) || !isDom && !isValidMotionProp(key)) {\n      filteredProps[key] = props[key];\n    }\n  }\n  return filteredProps;\n}\nexport { filterProps };","import { px } from 'style-value-types';\nfunction calcOrigin(origin, offset, size) {\n  return typeof origin === \"string\" ? origin : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n  var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n  var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n  return pxOriginX + \" \" + pxOriginY;\n}\nexport { calcSVGTransformOrigin };","import { px } from 'style-value-types';\n\n// Convert a progress 0-1 to a pixels value based on the provided length\nvar progressToPixels = function progressToPixels(progress, length) {\n  return px.transform(progress * length);\n};\nvar dashKeys = {\n  offset: \"stroke-dashoffset\",\n  array: \"stroke-dasharray\"\n};\nvar camelKeys = {\n  offset: \"strokeDashoffset\",\n  array: \"strokeDasharray\"\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n  if (spacing === void 0) {\n    spacing = 1;\n  }\n  if (offset === void 0) {\n    offset = 0;\n  }\n  if (useDashCase === void 0) {\n    useDashCase = true;\n  }\n  // We use dash case when setting attributes directly to the DOM node and camel case\n  // when defining props on a React component.\n  var keys = useDashCase ? dashKeys : camelKeys;\n  // Build the dash offset\n  attrs[keys.offset] = progressToPixels(-offset, totalLength);\n  // Build the dash array\n  var pathLength = progressToPixels(length, totalLength);\n  var pathSpacing = progressToPixels(spacing, totalLength);\n  attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\nexport { buildSVGPath };","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.js';\nimport { calcSVGTransformOrigin } from './transform-origin.js';\nimport { buildSVGPath } from './path.js';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var attrX = _a.attrX,\n    attrY = _a.attrY,\n    originX = _a.originX,\n    originY = _a.originY,\n    pathLength = _a.pathLength,\n    _b = _a.pathSpacing,\n    pathSpacing = _b === void 0 ? 1 : _b,\n    _c = _a.pathOffset,\n    pathOffset = _c === void 0 ? 0 : _c,\n    // This is object creation, which we try to avoid per-frame.\n    latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n  buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n  state.attrs = state.style;\n  state.style = {};\n  var attrs = state.attrs,\n    style = state.style,\n    dimensions = state.dimensions,\n    totalPathLength = state.totalPathLength;\n  /**\n   * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n   * and copy it into style.\n   */\n  if (attrs.transform) {\n    if (dimensions) style.transform = attrs.transform;\n    delete attrs.transform;\n  }\n  // Parse transformOrigin\n  if (dimensions && (originX !== undefined || originY !== undefined || style.transform)) {\n    style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n  }\n  // Treat x/y not as shortcuts but as actual attributes\n  if (attrX !== undefined) attrs.x = attrX;\n  if (attrY !== undefined) attrs.y = attrY;\n  // Build SVG path if one has been measured\n  if (totalPathLength !== undefined && pathLength !== undefined) {\n    buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n  }\n}\nexport { buildSVGAttrs };","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\nvar createSvgRenderState = function createSvgRenderState() {\n  return __assign(__assign({}, createHtmlRenderState()), {\n    attrs: {}\n  });\n};\nexport { createSvgRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nfunction useSVGProps(props, visualState) {\n  var visualProps = useMemo(function () {\n    var state = createSvgRenderState();\n    buildSVGAttrs(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: false\n    }, props.transformTemplate);\n    return __assign(__assign({}, state.attrs), {\n      style: __assign({}, state.style)\n    });\n  }, [visualState]);\n  if (props.style) {\n    var rawStyles = {};\n    copyRawValuesOnly(rawStyles, props.style, props);\n    visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n  }\n  return visualProps;\n}\nexport { useSVGProps };","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\nfunction createUseRender(forwardMotionProps) {\n  if (forwardMotionProps === void 0) {\n    forwardMotionProps = false;\n  }\n  var useRender = function useRender(Component, props, ref, _a, isStatic) {\n    var latestValues = _a.latestValues;\n    var useVisualProps = isSVGComponent(Component) ? useSVGProps : useHTMLProps;\n    var visualProps = useVisualProps(props, latestValues, isStatic);\n    var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n    var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), {\n      ref: ref\n    });\n    return createElement(Component, elementProps);\n  };\n  return useRender;\n}\nexport { createUseRender };","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\nvar camelToDash = function camelToDash(str) {\n  return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\nexport { camelToDash };","function renderHTML(element, _a) {\n  var style = _a.style,\n    vars = _a.vars;\n  // Directly assign style into the Element's style prop. In tests Object.assign is the\n  // fastest way to assign styles.\n  Object.assign(element.style, style);\n  // Loop over any CSS variables and assign those.\n  for (var key in vars) {\n    element.style.setProperty(key, vars[key]);\n  }\n}\nexport { renderHTML };","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\"baseFrequency\", \"diffuseConstant\", \"kernelMatrix\", \"kernelUnitLength\", \"keySplines\", \"keyTimes\", \"limitingConeAngle\", \"markerHeight\", \"markerWidth\", \"numOctaves\", \"targetX\", \"targetY\", \"surfaceScale\", \"specularConstant\", \"specularExponent\", \"stdDeviation\", \"tableValues\", \"viewBox\", \"gradientTransform\"]);\nexport { camelCaseAttributes };","import { camelToDash } from '../../dom/utils/camel-to-dash.js';\nimport { renderHTML } from '../../html/utils/render.js';\nimport { camelCaseAttributes } from './camel-case-attrs.js';\nfunction renderSVG(element, renderState) {\n  renderHTML(element, renderState);\n  for (var key in renderState.attrs) {\n    element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n  }\n}\nexport { renderSVG };","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.js';\nfunction scrapeMotionValuesFromProps(props) {\n  var style = props.style;\n  var newValues = {};\n  for (var key in style) {\n    if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n      newValues[key] = style[key];\n    }\n  }\n  return newValues;\n}\nexport { scrapeMotionValuesFromProps };","import { isMotionValue } from '../../../value/utils/is-motion-value.js';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.js';\nfunction scrapeMotionValuesFromProps(props) {\n  var newValues = scrapeMotionValuesFromProps$1(props);\n  for (var key in props) {\n    if (isMotionValue(props[key])) {\n      var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n      newValues[targetKey] = props[key];\n    }\n  }\n  return newValues;\n}\nexport { scrapeMotionValuesFromProps };","function isAnimationControls(v) {\n  return typeof v === \"object\" && typeof v.start === \"function\";\n}\nexport { isAnimationControls };","var isKeyframesTarget = function isKeyframesTarget(v) {\n  return Array.isArray(v);\n};\nexport { isKeyframesTarget };","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n  var unwrappedValue = isMotionValue(value) ? value.get() : value;\n  return isCustomValue(unwrappedValue) ? unwrappedValue.toValue() : unwrappedValue;\n}\nexport { resolveMotionValue };","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.js';\nvar isCustomValue = function isCustomValue(v) {\n  return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nvar resolveFinalValueInKeyframes = function resolveFinalValueInKeyframes(v) {\n  // TODO maybe throw if v.length - 1 is placeholder token?\n  return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\nexport { isCustomValue, resolveFinalValueInKeyframes };","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\nfunction makeState(_a, props, context, presenceContext) {\n  var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps,\n    createRenderState = _a.createRenderState,\n    onMount = _a.onMount;\n  var state = {\n    latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n    renderState: createRenderState()\n  };\n  if (onMount) {\n    state.mount = function (instance) {\n      return onMount(props, instance, state);\n    };\n  }\n  return state;\n}\nvar makeUseVisualState = function makeUseVisualState(config) {\n  return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic ? makeState(config, props, context, presenceContext) : useConstant(function () {\n      return makeState(config, props, context, presenceContext);\n    });\n  };\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n  var values = {};\n  var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n  var motionValues = scrapeMotionValues(props);\n  for (var key in motionValues) {\n    values[key] = resolveMotionValue(motionValues[key]);\n  }\n  var initial = props.initial,\n    animate = props.animate;\n  var isControllingVariants = checkIfControllingVariants(props);\n  var isVariantNode = checkIfVariantNode(props);\n  if (context && isVariantNode && !isControllingVariants && props.inherit !== false) {\n    initial !== null && initial !== void 0 ? initial : initial = context.initial;\n    animate !== null && animate !== void 0 ? animate : animate = context.animate;\n  }\n  var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n  if (variantToSet && typeof variantToSet !== \"boolean\" && !isAnimationControls(variantToSet)) {\n    var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n    list.forEach(function (definition) {\n      var resolved = resolveVariantFromProps(props, definition);\n      if (!resolved) return;\n      var transitionEnd = resolved.transitionEnd;\n      resolved.transition;\n      var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n      for (var key in target) values[key] = target[key];\n      for (var key in transitionEnd) values[key] = transitionEnd[key];\n    });\n  }\n  return values;\n}\nexport { makeUseVisualState };","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nvar svgMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n    onMount: function onMount(props, instance, _a) {\n      var renderState = _a.renderState,\n        latestValues = _a.latestValues;\n      try {\n        renderState.dimensions = typeof instance.getBBox === \"function\" ? instance.getBBox() : instance.getBoundingClientRect();\n      } catch (e) {\n        // Most likely trying to measure an unrendered element under Firefox\n        renderState.dimensions = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      if (isPath(instance)) {\n        renderState.totalPathLength = instance.getTotalLength();\n      }\n      buildSVGAttrs(renderState, latestValues, undefined, undefined, {\n        enableHardwareAcceleration: false\n      }, props.transformTemplate);\n      // TODO: Replace with direct assignment\n      renderSVG(instance, renderState);\n    }\n  })\n};\nfunction isPath(element) {\n  return element.tagName === \"path\";\n}\nexport { svgMotionConfig };","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\nvar htmlMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState\n  })\n};\nexport { htmlMotionConfig };","var AnimationType;\n(function (AnimationType) {\n  AnimationType[\"Animate\"] = \"animate\";\n  AnimationType[\"Hover\"] = \"whileHover\";\n  AnimationType[\"Tap\"] = \"whileTap\";\n  AnimationType[\"Drag\"] = \"whileDrag\";\n  AnimationType[\"Focus\"] = \"whileFocus\";\n  AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\nexport { AnimationType };","import { useEffect } from 'react';\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    return target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\nfunction useDomEvent(ref, eventName, handler, options) {\n  useEffect(function () {\n    var element = ref.current;\n    if (handler && element) {\n      return addDomEvent(element, eventName, handler, options);\n    }\n  }, [ref, eventName, handler, options]);\n}\nexport { addDomEvent, useDomEvent };","function isMouseEvent(event) {\n  // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n  if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n  return event instanceof MouseEvent;\n}\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\nexport { isMouseEvent, isTouchEvent };","import { isTouchEvent } from '../gestures/utils/event-type.js';\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var isMouseEvent = event instanceof MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\nvar wrapHandler = function wrapHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n};\nexport { extractEventInfo, getViewportPointFromEvent, wrapHandler };","import { useDomEvent, addDomEvent } from './use-dom-event.js';\nimport { wrapHandler } from './event-info.js';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.js';\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  } else if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  } else if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n  return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction usePointerEvent(ref, eventName, handler, options) {\n  return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nexport { addPointerEvent, usePointerEvent };","import { isBrowser } from '../utils/is-browser.js';\n\n// We check for event support via functions in case they've been mocked by a testing suite.\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };","function createLock(name) {\n  var lock = null;\n  return function () {\n    var openLock = function openLock() {\n      lock = null;\n    };\n    if (lock === null) {\n      lock = name;\n      return openLock;\n    }\n    return false;\n  };\n}\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n  var lock = false;\n  if (drag === \"y\") {\n    lock = globalVerticalLock();\n  } else if (drag === \"x\") {\n    lock = globalHorizontalLock();\n  } else {\n    var openHorizontal_1 = globalHorizontalLock();\n    var openVertical_1 = globalVerticalLock();\n    if (openHorizontal_1 && openVertical_1) {\n      lock = function lock() {\n        openHorizontal_1();\n        openVertical_1();\n      };\n    } else {\n      // Release the locks because we don't use them\n      if (openHorizontal_1) openHorizontal_1();\n      if (openVertical_1) openVertical_1();\n    }\n  }\n  return lock;\n}\nfunction isDragActive() {\n  // Check the gesture lock - if we get it, it means no drag gesture is active\n  // and we can safely fire the tap gesture.\n  var openGestureLock = getGlobalLock(true);\n  if (!openGestureLock) return true;\n  openGestureLock();\n  return false;\n}\nexport { createLock, getGlobalLock, isDragActive };","import { isMouseEvent } from './utils/event-type.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\nfunction createHoverEvent(visualElement, isActive, callback) {\n  return function (event, info) {\n    var _a;\n    if (!isMouseEvent(event) || isDragActive()) return;\n    callback === null || callback === void 0 ? void 0 : callback(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n  };\n}\nfunction useHoverGesture(_a) {\n  var onHoverStart = _a.onHoverStart,\n    onHoverEnd = _a.onHoverEnd,\n    whileHover = _a.whileHover,\n    visualElement = _a.visualElement;\n  usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover ? createHoverEvent(visualElement, true, onHoverStart) : undefined);\n  usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover ? createHoverEvent(visualElement, false, onHoverEnd) : undefined);\n}\nexport { useHoverGesture };","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function isNodeOrChild(parent, child) {\n  if (!child) {\n    return false;\n  } else if (parent === child) {\n    return true;\n  } else {\n    return isNodeOrChild(parent, child.parentElement);\n  }\n};\nexport { isNodeOrChild };","var combineFunctions = function combineFunctions(a, b) {\n  return function (v) {\n    return b(a(v));\n  };\n};\nvar pipe = function pipe() {\n  var transformers = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    transformers[_i] = arguments[_i];\n  }\n  return transformers.reduce(combineFunctions);\n};\nexport { pipe };","var makeRenderlessComponent = function makeRenderlessComponent(hook) {\n  return function (props) {\n    hook(props);\n    return null;\n  };\n};\nexport { makeRenderlessComponent };","import { useFocusGesture } from '../../gestures/use-focus-gesture.js';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.js';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar gestureAnimations = {\n  tap: makeRenderlessComponent(useTapGesture),\n  focus: makeRenderlessComponent(useFocusGesture),\n  hover: makeRenderlessComponent(useHoverGesture)\n};\nexport { gestureAnimations };","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a) {\n  var onTap = _a.onTap,\n    onTapStart = _a.onTapStart,\n    onTapCancel = _a.onTapCancel,\n    whileTap = _a.whileTap,\n    visualElement = _a.visualElement;\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n  function removePointerEndListener() {\n    var _a;\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n  function checkPointerEnd() {\n    var _a;\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n    !isNodeOrChild(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n  function onPointerDown(event, info) {\n    var _a;\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n    onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n  }\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n  useUnmountEffect(removePointerEndListener);\n}\nexport { useTapGesture };","import { AnimationType } from '../render/utils/types.js';\nimport { useDomEvent } from '../events/use-dom-event.js';\n\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\nfunction useFocusGesture(_a) {\n  var whileFocus = _a.whileFocus,\n    visualElement = _a.visualElement;\n  var onFocus = function onFocus() {\n    var _a;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n  };\n  var onBlur = function onBlur() {\n    var _a;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n  };\n  useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n  useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\nexport { useFocusGesture };","function shallowCompare(next, prev) {\n  if (!Array.isArray(prev)) return false;\n  var prevLength = prev.length;\n  if (prevLength !== next.length) return false;\n  for (var i = 0; i < prevLength; i++) {\n    if (prev[i] !== next[i]) return false;\n  }\n  return true;\n}\nexport { shallowCompare };","var clamp = function clamp(min, max, v) {\n  return Math.min(Math.max(v, min), max);\n};\nexport { clamp };","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.js';\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\nfunction findSpring(_a) {\n  var _b = _a.duration,\n    duration = _b === void 0 ? 800 : _b,\n    _c = _a.bounce,\n    bounce = _c === void 0 ? 0.25 : _c,\n    _d = _a.velocity,\n    velocity = _d === void 0 ? 0 : _d,\n    _e = _a.mass,\n    mass = _e === void 0 ? 1 : _e;\n  var envelope;\n  var derivative;\n  warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n  var dampingRatio = 1 - bounce;\n  dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n  duration = clamp(minDuration, maxDuration, duration / 1000);\n  if (dampingRatio < 1) {\n    envelope = function envelope(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var a = exponentialDecay - velocity;\n      var b = calcAngularFreq(undampedFreq, dampingRatio);\n      var c = Math.exp(-delta);\n      return safeMin - a / b * c;\n    };\n    derivative = function derivative(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var d = delta * velocity + velocity;\n      var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n      var f = Math.exp(-delta);\n      var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n      var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n      return factor * ((d - e) * f) / g;\n    };\n  } else {\n    envelope = function envelope(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (undampedFreq - velocity) * duration + 1;\n      return -safeMin + a * b;\n    };\n    derivative = function derivative(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (velocity - undampedFreq) * (duration * duration);\n      return a * b;\n    };\n  }\n  var initialGuess = 5 / duration;\n  var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n  duration = duration * 1000;\n  if (isNaN(undampedFreq)) {\n    return {\n      stiffness: 100,\n      damping: 10,\n      duration: duration\n    };\n  } else {\n    var stiffness = Math.pow(undampedFreq, 2) * mass;\n    return {\n      stiffness: stiffness,\n      damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n      duration: duration\n    };\n  }\n}\nvar rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n  var result = initialGuess;\n  for (var i = 1; i < rootIterations; i++) {\n    result = result - envelope(result) / derivative(result);\n  }\n  return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n  return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };","import { __rest, __assign } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.js';\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n  return keys.some(function (key) {\n    return options[key] !== undefined;\n  });\n}\nfunction getSpringOptions(options) {\n  var springOptions = __assign({\n    velocity: 0.0,\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    isResolvedFromDuration: false\n  }, options);\n  if (!isSpringType(options, physicsKeys) && isSpringType(options, durationKeys)) {\n    var derived = findSpring(options);\n    springOptions = __assign(__assign(__assign({}, springOptions), derived), {\n      velocity: 0.0,\n      mass: 1.0\n    });\n    springOptions.isResolvedFromDuration = true;\n  }\n  return springOptions;\n}\nfunction spring(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0.0 : _b,\n    _c = _a.to,\n    to = _c === void 0 ? 1.0 : _c,\n    _d = _a.restSpeed,\n    restSpeed = _d === void 0 ? 2 : _d,\n    restDelta = _a.restDelta,\n    options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n  var state = {\n    done: false,\n    value: from\n  };\n  var _e = getSpringOptions(options),\n    stiffness = _e.stiffness,\n    damping = _e.damping,\n    mass = _e.mass,\n    velocity = _e.velocity,\n    duration = _e.duration,\n    isResolvedFromDuration = _e.isResolvedFromDuration;\n  var resolveSpring = zero;\n  var resolveVelocity = zero;\n  function createSpring() {\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var initialDelta = to - from;\n    var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n    restDelta !== null && restDelta !== void 0 ? restDelta : restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4;\n    if (dampingRatio < 1) {\n      var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 * Math.sin(angularFreq_1 * t) + initialDelta * Math.cos(angularFreq_1 * t));\n      };\n      resolveVelocity = function resolveVelocity(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return dampingRatio * undampedAngularFreq * envelope * (Math.sin(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 + initialDelta * Math.cos(angularFreq_1 * t)) - envelope * (Math.cos(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) - angularFreq_1 * initialDelta * Math.sin(angularFreq_1 * t));\n      };\n    } else if (dampingRatio === 1) {\n      resolveSpring = function resolveSpring(t) {\n        return to - Math.exp(-undampedAngularFreq * t) * (initialDelta + (initialVelocity + undampedAngularFreq * initialDelta) * t);\n      };\n    } else {\n      var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) * Math.sinh(freqForT) + dampedAngularFreq_1 * initialDelta * Math.cosh(freqForT)) / dampedAngularFreq_1;\n      };\n    }\n  }\n  createSpring();\n  return {\n    next: function next(t) {\n      var current = resolveSpring(t);\n      if (!isResolvedFromDuration) {\n        var currentVelocity = resolveVelocity(t) * 1000;\n        var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n        var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n        state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\n      } else {\n        state.done = t >= duration;\n      }\n      state.value = state.done ? to : current;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      var _a;\n      velocity = -velocity;\n      _a = [to, from], from = _a[0], to = _a[1];\n      createSpring();\n    }\n  };\n}\nspring.needsInterpolation = function (a, b) {\n  return typeof a === \"string\" || typeof b === \"string\";\n};\nvar zero = function zero(_t) {\n  return 0;\n};\nexport { spring };","var progress = function progress(from, to, value) {\n  var toFromDifference = to - from;\n  return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\nexport { progress };","var mix = function mix(from, to, progress) {\n  return -progress * from + progress * to + from;\n};\nexport { mix };","import { isString, singleColorRegex, floatRegex } from '../utils.js';\nvar isColorString = function isColorString(type, testProp) {\n  return function (v) {\n    return Boolean(isString(v) && singleColorRegex.test(v) && v.startsWith(type) || testProp && Object.prototype.hasOwnProperty.call(v, testProp));\n  };\n};\nvar splitColor = function splitColor(aName, bName, cName) {\n  return function (v) {\n    var _a;\n    if (!isString(v)) return v;\n    var _b = v.match(floatRegex),\n      a = _b[0],\n      b = _b[1],\n      c = _b[2],\n      alpha = _b[3];\n    return _a = {}, _a[aName] = parseFloat(a), _a[bName] = parseFloat(b), _a[cName] = parseFloat(c), _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1, _a;\n  };\n};\nexport { isColorString, splitColor };","import { __assign } from 'tslib';\nimport { number, alpha } from '../numbers/index.js';\nimport { sanitize, clamp } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = __assign(__assign({}, number), {\n  transform: function transform(v) {\n    return Math.round(clampRgbUnit(v));\n  }\n});\nvar rgba = {\n  test: isColorString('rgb', 'red'),\n  parse: splitColor('red', 'green', 'blue'),\n  transform: function transform(_a) {\n    var red = _a.red,\n      green = _a.green,\n      blue = _a.blue,\n      _b = _a.alpha,\n      alpha$1 = _b === void 0 ? 1 : _b;\n    return 'rgba(' + rgbUnit.transform(red) + ', ' + rgbUnit.transform(green) + ', ' + rgbUnit.transform(blue) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { rgbUnit, rgba };","import { rgba } from './rgba.js';\nimport { isColorString } from './utils.js';\nfunction parseHex(v) {\n  var r = '';\n  var g = '';\n  var b = '';\n  var a = '';\n  if (v.length > 5) {\n    r = v.substr(1, 2);\n    g = v.substr(3, 2);\n    b = v.substr(5, 2);\n    a = v.substr(7, 2);\n  } else {\n    r = v.substr(1, 1);\n    g = v.substr(2, 1);\n    b = v.substr(3, 1);\n    a = v.substr(4, 1);\n    r += r;\n    g += g;\n    b += b;\n    a += a;\n  }\n  return {\n    red: parseInt(r, 16),\n    green: parseInt(g, 16),\n    blue: parseInt(b, 16),\n    alpha: a ? parseInt(a, 16) / 255 : 1\n  };\n}\nvar hex = {\n  test: isColorString('#'),\n  parse: parseHex,\n  transform: rgba.transform\n};\nexport { hex };","import { alpha } from '../numbers/index.js';\nimport { percent } from '../numbers/units.js';\nimport { sanitize } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar hsla = {\n  test: isColorString('hsl', 'hue'),\n  parse: splitColor('hue', 'saturation', 'lightness'),\n  transform: function transform(_a) {\n    var hue = _a.hue,\n      saturation = _a.saturation,\n      lightness = _a.lightness,\n      _b = _a.alpha,\n      alpha$1 = _b === void 0 ? 1 : _b;\n    return 'hsla(' + Math.round(hue) + ', ' + percent.transform(sanitize(saturation)) + ', ' + percent.transform(sanitize(lightness)) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { hsla };","import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nvar mixLinearColor = function mixLinearColor(from, to, v) {\n  var fromExpo = from * from;\n  var toExpo = to * to;\n  return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [hex, rgba, hsla];\nvar getColorType = function getColorType(v) {\n  return colorTypes.find(function (type) {\n    return type.test(v);\n  });\n};\nvar notAnimatable = function notAnimatable(color) {\n  return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function mixColor(from, to) {\n  var fromColorType = getColorType(from);\n  var toColorType = getColorType(to);\n  invariant(!!fromColorType, notAnimatable(from));\n  invariant(!!toColorType, notAnimatable(to));\n  invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n  var fromColor = fromColorType.parse(from);\n  var toColor = toColorType.parse(to);\n  var blended = __assign({}, fromColor);\n  var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n  return function (v) {\n    for (var key in blended) {\n      if (key !== \"alpha\") {\n        blended[key] = mixFunc(fromColor[key], toColor[key], v);\n      }\n    }\n    blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n    return fromColorType.transform(blended);\n  };\n};\nexport { mixColor, mixLinearColor };","import { isString } from '../utils.js';\nimport { hex } from './hex.js';\nimport { hsla } from './hsla.js';\nimport { rgba } from './rgba.js';\nvar color = {\n  test: function test(v) {\n    return rgba.test(v) || hex.test(v) || hsla.test(v);\n  },\n  parse: function parse(v) {\n    if (rgba.test(v)) {\n      return rgba.parse(v);\n    } else if (hsla.test(v)) {\n      return hsla.parse(v);\n    } else {\n      return hex.parse(v);\n    }\n  },\n  transform: function transform(v) {\n    return isString(v) ? v : v.hasOwnProperty('red') ? rgba.transform(v) : hsla.transform(v);\n  }\n};\nexport { color };","import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n  var _a, _b, _c, _d;\n  return isNaN(v) && isString(v) && ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0;\n}\nfunction analyse(v) {\n  var values = [];\n  var numColors = 0;\n  var colors = v.match(colorRegex);\n  if (colors) {\n    numColors = colors.length;\n    v = v.replace(colorRegex, colorToken);\n    values.push.apply(values, colors.map(color.parse));\n  }\n  var numbers = v.match(floatRegex);\n  if (numbers) {\n    v = v.replace(floatRegex, numberToken);\n    values.push.apply(values, numbers.map(number.parse));\n  }\n  return {\n    values: values,\n    numColors: numColors,\n    tokenised: v\n  };\n}\nfunction parse(v) {\n  return analyse(v).values;\n}\nfunction createTransformer(v) {\n  var _a = analyse(v),\n    values = _a.values,\n    numColors = _a.numColors,\n    tokenised = _a.tokenised;\n  var numValues = values.length;\n  return function (v) {\n    var output = tokenised;\n    for (var i = 0; i < numValues; i++) {\n      output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n    }\n    return output;\n  };\n}\nvar convertNumbersToZero = function convertNumbersToZero(v) {\n  return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n  var parsed = parse(v);\n  var transformer = createTransformer(v);\n  return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = {\n  test: test,\n  parse: parse,\n  createTransformer: createTransformer,\n  getAnimatableNone: getAnimatableNone\n};\nexport { complex };","var zeroPoint = {\n  x: 0,\n  y: 0,\n  z: 0\n};\nvar isNum = function isNum(v) {\n  return typeof v === 'number';\n};\nexport { isNum, zeroPoint };","import { __spreadArray, __assign } from 'tslib';\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { isNum } from './inc.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\nfunction getMixer(origin, target) {\n  if (isNum(origin)) {\n    return function (v) {\n      return mix(origin, target, v);\n    };\n  } else if (color.test(origin)) {\n    return mixColor(origin, target);\n  } else {\n    return mixComplex(origin, target);\n  }\n}\nvar mixArray = function mixArray(from, to) {\n  var output = __spreadArray([], from);\n  var numValues = output.length;\n  var blendValue = from.map(function (fromThis, i) {\n    return getMixer(fromThis, to[i]);\n  });\n  return function (v) {\n    for (var i = 0; i < numValues; i++) {\n      output[i] = blendValue[i](v);\n    }\n    return output;\n  };\n};\nvar mixObject = function mixObject(origin, target) {\n  var output = __assign(__assign({}, origin), target);\n  var blendValue = {};\n  for (var key in output) {\n    if (origin[key] !== undefined && target[key] !== undefined) {\n      blendValue[key] = getMixer(origin[key], target[key]);\n    }\n  }\n  return function (v) {\n    for (var key in blendValue) {\n      output[key] = blendValue[key](v);\n    }\n    return output;\n  };\n};\nfunction analyse(value) {\n  var parsed = complex.parse(value);\n  var numValues = parsed.length;\n  var numNumbers = 0;\n  var numRGB = 0;\n  var numHSL = 0;\n  for (var i = 0; i < numValues; i++) {\n    if (numNumbers || typeof parsed[i] === \"number\") {\n      numNumbers++;\n    } else {\n      if (parsed[i].hue !== undefined) {\n        numHSL++;\n      } else {\n        numRGB++;\n      }\n    }\n  }\n  return {\n    parsed: parsed,\n    numNumbers: numNumbers,\n    numRGB: numRGB,\n    numHSL: numHSL\n  };\n}\nvar mixComplex = function mixComplex(origin, target) {\n  var template = complex.createTransformer(target);\n  var originStats = analyse(origin);\n  var targetStats = analyse(target);\n  invariant(originStats.numHSL === targetStats.numHSL && originStats.numRGB === targetStats.numRGB && originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n  return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\nexport { mixArray, mixComplex, mixObject };","import { progress } from './progress.js';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.js';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\nvar mixNumber = function mixNumber(from, to) {\n  return function (p) {\n    return mix(from, to, p);\n  };\n};\nfunction detectMixerFactory(v) {\n  if (typeof v === 'number') {\n    return mixNumber;\n  } else if (typeof v === 'string') {\n    if (color.test(v)) {\n      return mixColor;\n    } else {\n      return mixComplex;\n    }\n  } else if (Array.isArray(v)) {\n    return mixArray;\n  } else if (typeof v === 'object') {\n    return mixObject;\n  }\n}\nfunction createMixers(output, ease, customMixer) {\n  var mixers = [];\n  var mixerFactory = customMixer || detectMixerFactory(output[0]);\n  var numMixers = output.length - 1;\n  for (var i = 0; i < numMixers; i++) {\n    var mixer = mixerFactory(output[i], output[i + 1]);\n    if (ease) {\n      var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n      mixer = pipe(easingFunction, mixer);\n    }\n    mixers.push(mixer);\n  }\n  return mixers;\n}\nfunction fastInterpolate(_a, _b) {\n  var from = _a[0],\n    to = _a[1];\n  var mixer = _b[0];\n  return function (v) {\n    return mixer(progress(from, to, v));\n  };\n}\nfunction slowInterpolate(input, mixers) {\n  var inputLength = input.length;\n  var lastInputIndex = inputLength - 1;\n  return function (v) {\n    var mixerIndex = 0;\n    var foundMixerIndex = false;\n    if (v <= input[0]) {\n      foundMixerIndex = true;\n    } else if (v >= input[lastInputIndex]) {\n      mixerIndex = lastInputIndex - 1;\n      foundMixerIndex = true;\n    }\n    if (!foundMixerIndex) {\n      var i = 1;\n      for (; i < inputLength; i++) {\n        if (input[i] > v || i === lastInputIndex) {\n          break;\n        }\n      }\n      mixerIndex = i - 1;\n    }\n    var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n    return mixers[mixerIndex](progressInRange);\n  };\n}\nfunction interpolate(input, output, _a) {\n  var _b = _a === void 0 ? {} : _a,\n    _c = _b.clamp,\n    isClamp = _c === void 0 ? true : _c,\n    ease = _b.ease,\n    mixer = _b.mixer;\n  var inputLength = input.length;\n  invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n  invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n  if (input[0] > input[inputLength - 1]) {\n    input = [].concat(input);\n    output = [].concat(output);\n    input.reverse();\n    output.reverse();\n  }\n  var mixers = createMixers(output, ease, mixer);\n  var interpolator = inputLength === 2 ? fastInterpolate(input, mixers) : slowInterpolate(input, mixers);\n  return isClamp ? function (v) {\n    return interpolator(clamp(input[0], input[inputLength - 1], v));\n  } : interpolator;\n}\nexport { interpolate };","var reverseEasing = function reverseEasing(easing) {\n  return function (p) {\n    return 1 - easing(1 - p);\n  };\n};\nvar mirrorEasing = function mirrorEasing(easing) {\n  return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n  };\n};\nvar createExpoIn = function createExpoIn(power) {\n  return function (p) {\n    return Math.pow(p, power);\n  };\n};\nvar createBackIn = function createBackIn(power) {\n  return function (p) {\n    return p * p * ((power + 1) * p - power);\n  };\n};\nvar createAnticipate = function createAnticipate(power) {\n  var backEasing = createBackIn(power);\n  return function (p) {\n    return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n  };\n};\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.js';\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar linear = function linear(p) {\n  return p;\n};\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\nvar circIn = function circIn(p) {\n  return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function bounceOut(p) {\n  if (p === 1 || p === 0) return p;\n  var p2 = p * p;\n  return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = reverseEasing(bounceOut);\nvar bounceInOut = function bounceInOut(p) {\n  return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };","import { interpolate } from '../../utils/interpolate.js';\nimport { easeInOut } from '../../easing/index.js';\nfunction defaultEasing(values, easing) {\n  return values.map(function () {\n    return easing || easeInOut;\n  }).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n  var numValues = values.length;\n  return values.map(function (_value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n}\nfunction convertOffsetToTimes(offset, duration) {\n  return offset.map(function (o) {\n    return o * duration;\n  });\n}\nfunction keyframes(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.to,\n    to = _c === void 0 ? 1 : _c,\n    ease = _a.ease,\n    offset = _a.offset,\n    _d = _a.duration,\n    duration = _d === void 0 ? 300 : _d;\n  var state = {\n    done: false,\n    value: from\n  };\n  var values = Array.isArray(to) ? to : [from, to];\n  var times = convertOffsetToTimes(offset && offset.length === values.length ? offset : defaultOffset(values), duration);\n  function createInterpolator() {\n    return interpolate(times, values, {\n      ease: Array.isArray(ease) ? ease : defaultEasing(values, ease)\n    });\n  }\n  var interpolator = createInterpolator();\n  return {\n    next: function next(t) {\n      state.value = interpolator(t);\n      state.done = t >= duration;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      values.reverse();\n      interpolator = createInterpolator();\n    }\n  };\n}\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };","import { spring } from '../generators/spring.js';\nimport { keyframes } from '../generators/keyframes.js';\nimport { decay } from '../generators/decay.js';\nvar types = {\n  keyframes: keyframes,\n  spring: spring,\n  decay: decay\n};\nfunction detectAnimationFromOptions(config) {\n  if (Array.isArray(config.to)) {\n    return keyframes;\n  } else if (types[config.type]) {\n    return types[config.type];\n  }\n  var keys = new Set(Object.keys(config));\n  if (keys.has(\"ease\") || keys.has(\"duration\") && !keys.has(\"dampingRatio\")) {\n    return keyframes;\n  } else if (keys.has(\"dampingRatio\") || keys.has(\"stiffness\") || keys.has(\"mass\") || keys.has(\"damping\") || keys.has(\"restSpeed\") || keys.has(\"restDelta\")) {\n    return spring;\n  }\n  return keyframes;\n}\nexport { detectAnimationFromOptions };","function decay(_a) {\n  var _b = _a.velocity,\n    velocity = _b === void 0 ? 0 : _b,\n    _c = _a.from,\n    from = _c === void 0 ? 0 : _c,\n    _d = _a.power,\n    power = _d === void 0 ? 0.8 : _d,\n    _e = _a.timeConstant,\n    timeConstant = _e === void 0 ? 350 : _e,\n    _f = _a.restDelta,\n    restDelta = _f === void 0 ? 0.5 : _f,\n    modifyTarget = _a.modifyTarget;\n  var state = {\n    done: false,\n    value: from\n  };\n  var amplitude = power * velocity;\n  var ideal = from + amplitude;\n  var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n  if (target !== ideal) amplitude = target - from;\n  return {\n    next: function next(t) {\n      var delta = -amplitude * Math.exp(-t / timeConstant);\n      state.done = !(delta > restDelta || delta < -restDelta);\n      state.value = state.done ? target : target + delta;\n      return state;\n    },\n    flipTarget: function flipTarget() {}\n  };\n}\nexport { decay };","function loopElapsed(elapsed, duration, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  if (isForwardPlayback === void 0) {\n    isForwardPlayback = true;\n  }\n  return isForwardPlayback ? loopElapsed(duration + -elapsed, duration, delay) : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n  return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };","import { __rest, __assign } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.js';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.js';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.js';\nvar framesync = function framesync(update) {\n  var passTimestamp = function passTimestamp(_a) {\n    var delta = _a.delta;\n    return update(delta);\n  };\n  return {\n    start: function start() {\n      return sync.update(passTimestamp, true);\n    },\n    stop: function stop() {\n      return cancelSync.update(passTimestamp);\n    }\n  };\n};\nfunction animate(_a) {\n  var _b, _c;\n  var from = _a.from,\n    _d = _a.autoplay,\n    autoplay = _d === void 0 ? true : _d,\n    _e = _a.driver,\n    driver = _e === void 0 ? framesync : _e,\n    _f = _a.elapsed,\n    elapsed = _f === void 0 ? 0 : _f,\n    _g = _a.repeat,\n    repeatMax = _g === void 0 ? 0 : _g,\n    _h = _a.repeatType,\n    repeatType = _h === void 0 ? \"loop\" : _h,\n    _j = _a.repeatDelay,\n    repeatDelay = _j === void 0 ? 0 : _j,\n    onPlay = _a.onPlay,\n    onStop = _a.onStop,\n    onComplete = _a.onComplete,\n    onRepeat = _a.onRepeat,\n    onUpdate = _a.onUpdate,\n    options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n  var to = options.to;\n  var driverControls;\n  var repeatCount = 0;\n  var computedDuration = options.duration;\n  var latest;\n  var isComplete = false;\n  var isForwardPlayback = true;\n  var interpolateFromNumber;\n  var animator = detectAnimationFromOptions(options);\n  if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n    interpolateFromNumber = interpolate([0, 100], [from, to], {\n      clamp: false\n    });\n    from = 0;\n    to = 100;\n  }\n  var animation = animator(__assign(__assign({}, options), {\n    from: from,\n    to: to\n  }));\n  function repeat() {\n    repeatCount++;\n    if (repeatType === \"reverse\") {\n      isForwardPlayback = repeatCount % 2 === 0;\n      elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n    } else {\n      elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n      if (repeatType === \"mirror\") animation.flipTarget();\n    }\n    isComplete = false;\n    onRepeat && onRepeat();\n  }\n  function complete() {\n    driverControls.stop();\n    onComplete && onComplete();\n  }\n  function update(delta) {\n    if (!isForwardPlayback) delta = -delta;\n    elapsed += delta;\n    if (!isComplete) {\n      var state = animation.next(Math.max(0, elapsed));\n      latest = state.value;\n      if (interpolateFromNumber) latest = interpolateFromNumber(latest);\n      isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n    }\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n    if (isComplete) {\n      if (repeatCount === 0) computedDuration !== null && computedDuration !== void 0 ? computedDuration : computedDuration = elapsed;\n      if (repeatCount < repeatMax) {\n        hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n      } else {\n        complete();\n      }\n    }\n  }\n  function play() {\n    onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n    driverControls = driver(update);\n    driverControls.start();\n  }\n  autoplay && play();\n  return {\n    stop: function stop() {\n      onStop === null || onStop === void 0 ? void 0 : onStop();\n      driverControls.stop();\n    }\n  };\n}\nexport { animate };","function velocityPerSecond(velocity, frameDuration) {\n  return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\nexport { velocityPerSecond };","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function secondsToMilliseconds(seconds) {\n  return seconds * 1000;\n};\nexport { secondsToMilliseconds };","import { linear } from './index.js';\nvar a = function a(a1, a2) {\n  return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function b(a1, a2) {\n  return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function c(a1) {\n  return 3.0 * a1;\n};\nvar calcBezier = function calcBezier(t, a1, a2) {\n  return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nvar getSlope = function getSlope(t, a1, a2) {\n  return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX;\n  var currentT;\n  var i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > subdivisionPrecision && ++i < subdivisionMaxIterations);\n  return currentT;\n}\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < newtonIterations; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  if (mX1 === mY1 && mX2 === mY2) return linear;\n  var sampleValues = new Float32Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= newtonMinSlope) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n  return function (t) {\n    return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n  };\n}\nexport { cubicBezier };","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\nvar easingLookup = {\n  linear: linear,\n  easeIn: easeIn,\n  easeInOut: easeInOut,\n  easeOut: easeOut,\n  circIn: circIn,\n  circInOut: circInOut,\n  circOut: circOut,\n  backIn: backIn,\n  backInOut: backInOut,\n  backOut: backOut,\n  anticipate: anticipate,\n  bounceIn: bounceIn,\n  bounceInOut: bounceInOut,\n  bounceOut: bounceOut\n};\nvar easingDefinitionToFunction = function easingDefinitionToFunction(definition) {\n  if (Array.isArray(definition)) {\n    // If cubic bezier definition, create bezier curve\n    invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n    var _a = __read(definition, 4),\n      x1 = _a[0],\n      y1 = _a[1],\n      x2 = _a[2],\n      y2 = _a[3];\n    return cubicBezier(x1, y1, x2, y2);\n  } else if (typeof definition === \"string\") {\n    // Else lookup from table\n    invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n    return easingLookup[definition];\n  }\n  return definition;\n};\nvar isEasingArray = function isEasingArray(ease) {\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\nexport { easingDefinitionToFunction, isEasingArray };","import { complex } from 'style-value-types';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nvar isAnimatable = function isAnimatable(key, value) {\n  // If the list of keys tat might be non-animatable grows, replace with Set\n  if (key === \"zIndex\") return false;\n  // If it's a number or a keyframes array, we can animate it. We might at some point\n  // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n  // but for now lets leave it like this for performance reasons\n  if (typeof value === \"number\" || Array.isArray(value)) return true;\n  if (typeof value === \"string\" &&\n  // It's animatable if we have a string\n  complex.test(value) &&\n  // And it contains numbers and/or colors\n  !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n  ) {\n    return true;\n  }\n  return false;\n};\nexport { isAnimatable };","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.js';\nvar underDampedSpring = function underDampedSpring() {\n  return {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10\n  };\n};\nvar criticallyDampedSpring = function criticallyDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10\n  };\n};\nvar linearTween = function linearTween() {\n  return {\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3\n  };\n};\nvar keyframes = function keyframes(values) {\n  return {\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values\n  };\n};\nvar defaultTransitions = {\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: criticallyDampedSpring,\n  scaleY: criticallyDampedSpring,\n  scale: criticallyDampedSpring,\n  opacity: linearTween,\n  backgroundColor: linearTween,\n  color: linearTween,\n  default: criticallyDampedSpring\n};\nvar getDefaultTransition = function getDefaultTransition(valueKey, to) {\n  var transitionFactory;\n  if (isKeyframesTarget(to)) {\n    transitionFactory = keyframes;\n  } else {\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\n  }\n  return __assign({\n    to: to\n  }, transitionFactory(to));\n};\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };","import { __assign } from 'tslib';\nimport { complex } from './index.js';\nimport { floatRegex } from '../utils.js';\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n  var _a = v.slice(0, -1).split('('),\n    name = _a[0],\n    value = _a[1];\n  if (name === 'drop-shadow') return v;\n  var number = (value.match(floatRegex) || [])[0];\n  if (!number) return v;\n  var unit = value.replace(number, '');\n  var defaultValue = maxDefaults.has(name) ? 1 : 0;\n  if (number !== value) defaultValue *= 100;\n  return name + '(' + defaultValue + unit + ')';\n}\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = __assign(__assign({}, complex), {\n  getAnimatableNone: function getAnimatableNone(v) {\n    var functions = v.match(functionRegex);\n    return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n  }\n});\nexport { filter };","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.js';\n\n/**\n * A map of default value types for common values\n */\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), {\n  // Color props\n  color: color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  // Border props\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  filter: filter,\n  WebkitFilter: filter\n});\n/**\n * Gets the default ValueType for the provided value key\n */\nvar getDefaultValueType = function getDefaultValueType(key) {\n  return defaultValueTypes[key];\n};\nexport { defaultValueTypes, getDefaultValueType };","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.js';\nfunction getAnimatableNone(key, value) {\n  var _a;\n  var defaultValueType = getDefaultValueType(key);\n  if (defaultValueType !== filter) defaultValueType = complex;\n  // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n  return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\nexport { getAnimatableNone };","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.js';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.js';\nimport { isAnimatable } from './is-animatable.js';\nimport { getDefaultTransition } from './default-transitions.js';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.js';\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined(_a) {\n  _a.when;\n  _a.delay;\n  _a.delayChildren;\n  _a.staggerChildren;\n  _a.staggerDirection;\n  _a.repeat;\n  _a.repeatType;\n  _a.repeatDelay;\n  _a.from;\n  var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n  return !!Object.keys(transition).length;\n}\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions(_a) {\n  var ease = _a.ease,\n    times = _a.times,\n    yoyo = _a.yoyo,\n    flip = _a.flip,\n    loop = _a.loop,\n    transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n  var options = __assign({}, transition);\n  if (times) options[\"offset\"] = times;\n  /**\n   * Convert any existing durations from seconds to milliseconds\n   */\n  if (transition.duration) options[\"duration\"] = secondsToMilliseconds(transition.duration);\n  if (transition.repeatDelay) options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n  /**\n   * Map easing names to Popmotion's easing functions\n   */\n  if (ease) {\n    options[\"ease\"] = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\n  }\n  /**\n   * Support legacy transition API\n   */\n  if (transition.type === \"tween\") options.type = \"keyframes\";\n  /**\n   * TODO: These options are officially removed from the API.\n   */\n  if (yoyo || loop || flip) {\n    warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n    legacyRepeatWarning = true;\n    if (yoyo) {\n      options.repeatType = \"reverse\";\n    } else if (loop) {\n      options.repeatType = \"loop\";\n    } else if (flip) {\n      options.repeatType = \"mirror\";\n    }\n    options.repeat = loop || yoyo || flip || transition.repeat;\n  }\n  /**\n   * TODO: Popmotion 9 has the ability to automatically detect whether to use\n   * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n   * It'd be good to introduce a similar thing here.\n   */\n  if (transition.type !== \"spring\") options.type = \"keyframes\";\n  return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n  var _a;\n  var valueTransition = getValueTransition(transition, key) || {};\n  return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\nfunction hydrateKeyframes(options) {\n  if (Array.isArray(options.to) && options.to[0] === null) {\n    options.to = __spreadArray([], __read(options.to));\n    options.to[0] = options.from;\n  }\n  return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n  var _a;\n  if (Array.isArray(options.to)) {\n    (_a = transition.duration) !== null && _a !== void 0 ? _a : transition.duration = 0.8;\n  }\n  hydrateKeyframes(options);\n  /**\n   * Get a default transition if none is determined to be defined.\n   */\n  if (!isTransitionDefined(transition)) {\n    transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n  }\n  return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n  var _a;\n  var valueTransition = getValueTransition(transition, key);\n  var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n  var isTargetAnimatable = isAnimatable(key, target);\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n    /**\n     * If we're trying to animate from \"none\", try and get an animatable version\n     * of the target. This could be improved to work both ways.\n     */\n    origin = getAnimatableNone(key, target);\n  } else if (isZero(origin) && typeof target === \"string\") {\n    origin = getZeroUnit(target);\n  } else if (!Array.isArray(target) && isZero(target) && typeof origin === \"string\") {\n    target = getZeroUnit(origin);\n  }\n  var isOriginAnimatable = isAnimatable(key, origin);\n  warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n  function start() {\n    var options = {\n      from: origin,\n      to: target,\n      velocity: value.getVelocity(),\n      onComplete: onComplete,\n      onUpdate: function onUpdate(v) {\n        return value.set(v);\n      }\n    };\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia(__assign(__assign({}, options), valueTransition)) : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), {\n      onUpdate: function onUpdate(v) {\n        var _a;\n        options.onUpdate(v);\n        (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n      },\n      onComplete: function onComplete() {\n        var _a;\n        options.onComplete();\n        (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n      }\n    }));\n  }\n  function set() {\n    var _a;\n    value.set(target);\n    onComplete();\n    (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n    return {\n      stop: function stop() {}\n    };\n  }\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\n}\nfunction isZero(value) {\n  return value === 0 || typeof value === \"string\" && parseFloat(value) === 0 && value.indexOf(\" \") === -1;\n}\nfunction getZeroUnit(potentialUnitType) {\n  return typeof potentialUnitType === \"number\" ? 0 : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n  return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\nfunction startAnimation(key, value, target, transition) {\n  if (transition === void 0) {\n    transition = {};\n  }\n  return value.start(function (onComplete) {\n    var delayTimer;\n    var controls;\n    var animation = getAnimation(key, value, target, transition, onComplete);\n    var delay = getDelayFromTransition(transition, key);\n    var start = function start() {\n      return controls = animation();\n    };\n    if (delay) {\n      delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n    } else {\n      start();\n    }\n    return function () {\n      clearTimeout(delayTimer);\n      controls === null || controls === void 0 ? void 0 : controls.stop();\n    };\n  });\n}\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };","import { __assign } from 'tslib';\nimport { animate } from './index.js';\nimport { velocityPerSecond } from '../utils/velocity-per-second.js';\nimport { getFrameData } from 'framesync';\nfunction inertia(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.velocity,\n    velocity = _c === void 0 ? 0 : _c,\n    min = _a.min,\n    max = _a.max,\n    _d = _a.power,\n    power = _d === void 0 ? 0.8 : _d,\n    _e = _a.timeConstant,\n    timeConstant = _e === void 0 ? 750 : _e,\n    _f = _a.bounceStiffness,\n    bounceStiffness = _f === void 0 ? 500 : _f,\n    _g = _a.bounceDamping,\n    bounceDamping = _g === void 0 ? 10 : _g,\n    _h = _a.restDelta,\n    restDelta = _h === void 0 ? 1 : _h,\n    modifyTarget = _a.modifyTarget,\n    driver = _a.driver,\n    _onUpdate = _a.onUpdate,\n    onComplete = _a.onComplete;\n  var currentAnimation;\n  function isOutOfBounds(v) {\n    return min !== undefined && v < min || max !== undefined && v > max;\n  }\n  function boundaryNearest(v) {\n    if (min === undefined) return max;\n    if (max === undefined) return min;\n    return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n  }\n  function startAnimation(options) {\n    currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    currentAnimation = animate(__assign(__assign({}, options), {\n      driver: driver,\n      onUpdate: function onUpdate(v) {\n        var _a;\n        _onUpdate === null || _onUpdate === void 0 ? void 0 : _onUpdate(v);\n        (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n      },\n      onComplete: onComplete\n    }));\n  }\n  function startSpring(options) {\n    startAnimation(__assign({\n      type: \"spring\",\n      stiffness: bounceStiffness,\n      damping: bounceDamping,\n      restDelta: restDelta\n    }, options));\n  }\n  if (isOutOfBounds(from)) {\n    startSpring({\n      from: from,\n      velocity: velocity,\n      to: boundaryNearest(from)\n    });\n  } else {\n    var target = power * velocity + from;\n    if (typeof modifyTarget !== \"undefined\") target = modifyTarget(target);\n    var boundary_1 = boundaryNearest(target);\n    var heading_1 = boundary_1 === min ? -1 : 1;\n    var prev_1;\n    var current_1;\n    var checkBoundary = function checkBoundary(v) {\n      prev_1 = current_1;\n      current_1 = v;\n      velocity = velocityPerSecond(v - prev_1, getFrameData().delta);\n      if (heading_1 === 1 && v > boundary_1 || heading_1 === -1 && v < boundary_1) {\n        startSpring({\n          from: v,\n          to: boundary_1,\n          velocity: velocity\n        });\n      }\n    };\n    startAnimation({\n      type: \"decay\",\n      from: from,\n      velocity: velocity,\n      timeConstant: timeConstant,\n      power: power,\n      restDelta: restDelta,\n      modifyTarget: modifyTarget,\n      onUpdate: isOutOfBounds(target) ? checkBoundary : undefined\n    });\n  }\n  return {\n    stop: function stop() {\n      return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    }\n  };\n}\nexport { inertia };","function addUniqueItem(arr, item) {\n  arr.indexOf(item) === -1 && arr.push(item);\n}\nfunction removeItem(arr, item) {\n  var index = arr.indexOf(item);\n  index > -1 && arr.splice(index, 1);\n}\nexport { addUniqueItem, removeItem };","import { addUniqueItem, removeItem } from './array.js';\nvar SubscriptionManager = /** @class */function () {\n  function SubscriptionManager() {\n    this.subscriptions = [];\n  }\n  SubscriptionManager.prototype.add = function (handler) {\n    var _this = this;\n    addUniqueItem(this.subscriptions, handler);\n    return function () {\n      return removeItem(_this.subscriptions, handler);\n    };\n  };\n  SubscriptionManager.prototype.notify = function (a, b, c) {\n    var numSubscriptions = this.subscriptions.length;\n    if (!numSubscriptions) return;\n    if (numSubscriptions === 1) {\n      /**\n       * If there's only a single handler we can just call it without invoking a loop.\n       */\n      this.subscriptions[0](a, b, c);\n    } else {\n      for (var i = 0; i < numSubscriptions; i++) {\n        /**\n         * Check whether the handler exists before firing as it's possible\n         * the subscriptions were modified during this loop running.\n         */\n        var handler = this.subscriptions[i];\n        handler && handler(a, b, c);\n      }\n    }\n  };\n  SubscriptionManager.prototype.getSize = function () {\n    return this.subscriptions.length;\n  };\n  SubscriptionManager.prototype.clear = function () {\n    this.subscriptions.length = 0;\n  };\n  return SubscriptionManager;\n}();\nexport { SubscriptionManager };","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.js';\nvar isFloat = function isFloat(value) {\n  return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nvar MotionValue = /** @class */function () {\n  /**\n   * @param init - The initiating value\n   * @param config - Optional configuration options\n   *\n   * -  `transformer`: A function to transform incoming values with.\n   *\n   * @internal\n   */\n  function MotionValue(init) {\n    var _this = this;\n    /**\n     * Duration, in milliseconds, since last updating frame.\n     *\n     * @internal\n     */\n    this.timeDelta = 0;\n    /**\n     * Timestamp of the last time this `MotionValue` was updated.\n     *\n     * @internal\n     */\n    this.lastUpdated = 0;\n    /**\n     * Functions to notify when the `MotionValue` updates.\n     *\n     * @internal\n     */\n    this.updateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the velocity updates.\n     *\n     * @internal\n     */\n    this.velocityUpdateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n     *\n     * @internal\n     */\n    this.renderSubscribers = new SubscriptionManager();\n    /**\n     * Tracks whether this value can output a velocity. Currently this is only true\n     * if the value is numerical, but we might be able to widen the scope here and support\n     * other value types.\n     *\n     * @internal\n     */\n    this.canTrackVelocity = false;\n    this.updateAndNotify = function (v, render) {\n      if (render === void 0) {\n        render = true;\n      }\n      _this.prev = _this.current;\n      _this.current = v;\n      // Update timestamp\n      var _a = getFrameData(),\n        delta = _a.delta,\n        timestamp = _a.timestamp;\n      if (_this.lastUpdated !== timestamp) {\n        _this.timeDelta = delta;\n        _this.lastUpdated = timestamp;\n        sync.postRender(_this.scheduleVelocityCheck);\n      }\n      // Update update subscribers\n      if (_this.prev !== _this.current) {\n        _this.updateSubscribers.notify(_this.current);\n      }\n      // Update velocity subscribers\n      if (_this.velocityUpdateSubscribers.getSize()) {\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n      // Update render subscribers\n      if (render) {\n        _this.renderSubscribers.notify(_this.current);\n      }\n    };\n    /**\n     * Schedule a velocity check for the next frame.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n    this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n    /**\n     * Updates `prev` with `current` if the value hasn't been updated this frame.\n     * This ensures velocity calculations return `0`.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n    this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n    };\n    this.hasAnimated = false;\n    this.prev = this.current = init;\n    this.canTrackVelocity = isFloat(this.current);\n  }\n  /**\n   * Adds a function that will be notified when the `MotionValue` is updated.\n   *\n   * It returns a function that, when called, will cancel the subscription.\n   *\n   * When calling `onChange` inside a React component, it should be wrapped with the\n   * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n   * from the `useEffect` function to ensure you don't add duplicate subscribers..\n   *\n   * @library\n   *\n   * ```jsx\n   * function MyComponent() {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <Frame x={x} />\n   * }\n   * ```\n   *\n   * @motion\n   *\n   * ```jsx\n   * export const MyComponent = () => {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <motion.div style={{ x }} />\n   * }\n   * ```\n   *\n   * @internalremarks\n   *\n   * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n   *\n   * ```jsx\n   * useOnChange(x, () => {})\n   * ```\n   *\n   * @param subscriber - A function that receives the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @public\n   */\n  MotionValue.prototype.onChange = function (subscription) {\n    return this.updateSubscribers.add(subscription);\n  };\n  MotionValue.prototype.clearListeners = function () {\n    this.updateSubscribers.clear();\n  };\n  /**\n   * Adds a function that will be notified when the `MotionValue` requests a render.\n   *\n   * @param subscriber - A function that's provided the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @internal\n   */\n  MotionValue.prototype.onRenderRequest = function (subscription) {\n    // Render immediately\n    subscription(this.get());\n    return this.renderSubscribers.add(subscription);\n  };\n  /**\n   * Attaches a passive effect to the `MotionValue`.\n   *\n   * @internal\n   */\n  MotionValue.prototype.attach = function (passiveEffect) {\n    this.passiveEffect = passiveEffect;\n  };\n  /**\n   * Sets the state of the `MotionValue`.\n   *\n   * @remarks\n   *\n   * ```jsx\n   * const x = useMotionValue(0)\n   * x.set(10)\n   * ```\n   *\n   * @param latest - Latest value to set.\n   * @param render - Whether to notify render subscribers. Defaults to `true`\n   *\n   * @public\n   */\n  MotionValue.prototype.set = function (v, render) {\n    if (render === void 0) {\n      render = true;\n    }\n    if (!render || !this.passiveEffect) {\n      this.updateAndNotify(v, render);\n    } else {\n      this.passiveEffect(v, this.updateAndNotify);\n    }\n  };\n  /**\n   * Returns the latest state of `MotionValue`\n   *\n   * @returns - The latest state of `MotionValue`\n   *\n   * @public\n   */\n  MotionValue.prototype.get = function () {\n    return this.current;\n  };\n  /**\n   * @public\n   */\n  MotionValue.prototype.getPrevious = function () {\n    return this.prev;\n  };\n  /**\n   * Returns the latest velocity of `MotionValue`\n   *\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n   *\n   * @public\n   */\n  MotionValue.prototype.getVelocity = function () {\n    // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n    return this.canTrackVelocity ?\n    // These casts could be avoided if parseFloat would be typed better\n    velocityPerSecond(parseFloat(this.current) - parseFloat(this.prev), this.timeDelta) : 0;\n  };\n  /**\n   * Registers a new animation to control this `MotionValue`. Only one\n   * animation can drive a `MotionValue` at one time.\n   *\n   * ```jsx\n   * value.start()\n   * ```\n   *\n   * @param animation - A function that starts the provided animation\n   *\n   * @internal\n   */\n  MotionValue.prototype.start = function (animation) {\n    var _this = this;\n    this.stop();\n    return new Promise(function (resolve) {\n      _this.hasAnimated = true;\n      _this.stopAnimation = animation(resolve);\n    }).then(function () {\n      return _this.clearAnimation();\n    });\n  };\n  /**\n   * Stop the currently active animation.\n   *\n   * @public\n   */\n  MotionValue.prototype.stop = function () {\n    if (this.stopAnimation) this.stopAnimation();\n    this.clearAnimation();\n  };\n  /**\n   * Returns `true` if this value is currently animating.\n   *\n   * @public\n   */\n  MotionValue.prototype.isAnimating = function () {\n    return !!this.stopAnimation;\n  };\n  MotionValue.prototype.clearAnimation = function () {\n    this.stopAnimation = null;\n  };\n  /**\n   * Destroy and clean up subscribers to this `MotionValue`.\n   *\n   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n   * created a `MotionValue` via the `motionValue` function.\n   *\n   * @public\n   */\n  MotionValue.prototype.destroy = function () {\n    this.updateSubscribers.clear();\n    this.renderSubscribers.clear();\n    this.stop();\n  };\n  return MotionValue;\n}();\n/**\n * @internal\n */\nfunction motionValue(init) {\n  return new MotionValue(init);\n}\nexport { MotionValue, motionValue };","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function testValueType(v) {\n  return function (type) {\n    return type.test(v);\n  };\n};\nexport { testValueType };","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.js';\nimport { auto } from './type-auto.js';\n\n/**\n * A list of value types commonly used for dimensions\n */\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nvar findDimensionValueType = function findDimensionValueType(v) {\n  return dimensionValueTypes.find(testValueType(v));\n};\nexport { dimensionValueTypes, findDimensionValueType };","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n  test: function test(v) {\n    return v === \"auto\";\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nexport { auto };","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.js';\nimport { testValueType } from './test.js';\n\n/**\n * A list of all ValueTypes\n */\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes)), [color, complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\nvar findValueType = function findValueType(v) {\n  return valueTypes.find(testValueType(v));\n};\nexport { findValueType };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.js';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.js';\nimport { motionValue } from '../../value/index.js';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.js';\nimport { findValueType } from '../dom/value-types/find.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n  if (visualElement.hasValue(key)) {\n    visualElement.getValue(key).set(value);\n  } else {\n    visualElement.addValue(key, motionValue(value));\n  }\n}\nfunction setTarget(visualElement, definition) {\n  var resolved = resolveVariant(visualElement, definition);\n  var _a = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {},\n    _b = _a.transitionEnd,\n    transitionEnd = _b === void 0 ? {} : _b;\n  _a.transition;\n  var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n  target = __assign(__assign({}, target), transitionEnd);\n  for (var key in target) {\n    var value = resolveFinalValueInKeyframes(target[key]);\n    setMotionValue(visualElement, key, value);\n  }\n}\nfunction setVariants(visualElement, variantLabels) {\n  var reversedLabels = __spreadArray([], __read(variantLabels)).reverse();\n  reversedLabels.forEach(function (key) {\n    var _a;\n    var variant = visualElement.getVariant(key);\n    variant && setTarget(visualElement, variant);\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      setVariants(child, variantLabels);\n    });\n  });\n}\nfunction setValues(visualElement, definition) {\n  if (Array.isArray(definition)) {\n    return setVariants(visualElement, definition);\n  } else if (typeof definition === \"string\") {\n    return setVariants(visualElement, [definition]);\n  } else {\n    setTarget(visualElement, definition);\n  }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n  var _a, _b, _c;\n  var _d;\n  var newValueKeys = Object.keys(target).filter(function (key) {\n    return !visualElement.hasValue(key);\n  });\n  var numNewValues = newValueKeys.length;\n  if (!numNewValues) return;\n  for (var i = 0; i < numNewValues; i++) {\n    var key = newValueKeys[i];\n    var targetValue = target[key];\n    var value = null;\n    /**\n     * If the target is a series of keyframes, we can use the first value\n     * in the array. If this first value is null, we'll still need to read from the DOM.\n     */\n    if (Array.isArray(targetValue)) {\n      value = targetValue[0];\n    }\n    /**\n     * If the target isn't keyframes, or the first keyframe was null, we need to\n     * first check if an origin value was explicitly defined in the transition as \"from\",\n     * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n     */\n    if (value === null) {\n      value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n    }\n    /**\n     * If value is still undefined or null, ignore it. Preferably this would throw,\n     * but this was causing issues in Framer.\n     */\n    if (value === undefined || value === null) continue;\n    if (typeof value === \"string\" && isNumericalString(value)) {\n      // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n      value = parseFloat(value);\n    } else if (!findValueType(value) && complex.test(targetValue)) {\n      value = getAnimatableNone(key, targetValue);\n    }\n    visualElement.addValue(key, motionValue(value));\n    (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : _d[key] = value;\n    visualElement.setBaseTarget(key, value);\n  }\n}\nfunction getOriginFromTransition(key, transition) {\n  if (!transition) return;\n  var valueTransition = transition[key] || transition[\"default\"] || transition;\n  return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n  var _a, _b;\n  var origin = {};\n  for (var key in target) {\n    origin[key] = (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n  }\n  return origin;\n}\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { setTarget } from './setters.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * @internal\n */\nfunction animateVisualElement(visualElement, definition, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  visualElement.notifyAnimationStart();\n  var animation;\n  if (Array.isArray(definition)) {\n    var animations = definition.map(function (variant) {\n      return animateVariant(visualElement, variant, options);\n    });\n    animation = Promise.all(animations);\n  } else if (typeof definition === \"string\") {\n    animation = animateVariant(visualElement, definition, options);\n  } else {\n    var resolvedDefinition = typeof definition === \"function\" ? resolveVariant(visualElement, definition, options.custom) : definition;\n    animation = animateTarget(visualElement, resolvedDefinition, options);\n  }\n  return animation.then(function () {\n    return visualElement.notifyAnimationComplete(definition);\n  });\n}\nfunction animateVariant(visualElement, variant, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var resolved = resolveVariant(visualElement, variant, options.custom);\n  var _b = (resolved || {}).transition,\n    transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n  if (options.transitionOverride) {\n    transition = options.transitionOverride;\n  }\n  /**\n   * If we have a variant, create a callback that runs it as an animation.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n  var getAnimation = resolved ? function () {\n    return animateTarget(visualElement, resolved, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If we have children, create a callback that runs all their animations.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n  var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size) ? function (forwardDelay) {\n    if (forwardDelay === void 0) {\n      forwardDelay = 0;\n    }\n    var _a = transition.delayChildren,\n      delayChildren = _a === void 0 ? 0 : _a,\n      staggerChildren = transition.staggerChildren,\n      staggerDirection = transition.staggerDirection;\n    return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If the transition explicitly defines a \"when\" option, we need to resolve either\n   * this animation or all children animations before playing the other.\n   */\n  var when = transition.when;\n  if (when) {\n    var _c = __read(when === \"beforeChildren\" ? [getAnimation, getChildAnimations] : [getChildAnimations, getAnimation], 2),\n      first = _c[0],\n      last = _c[1];\n    return first().then(last);\n  } else {\n    return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n  }\n}\n/**\n * @internal\n */\nfunction animateTarget(visualElement, definition, _a) {\n  var _b;\n  var _c = _a === void 0 ? {} : _a,\n    _d = _c.delay,\n    delay = _d === void 0 ? 0 : _d,\n    transitionOverride = _c.transitionOverride,\n    type = _c.type;\n  var _e = visualElement.makeTargetAnimatable(definition),\n    _f = _e.transition,\n    transition = _f === void 0 ? visualElement.getDefaultTransition() : _f,\n    transitionEnd = _e.transitionEnd,\n    target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n  if (transitionOverride) transition = transitionOverride;\n  var animations = [];\n  var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n  for (var key in target) {\n    var value = visualElement.getValue(key);\n    var valueTarget = target[key];\n    if (!value || valueTarget === undefined || animationTypeState && shouldBlockAnimation(animationTypeState, key)) {\n      continue;\n    }\n    var animation = startAnimation(key, value, valueTarget, __assign({\n      delay: delay\n    }, transition));\n    animations.push(animation);\n  }\n  return Promise.all(animations).then(function () {\n    transitionEnd && setTarget(visualElement, transitionEnd);\n  });\n}\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n  if (delayChildren === void 0) {\n    delayChildren = 0;\n  }\n  if (staggerChildren === void 0) {\n    staggerChildren = 0;\n  }\n  if (staggerDirection === void 0) {\n    staggerDirection = 1;\n  }\n  var animations = [];\n  var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n  var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n    return i * staggerChildren;\n  } : function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n    return maxStaggerDuration - i * staggerChildren;\n  };\n  Array.from(visualElement.variantChildren).sort(sortByTreeOrder).forEach(function (child, i) {\n    animations.push(animateVariant(child, variant, __assign(__assign({}, options), {\n      delay: delayChildren + generateStaggerDuration(i)\n    })).then(function () {\n      return child.notifyAnimationComplete(variant);\n    }));\n  });\n  return Promise.all(animations);\n}\nfunction stopAnimation(visualElement) {\n  visualElement.forEachValue(function (value) {\n    return value.stop();\n  });\n}\nfunction sortByTreeOrder(a, b) {\n  return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation(_a, key) {\n  var protectedKeys = _a.protectedKeys,\n    needsAnimating = _a.needsAnimating;\n  var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n  needsAnimating[key] = false;\n  return shouldBlock;\n}\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.js';\nimport { shallowCompare } from '../../utils/shallow-compare.js';\nimport { animateVisualElement } from './animation.js';\nimport { AnimationType } from './types.js';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.js';\nvar variantPriorityOrder = [AnimationType.Animate, AnimationType.Hover, AnimationType.Tap, AnimationType.Drag, AnimationType.Focus, AnimationType.Exit];\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder)).reverse();\nvar numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n  return function (animations) {\n    return Promise.all(animations.map(function (_a) {\n      var animation = _a.animation,\n        options = _a.options;\n      return animateVisualElement(visualElement, animation, options);\n    }));\n  };\n}\nfunction createAnimationState(visualElement) {\n  var animate = animateList(visualElement);\n  var state = createState();\n  var allAnimatedKeys = {};\n  var isInitialRender = true;\n  /**\n   * This function will be used to reduce the animation definitions for\n   * each active animation type into an object of resolved values for it.\n   */\n  var buildResolvedTypeValues = function buildResolvedTypeValues(acc, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n    if (resolved) {\n      resolved.transition;\n      var transitionEnd = resolved.transitionEnd,\n        target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n      acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n    }\n    return acc;\n  };\n  function isAnimated(key) {\n    return allAnimatedKeys[key] !== undefined;\n  }\n  /**\n   * This just allows us to inject mocked animation functions\n   * @internal\n   */\n  function setAnimateFunction(makeAnimator) {\n    animate = makeAnimator(visualElement);\n  }\n  /**\n   * When we receive new props, we need to:\n   * 1. Create a list of protected keys for each type. This is a directory of\n   *    value keys that are currently being \"handled\" by types of a higher priority\n   *    so that whenever an animation is played of a given type, these values are\n   *    protected from being animated.\n   * 2. Determine if an animation type needs animating.\n   * 3. Determine if any values have been removed from a type and figure out\n   *    what to animate those to.\n   */\n  function animateChanges(options, changedActiveType) {\n    var _a;\n    var props = visualElement.getProps();\n    var context = visualElement.getVariantContext(true) || {};\n    /**\n     * A list of animations that we'll build into as we iterate through the animation\n     * types. This will get executed at the end of the function.\n     */\n    var animations = [];\n    /**\n     * Keep track of which values have been removed. Then, as we hit lower priority\n     * animation types, we can check if they contain removed values and animate to that.\n     */\n    var removedKeys = new Set();\n    /**\n     * A dictionary of all encountered keys. This is an object to let us build into and\n     * copy it without iteration. Each time we hit an animation type we set its protected\n     * keys - the keys its not allowed to animate - to the latest version of this object.\n     */\n    var encounteredKeys = {};\n    /**\n     * If a variant has been removed at a given index, and this component is controlling\n     * variant animations, we want to ensure lower-priority variants are forced to animate.\n     */\n    var removedVariantIndex = Infinity;\n    var _loop_1 = function _loop_1(i) {\n      var type = reversePriorityOrder[i];\n      var typeState = state[type];\n      var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n      var propIsVariant = isVariantLabel(prop);\n      /**\n       * If this type has *just* changed isActive status, set activeDelta\n       * to that status. Otherwise set to null.\n       */\n      var activeDelta = type === changedActiveType ? typeState.isActive : null;\n      if (activeDelta === false) removedVariantIndex = i;\n      /**\n       * If this prop is an inherited variant, rather than been set directly on the\n       * component itself, we want to make sure we allow the parent to trigger animations.\n       *\n       * TODO: Can probably change this to a !isControllingVariants check\n       */\n      var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n      /**\n       *\n       */\n      if (isInherited && isInitialRender && visualElement.manuallyAnimateOnMount) {\n        isInherited = false;\n      }\n      /**\n       * Set all encountered keys so far as the protected keys for this type. This will\n       * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n       */\n      typeState.protectedKeys = __assign({}, encounteredKeys);\n      // Check if we can skip analysing this prop early\n      if (\n      // If it isn't active and hasn't *just* been set as inactive\n      !typeState.isActive && activeDelta === null ||\n      // If we didn't and don't have any defined prop for this animation type\n      !prop && !typeState.prevProp ||\n      // Or if the prop doesn't define an animation\n      isAnimationControls(prop) || typeof prop === \"boolean\") {\n        return \"continue\";\n      }\n      /**\n       * As we go look through the values defined on this type, if we detect\n       * a changed value or a value that was removed in a higher priority, we set\n       * this to true and add this prop to the animation list.\n       */\n      var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) ||\n      // If we're making this variant active, we want to always make it active\n      type === changedActiveType && typeState.isActive && !isInherited && propIsVariant ||\n      // If we removed a higher-priority variant (i is in reverse order)\n      i > removedVariantIndex && propIsVariant;\n      /**\n       * As animations can be set as variant lists, variants or target objects, we\n       * coerce everything to an array if it isn't one already\n       */\n      var definitionList = Array.isArray(prop) ? prop : [prop];\n      /**\n       * Build an object of all the resolved values. We'll use this in the subsequent\n       * animateChanges calls to determine whether a value has changed.\n       */\n      var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n      if (activeDelta === false) resolvedValues = {};\n      /**\n       * Now we need to loop through all the keys in the prev prop and this prop,\n       * and decide:\n       * 1. If the value has changed, and needs animating\n       * 2. If it has been removed, and needs adding to the removedKeys set\n       * 3. If it has been removed in a higher priority type and needs animating\n       * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n       *    needs adding to the type's protectedKeys list.\n       */\n      var _b = typeState.prevResolvedValues,\n        prevResolvedValues = _b === void 0 ? {} : _b;\n      var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n      var markToAnimate = function markToAnimate(key) {\n        shouldAnimateType = true;\n        removedKeys.delete(key);\n        typeState.needsAnimating[key] = true;\n      };\n      for (var key in allKeys) {\n        var next = resolvedValues[key];\n        var prev = prevResolvedValues[key];\n        // If we've already handled this we can just skip ahead\n        if (encounteredKeys.hasOwnProperty(key)) continue;\n        /**\n         * If the value has changed, we probably want to animate it.\n         */\n        if (next !== prev) {\n          /**\n           * If both values are keyframes, we need to shallow compare them to\n           * detect whether any value has changed. If it has, we animate it.\n           */\n          if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n            if (!shallowCompare(next, prev)) {\n              markToAnimate(key);\n            } else {\n              /**\n               * If it hasn't changed, we want to ensure it doesn't animate by\n               * adding it to the list of protected keys.\n               */\n              typeState.protectedKeys[key] = true;\n            }\n          } else if (next !== undefined) {\n            // If next is defined and doesn't equal prev, it needs animating\n            markToAnimate(key);\n          } else {\n            // If it's undefined, it's been removed.\n            removedKeys.add(key);\n          }\n        } else if (next !== undefined && removedKeys.has(key)) {\n          /**\n           * If next hasn't changed and it isn't undefined, we want to check if it's\n           * been removed by a higher priority\n           */\n          markToAnimate(key);\n        } else {\n          /**\n           * If it hasn't changed, we add it to the list of protected values\n           * to ensure it doesn't get animated.\n           */\n          typeState.protectedKeys[key] = true;\n        }\n      }\n      /**\n       * Update the typeState so next time animateChanges is called we can compare the\n       * latest prop and resolvedValues to these.\n       */\n      typeState.prevProp = prop;\n      typeState.prevResolvedValues = resolvedValues;\n      /**\n       *\n       */\n      if (typeState.isActive) {\n        encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n      }\n      if (isInitialRender && visualElement.blockInitialAnimation) {\n        shouldAnimateType = false;\n      }\n      /**\n       * If this is an inherited prop we want to hard-block animations\n       * TODO: Test as this should probably still handle animations triggered\n       * by removed values?\n       */\n      if (shouldAnimateType && !isInherited) {\n        animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) {\n          return {\n            animation: animation,\n            options: __assign({\n              type: type\n            }, options)\n          };\n        }))));\n      }\n    };\n    /**\n     * Iterate through all animation types in reverse priority order. For each, we want to\n     * detect which values it's handling and whether or not they've changed (and therefore\n     * need to be animated). If any values have been removed, we want to detect those in\n     * lower priority props and flag for animation.\n     */\n    for (var i = 0; i < numAnimationTypes; i++) {\n      _loop_1(i);\n    }\n    allAnimatedKeys = __assign({}, encounteredKeys);\n    /**\n     * If there are some removed value that haven't been dealt with,\n     * we need to create a new animation that falls back either to the value\n     * defined in the style prop, or the last read value.\n     */\n    if (removedKeys.size) {\n      var fallbackAnimation_1 = {};\n      removedKeys.forEach(function (key) {\n        var fallbackTarget = visualElement.getBaseTarget(key);\n        if (fallbackTarget !== undefined) {\n          fallbackAnimation_1[key] = fallbackTarget;\n        }\n      });\n      animations.push({\n        animation: fallbackAnimation_1\n      });\n    }\n    var shouldAnimate = Boolean(animations.length);\n    if (isInitialRender && props.initial === false && !visualElement.manuallyAnimateOnMount) {\n      shouldAnimate = false;\n    }\n    isInitialRender = false;\n    return shouldAnimate ? animate(animations) : Promise.resolve();\n  }\n  /**\n   * Change whether a certain animation type is active.\n   */\n  function setActive(type, isActive, options) {\n    var _a;\n    // If the active state hasn't changed, we can safely do nothing here\n    if (state[type].isActive === isActive) return Promise.resolve();\n    // Propagate active change to children\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      var _a;\n      return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive);\n    });\n    state[type].isActive = isActive;\n    return animateChanges(options, type);\n  }\n  return {\n    isAnimated: isAnimated,\n    animateChanges: animateChanges,\n    setActive: setActive,\n    setAnimateFunction: setAnimateFunction,\n    getState: function getState() {\n      return state;\n    }\n  };\n}\nfunction variantsHaveChanged(prev, next) {\n  if (typeof next === \"string\") {\n    return next !== prev;\n  } else if (isVariantLabels(next)) {\n    return !shallowCompare(next, prev);\n  }\n  return false;\n}\nfunction createTypeState(isActive) {\n  if (isActive === void 0) {\n    isActive = false;\n  }\n  return {\n    isActive: isActive,\n    protectedKeys: {},\n    needsAnimating: {},\n    prevResolvedValues: {}\n  };\n}\nfunction createState() {\n  var _a;\n  return _a = {}, _a[AnimationType.Animate] = createTypeState(true), _a[AnimationType.Hover] = createTypeState(), _a[AnimationType.Tap] = createTypeState(), _a[AnimationType.Drag] = createTypeState(), _a[AnimationType.Focus] = createTypeState(), _a[AnimationType.Exit] = createTypeState(), _a;\n}\nexport { createAnimationState, variantPriorityOrder, variantsHaveChanged };","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { createAnimationState } from '../../render/utils/animation-state.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar animations = {\n  animation: makeRenderlessComponent(function (_a) {\n    var visualElement = _a.visualElement,\n      animate = _a.animate;\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    if (isAnimationControls(animate)) {\n      useEffect(function () {\n        return animate.subscribe(visualElement);\n      }, [animate]);\n    }\n  }),\n  exit: makeRenderlessComponent(function (props) {\n    var custom = props.custom,\n      visualElement = props.visualElement;\n    var _a = __read(usePresence(), 2),\n      isPresent = _a[0],\n      onExitComplete = _a[1];\n    var presenceContext = useContext(PresenceContext);\n    useEffect(function () {\n      var _a, _b;\n      var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, {\n        custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom\n      });\n      !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n    }, [isPresent]);\n  })\n};\nexport { animations };","var isPoint = function isPoint(point) {\n  return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\nexport { isPoint };","import { isPoint } from './is-point.js';\nvar isPoint3D = function isPoint3D(point) {\n  return isPoint(point) && point.hasOwnProperty('z');\n};\nexport { isPoint3D };","import { isPoint } from './is-point.js';\nimport { isPoint3D } from './is-point-3d.js';\nimport { isNum } from './inc.js';\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\nfunction distance(a, b) {\n  if (isNum(a) && isNum(b)) {\n    return distance1D(a, b);\n  } else if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n  }\n}\nexport { distance };","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */function () {\n  function PanSession(event, handlers, _a) {\n    var _this = this;\n    var _b = _a === void 0 ? {} : _a,\n      transformPagePoint = _b.transformPagePoint;\n    /**\n     * @internal\n     */\n    this.startEvent = null;\n    /**\n     * @internal\n     */\n    this.lastMoveEvent = null;\n    /**\n     * @internal\n     */\n    this.lastMoveEventInfo = null;\n    /**\n     * @internal\n     */\n    this.handlers = {};\n    this.updatePoint = function () {\n      if (!(_this.lastMoveEvent && _this.lastMoveEventInfo)) return;\n      var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n      // Only start panning if the offset is larger than 3 pixels. If we make it\n      // any larger than this we'll want to reset the pointer history\n      // on the first update to avoid visual snapping to the cursoe.\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= 3;\n      if (!isPanStarted && !isDistancePastThreshold) return;\n      var point = info.point;\n      var timestamp = getFrameData().timestamp;\n      _this.history.push(__assign(__assign({}, point), {\n        timestamp: timestamp\n      }));\n      var _a = _this.handlers,\n        onStart = _a.onStart,\n        onMove = _a.onMove;\n      if (!isPanStarted) {\n        onStart && onStart(_this.lastMoveEvent, info);\n        _this.startEvent = _this.lastMoveEvent;\n      }\n      onMove && onMove(_this.lastMoveEvent, info);\n    };\n    this.handlePointerMove = function (event, info) {\n      _this.lastMoveEvent = event;\n      _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n      // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.handlePointerUp(event, info);\n        return;\n      }\n      // Throttle mouse move event to once per frame\n      sync.update(_this.updatePoint, true);\n    };\n    this.handlePointerUp = function (event, info) {\n      _this.end();\n      var _a = _this.handlers,\n        onEnd = _a.onEnd,\n        onSessionEnd = _a.onSessionEnd;\n      var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n      if (_this.startEvent && onEnd) {\n        onEnd(event, panInfo);\n      }\n      onSessionEnd && onSessionEnd(event, panInfo);\n    };\n    // If we have more than one touch, don't start detecting this gesture\n    if (isTouchEvent(event) && event.touches.length > 1) return;\n    this.handlers = handlers;\n    this.transformPagePoint = transformPagePoint;\n    var info = extractEventInfo(event);\n    var initialInfo = transformPoint(info, this.transformPagePoint);\n    var point = initialInfo.point;\n    var timestamp = getFrameData().timestamp;\n    this.history = [__assign(__assign({}, point), {\n      timestamp: timestamp\n    })];\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart && onSessionStart(event, getPanInfo(initialInfo, this.history));\n    this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n  }\n  PanSession.prototype.updateHandlers = function (handlers) {\n    this.handlers = handlers;\n  };\n  PanSession.prototype.end = function () {\n    this.removeListeners && this.removeListeners();\n    cancelSync.update(this.updatePoint);\n  };\n  return PanSession;\n}();\nfunction transformPoint(info, transformPagePoint) {\n  return transformPagePoint ? {\n    point: transformPagePoint(info.point)\n  } : info;\n}\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\nfunction getPanInfo(_a, history) {\n  var point = _a.point;\n  return {\n    point: point,\n    delta: subtractPoint(point, lastDevicePoint(history)),\n    offset: subtractPoint(point, startDevicePoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\nfunction startDevicePoint(history) {\n  return history[0];\n}\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n  while (i >= 0) {\n    timestampedPoint = history[i];\n    if (lastPoint.timestamp - timestampedPoint.timestamp > secondsToMilliseconds(timeDelta)) {\n      break;\n    }\n    i--;\n  }\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n  return currentVelocity;\n}\nexport { PanSession };","// Call a handler once for each axis\nfunction eachAxis(handler) {\n  return [handler(\"x\"), handler(\"y\")];\n}\nexport { eachAxis };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n  var min = _a.min,\n    max = _a.max;\n  if (min !== undefined && point < min) {\n    // If we have a min point defined, and this is outside of that, constrain\n    point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n  } else if (max !== undefined && point > max) {\n    // If we have a max point defined, and this is outside of that, constrain\n    point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n  }\n  return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n  // Calculate a min point for this axis and apply it to the current pointer\n  var min = point - length * progress;\n  return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n  return {\n    min: min !== undefined ? axis.min + min : undefined,\n    max: max !== undefined ? axis.max + max - (axis.max - axis.min) : undefined\n  };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n  var top = _a.top,\n    left = _a.left,\n    bottom = _a.bottom,\n    right = _a.right;\n  return {\n    x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n    y: calcRelativeAxisConstraints(layoutBox.y, top, bottom)\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n  var _a;\n  var min = constraintsAxis.min - layoutAxis.min;\n  var max = constraintsAxis.max - layoutAxis.max;\n  // If the constraints axis is actually smaller than the layout axis then we can\n  // flip the constraints\n  if (constraintsAxis.max - constraintsAxis.min < layoutAxis.max - layoutAxis.min) {\n    _a = __read([max, min], 2), min = _a[0], max = _a[1];\n  }\n  return {\n    min: layoutAxis.min + min,\n    max: layoutAxis.min + max\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n  return {\n    x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n    y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y)\n  };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n  var axisLength = axis.max - axis.min;\n  var min = mix(constraints.min, constraints.max - axisLength, progress);\n  return {\n    min: min,\n    max: min + axisLength\n  };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n  var relativeConstraints = {};\n  if (constraints.min !== undefined) {\n    relativeConstraints.min = constraints.min - layout.min;\n  }\n  if (constraints.max !== undefined) {\n    relativeConstraints.max = constraints.max - layout.min;\n  }\n  return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n  if (dragElastic === false) {\n    dragElastic = 0;\n  } else if (dragElastic === true) {\n    dragElastic = defaultElastic;\n  }\n  return {\n    x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n    y: resolveAxisElastic(dragElastic, \"top\", \"bottom\")\n  };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n  return {\n    min: resolvePointElastic(dragElastic, minLabel),\n    max: resolvePointElastic(dragElastic, maxLabel)\n  };\n}\nfunction resolvePointElastic(dragElastic, label) {\n  var _a;\n  return typeof dragElastic === \"number\" ? dragElastic : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };","import { convertBoundingBoxToAxisBox, transformBoundingBox } from '../../../utils/geometry/index.js';\n\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\nfunction getBoundingBox(element, transformPagePoint) {\n  var box = element.getBoundingClientRect();\n  return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\nexport { getBoundingBox };","import { mix, distance, clamp, progress } from 'popmotion';\nvar clampProgress = function clampProgress(v) {\n  return clamp(0, 1, v);\n};\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\nfunction isNear(value, target, maxDistance) {\n  if (target === void 0) {\n    target = 0;\n  }\n  if (maxDistance === void 0) {\n    maxDistance = 0.01;\n  }\n  return distance(value, target) < maxDistance;\n}\nfunction calcLength(axis) {\n  return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n  var origin = 0.5;\n  var sourceLength = calcLength(source);\n  var targetLength = calcLength(target);\n  if (targetLength > sourceLength) {\n    origin = progress(target.min, target.max - sourceLength, source.min);\n  } else if (sourceLength > targetLength) {\n    origin = progress(source.min, source.max - targetLength, target.min);\n  }\n  return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateAxisDelta(delta, source, target, origin) {\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n  delta.origin = origin;\n  delta.originPoint = mix(source.min, source.max, delta.origin);\n  delta.scale = calcLength(target) / calcLength(source);\n  if (isNear(delta.scale, 1, 0.0001)) delta.scale = 1;\n  delta.translate = mix(target.min, target.max, delta.origin) - delta.originPoint;\n  if (isNear(delta.translate)) delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateBoxDelta(delta, source, target, origin) {\n  updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n  updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\nfunction defaultOrigin(origin) {\n  return typeof origin === \"number\" ? origin : 0.5;\n}\nfunction calcRelativeAxis(target, relative, parent) {\n  target.min = parent.min + relative.min;\n  target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(projection, parentProjection) {\n  calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n  calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\nexport { calcOrigin, calcRelativeAxis, calcRelativeBox, isNear, updateAxisDelta, updateBoxDelta };","import { mix } from 'popmotion';\nfunction tweenAxis(target, prev, next, p) {\n  target.min = mix(prev.min, next.min, p);\n  target.max = mix(prev.max, next.max, p);\n}\nfunction calcRelativeOffsetAxis(parent, child) {\n  return {\n    min: child.min - parent.min,\n    max: child.max - parent.min\n  };\n}\nfunction calcRelativeOffset(parent, child) {\n  return {\n    x: calcRelativeOffsetAxis(parent.x, child.x),\n    y: calcRelativeOffsetAxis(parent.y, child.y)\n  };\n}\nfunction checkIfParentHasChanged(prev, next) {\n  var prevId = prev.getLayoutId();\n  var nextId = next.getLayoutId();\n  return prevId !== nextId || nextId === undefined && prev !== next;\n}\nexport { calcRelativeOffset, calcRelativeOffsetAxis, checkIfParentHasChanged, tweenAxis };","function isDraggable(visualElement) {\n  var _a = visualElement.getProps(),\n    drag = _a.drag,\n    _dragX = _a._dragX;\n  return drag && !_dragX;\n}\nexport { isDraggable };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { isDraggable } from '../../render/utils/is-draggable.js';\n\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetAxis(axis, originAxis) {\n  axis.min = originAxis.min;\n  axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetBox(box, originBox) {\n  resetAxis(box.x, originBox.x);\n  resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n  var distanceFromOrigin = point - originPoint;\n  var scaled = scale * distanceFromOrigin;\n  return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n  if (boxScale !== undefined) {\n    point = scalePoint(point, boxScale, originPoint);\n  }\n  return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (scale === void 0) {\n    scale = 1;\n  }\n  axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, _a) {\n  var x = _a.x,\n    y = _a.y;\n  applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n  applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n  var _b = __read(_a, 3),\n    key = _b[0],\n    scaleKey = _b[1],\n    originKey = _b[2];\n  // Copy the current axis to the final axis before mutation\n  final.min = axis.min;\n  final.max = axis.max;\n  var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n  var originPoint = mix(axis.min, axis.max, axisOrigin);\n  // Apply the axis delta to the final axis\n  applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction applyBoxTransforms(finalBox, box, transforms) {\n  applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n  applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n  point -= translate;\n  point = scalePoint(point, 1 / scale, originPoint);\n  if (boxScale !== undefined) {\n    point = scalePoint(point, 1 / boxScale, originPoint);\n  }\n  return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (scale === void 0) {\n    scale = 1;\n  }\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n  var originPoint = mix(axis.min, axis.max, origin) - translate;\n  axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a) {\n  var _b = __read(_a, 3),\n    key = _b[0],\n    scaleKey = _b[1],\n    originKey = _b[2];\n  removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms) {\n  removeAxisTransforms(box.x, transforms, xKeys);\n  removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath) {\n  var treeLength = treePath.length;\n  if (!treeLength) return;\n  // Reset the treeScale\n  treeScale.x = treeScale.y = 1;\n  var node;\n  var delta;\n  for (var i = 0; i < treeLength; i++) {\n    node = treePath[i];\n    delta = node.getLayoutState().delta;\n    // Incoporate each ancestor's scale into a culmulative treeScale for this component\n    treeScale.x *= delta.x.scale;\n    treeScale.y *= delta.y.scale;\n    // Apply each ancestor's calculated delta into this component's recorded layout box\n    applyBoxDelta(box, delta);\n    // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n    if (isDraggable(node)) {\n      applyBoxTransforms(box, box, node.getLatestValues());\n    }\n  }\n}\nexport { applyAxisDelta, applyAxisTransforms, applyBoxDelta, applyBoxTransforms, applyPointDelta, applyTreeDeltas, removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta, resetAxis, resetBox, scalePoint };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */function () {\n  function VisualElementDragControls(_a) {\n    var visualElement = _a.visualElement;\n    /**\n     * Track whether we're currently dragging.\n     *\n     * @internal\n     */\n    this.isDragging = false;\n    /**\n     * The current direction of drag, or `null` if both.\n     *\n     * @internal\n     */\n    this.currentDirection = null;\n    /**\n     * The permitted boundaries of travel, in pixels.\n     *\n     * @internal\n     */\n    this.constraints = false;\n    /**\n     * The per-axis resolved elastic values.\n     *\n     * @internal\n     */\n    this.elastic = axisBox();\n    /**\n     * A reference to the host component's latest props.\n     *\n     * @internal\n     */\n    this.props = {};\n    /**\n     * @internal\n     */\n    this.hasMutatedConstraints = false;\n    /**\n     * Track the initial position of the cursor relative to the dragging element\n     * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n     * an ideal bounding box for the VisualElement renderer to project into every frame.\n     *\n     * @internal\n     */\n    this.cursorProgress = {\n      x: 0.5,\n      y: 0.5\n    };\n    // When updating _dragX, or _dragY instead of the VisualElement,\n    // persist their values between drag gestures.\n    this.originPoint = {};\n    // This is a reference to the global drag gesture lock, ensuring only one component\n    // can \"capture\" the drag of one or both axes.\n    // TODO: Look into moving this into pansession?\n    this.openGlobalLock = null;\n    /**\n     * @internal\n     */\n    this.panSession = null;\n    this.visualElement = visualElement;\n    this.visualElement.enableLayoutProjection();\n    elementDragControls.set(visualElement, this);\n  }\n  /**\n   * Instantiate a PanSession for the drag gesture\n   *\n   * @public\n   */\n  VisualElementDragControls.prototype.start = function (originEvent, _a) {\n    var _this = this;\n    var _b = _a === void 0 ? {} : _a,\n      _c = _b.snapToCursor,\n      snapToCursor = _c === void 0 ? false : _c,\n      cursorProgress = _b.cursorProgress;\n    var onSessionStart = function onSessionStart(event) {\n      var _a;\n      // Stop any animations on both axis values immediately. This allows the user to throw and catch\n      // the component.\n      _this.stopMotion();\n      /**\n       * Save the initial point. We'll use this to calculate the pointer's position rather\n       * than the one we receive when the gesture actually starts. By then, the pointer will\n       * have already moved, and the perception will be of the pointer \"slipping\" across the element\n       */\n      var initialPoint = getViewportPointFromEvent(event).point;\n      (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n      _this.cancelLayout = batchLayout(function (read, write) {\n        var ancestors = collectProjectingAncestors(_this.visualElement);\n        var children = collectProjectingChildren(_this.visualElement);\n        var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n        var hasManuallySetCursorOrigin = false;\n        /**\n         * Apply a simple lock to the projection target. This ensures no animations\n         * can run on the projection box while this lock is active.\n         */\n        _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n        write(function () {\n          tree.forEach(function (element) {\n            return element.resetTransform();\n          });\n        });\n        read(function () {\n          updateLayoutMeasurement(_this.visualElement);\n          children.forEach(updateLayoutMeasurement);\n        });\n        write(function () {\n          tree.forEach(function (element) {\n            return element.restoreTransform();\n          });\n          if (snapToCursor) {\n            hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n          }\n        });\n        read(function () {\n          var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n          if (!isRelativeDrag) {\n            _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n          }\n          _this.visualElement.scheduleUpdateLayoutProjection();\n          /**\n           * When dragging starts, we want to find where the cursor is relative to the bounding box\n           * of the element. Every frame, we calculate a new bounding box using this relative position\n           * and let the visualElement renderer figure out how to reproject the element into this bounding\n           * box.\n           *\n           * By doing it this way, rather than applying an x/y transform directly to the element,\n           * we can ensure the component always visually sticks to the cursor as we'd expect, even\n           * if the DOM element itself changes layout as a result of React updates the user might\n           * make based on the drag position.\n           */\n          var projection = _this.visualElement.projection;\n          eachAxis(function (axis) {\n            if (!hasManuallySetCursorOrigin) {\n              var _a = projection.target[axis],\n                min = _a.min,\n                max = _a.max;\n              _this.cursorProgress[axis] = cursorProgress ? cursorProgress[axis] : progress(min, max, initialPoint[axis]);\n            }\n            /**\n             * If we have external drag MotionValues, record their origin point. On pointermove\n             * we'll apply the pan gesture offset directly to this value.\n             */\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n              _this.originPoint[axis] = axisValue.get();\n            }\n          });\n        });\n        write(function () {\n          flushSync.update();\n          flushSync.preRender();\n          flushSync.render();\n          flushSync.postRender();\n        });\n        read(function () {\n          return _this.resolveDragConstraints();\n        });\n      });\n    };\n    var onStart = function onStart(event, info) {\n      var _a, _b, _c;\n      // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n      var _d = _this.props,\n        drag = _d.drag,\n        dragPropagation = _d.dragPropagation;\n      if (drag && !dragPropagation) {\n        if (_this.openGlobalLock) _this.openGlobalLock();\n        _this.openGlobalLock = getGlobalLock(drag);\n        // If we don 't have the lock, don't start dragging\n        if (!_this.openGlobalLock) return;\n      }\n      flushLayout();\n      // Set current drag status\n      _this.isDragging = true;\n      _this.currentDirection = null;\n      // Fire onDragStart event\n      (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n      (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n    };\n    var onMove = function onMove(event, info) {\n      var _a, _b, _c, _d;\n      var _e = _this.props,\n        dragPropagation = _e.dragPropagation,\n        dragDirectionLock = _e.dragDirectionLock;\n      // If we didn't successfully receive the gesture lock, early return.\n      if (!dragPropagation && !_this.openGlobalLock) return;\n      var offset = info.offset;\n      // Attempt to detect drag direction if directionLock is true\n      if (dragDirectionLock && _this.currentDirection === null) {\n        _this.currentDirection = getCurrentDirection(offset);\n        // If we've successfully set a direction, notify listener\n        if (_this.currentDirection !== null) {\n          (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n        }\n        return;\n      }\n      // Update each point with the latest position\n      _this.updateAxis(\"x\", info.point, offset);\n      _this.updateAxis(\"y\", info.point, offset);\n      // Fire onDrag event\n      (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n      // Update the last pointer event\n      lastPointerEvent = event;\n    };\n    var onSessionEnd = function onSessionEnd(event, info) {\n      return _this.stop(event, info);\n    };\n    var transformPagePoint = this.props.transformPagePoint;\n    this.panSession = new PanSession(originEvent, {\n      onSessionStart: onSessionStart,\n      onStart: onStart,\n      onMove: onMove,\n      onSessionEnd: onSessionEnd\n    }, {\n      transformPagePoint: transformPagePoint\n    });\n  };\n  VisualElementDragControls.prototype.resolveDragConstraints = function () {\n    var _this = this;\n    var _a = this.props,\n      dragConstraints = _a.dragConstraints,\n      dragElastic = _a.dragElastic;\n    var layout = this.visualElement.getLayoutState().layoutCorrected;\n    if (dragConstraints) {\n      this.constraints = isRefObject(dragConstraints) ? this.resolveRefConstraints(layout, dragConstraints) : calcRelativeConstraints(layout, dragConstraints);\n    } else {\n      this.constraints = false;\n    }\n    this.elastic = resolveDragElastic(dragElastic);\n    /**\n     * If we're outputting to external MotionValues, we want to rebase the measured constraints\n     * from viewport-relative to component-relative.\n     */\n    if (this.constraints && !this.hasMutatedConstraints) {\n      eachAxis(function (axis) {\n        if (_this.getAxisMotionValue(axis)) {\n          _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n        }\n      });\n    }\n  };\n  VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n    var _a = this.props,\n      onMeasureDragConstraints = _a.onMeasureDragConstraints,\n      transformPagePoint = _a.transformPagePoint;\n    var constraintsElement = constraints.current;\n    invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n    this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n    var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n    /**\n     * If there's an onMeasureDragConstraints listener we call it and\n     * if different constraints are returned, set constraints to that\n     */\n    if (onMeasureDragConstraints) {\n      var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n      this.hasMutatedConstraints = !!userConstraints;\n      if (userConstraints) {\n        measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n      }\n    }\n    return measuredConstraints;\n  };\n  VisualElementDragControls.prototype.cancelDrag = function () {\n    var _a, _b;\n    this.visualElement.unlockProjectionTarget();\n    (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n    this.isDragging = false;\n    this.panSession && this.panSession.end();\n    this.panSession = null;\n    if (!this.props.dragPropagation && this.openGlobalLock) {\n      this.openGlobalLock();\n      this.openGlobalLock = null;\n    }\n    (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n  };\n  VisualElementDragControls.prototype.stop = function (event, info) {\n    var _a, _b, _c;\n    (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n    this.panSession = null;\n    var isDragging = this.isDragging;\n    this.cancelDrag();\n    if (!isDragging) return;\n    var velocity = info.velocity;\n    this.animateDragEnd(velocity);\n    (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n  };\n  VisualElementDragControls.prototype.snapToCursor = function (point) {\n    var _this = this;\n    return eachAxis(function (axis) {\n      var drag = _this.props.drag;\n      // If we're not dragging this axis, do an early return.\n      if (!shouldDrag(axis, drag, _this.currentDirection)) return;\n      var axisValue = _this.getAxisMotionValue(axis);\n      if (axisValue) {\n        var box = _this.visualElement.getLayoutState().layout;\n        var length_1 = box[axis].max - box[axis].min;\n        var center = box[axis].min + length_1 / 2;\n        var offset = point[axis] - center;\n        _this.originPoint[axis] = point[axis];\n        axisValue.set(offset);\n      } else {\n        _this.cursorProgress[axis] = 0.5;\n        return true;\n      }\n    }).includes(true);\n  };\n  /**\n   * Update the specified axis with the latest pointer information.\n   */\n  VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n    var drag = this.props.drag;\n    // If we're not dragging this axis, do an early return.\n    if (!shouldDrag(axis, drag, this.currentDirection)) return;\n    return this.getAxisMotionValue(axis) ? this.updateAxisMotionValue(axis, offset) : this.updateVisualElementAxis(axis, point);\n  };\n  VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!offset || !axisValue) return;\n    var nextValue = this.originPoint[axis] + offset[axis];\n    var update = this.constraints ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis]) : nextValue;\n    axisValue.set(update);\n  };\n  VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n    var _a;\n    // Get the actual layout bounding box of the element\n    var axisLayout = this.visualElement.getLayoutState().layout[axis];\n    // Calculate its current length. In the future we might want to lerp this to animate\n    // between lengths if the layout changes as we change the DOM\n    var axisLength = axisLayout.max - axisLayout.min;\n    // Get the initial progress that the pointer sat on this axis on gesture start.\n    var axisProgress = this.cursorProgress[axis];\n    // Calculate a new min point based on the latest pointer position, constraints and elastic\n    var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n    // Update the axis viewport target with this new min and the length\n    this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n  };\n  VisualElementDragControls.prototype.setProps = function (_a) {\n    var _b = _a.drag,\n      drag = _b === void 0 ? false : _b,\n      _c = _a.dragDirectionLock,\n      dragDirectionLock = _c === void 0 ? false : _c,\n      _d = _a.dragPropagation,\n      dragPropagation = _d === void 0 ? false : _d,\n      _e = _a.dragConstraints,\n      dragConstraints = _e === void 0 ? false : _e,\n      _f = _a.dragElastic,\n      dragElastic = _f === void 0 ? defaultElastic : _f,\n      _g = _a.dragMomentum,\n      dragMomentum = _g === void 0 ? true : _g,\n      remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n    this.props = __assign({\n      drag: drag,\n      dragDirectionLock: dragDirectionLock,\n      dragPropagation: dragPropagation,\n      dragConstraints: dragConstraints,\n      dragElastic: dragElastic,\n      dragMomentum: dragMomentum\n    }, remainingProps);\n  };\n  /**\n   * Drag works differently depending on which props are provided.\n   *\n   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n   * - If the component will perform layout animations, we output the gesture to the component's\n   *      visual bounding box\n   * - Otherwise, we apply the delta to the x/y motion values.\n   */\n  VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n    var _a = this.props,\n      layout = _a.layout,\n      layoutId = _a.layoutId;\n    var dragKey = \"_drag\" + axis.toUpperCase();\n    if (this.props[dragKey]) {\n      return this.props[dragKey];\n    } else if (!layout && layoutId === undefined) {\n      return this.visualElement.getValue(axis, 0);\n    }\n  };\n  VisualElementDragControls.prototype.isLayoutDrag = function () {\n    return !this.getAxisMotionValue(\"x\");\n  };\n  VisualElementDragControls.prototype.isExternalDrag = function () {\n    var _a = this.props,\n      _dragX = _a._dragX,\n      _dragY = _a._dragY;\n    return _dragX || _dragY;\n  };\n  VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n    var _this = this;\n    var _a = this.props,\n      drag = _a.drag,\n      dragMomentum = _a.dragMomentum,\n      dragElastic = _a.dragElastic,\n      dragTransition = _a.dragTransition;\n    /**\n     * Everything beyond the drag gesture should be performed with\n     * relative projection so children stay in sync with their parent element.\n     */\n    var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n    /**\n     * If we had previously resolved constraints relative to the viewport,\n     * we need to also convert those to a relative coordinate space for the animation\n     */\n    var constraints = this.constraints || {};\n    if (isRelative && Object.keys(constraints).length && this.isLayoutDrag()) {\n      var projectionParent = this.visualElement.getProjectionParent();\n      if (projectionParent) {\n        var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n        eachAxis(function (axis) {\n          var _a = relativeConstraints_1[axis],\n            min = _a.min,\n            max = _a.max;\n          constraints[axis] = {\n            min: isNaN(min) ? undefined : min,\n            max: isNaN(max) ? undefined : max\n          };\n        });\n      }\n    }\n    var momentumAnimations = eachAxis(function (axis) {\n      var _a;\n      if (!shouldDrag(axis, drag, _this.currentDirection)) {\n        return;\n      }\n      var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n      /**\n       * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n       * of spring animations so we should look into adding a disable spring option to `inertia`.\n       * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n       * using the value of `dragElastic`.\n       */\n      var bounceStiffness = dragElastic ? 200 : 1000000;\n      var bounceDamping = dragElastic ? 40 : 10000000;\n      var inertia = __assign(__assign({\n        type: \"inertia\",\n        velocity: dragMomentum ? velocity[axis] : 0,\n        bounceStiffness: bounceStiffness,\n        bounceDamping: bounceDamping,\n        timeConstant: 750,\n        restDelta: 1,\n        restSpeed: 10\n      }, dragTransition), transition);\n      // If we're not animating on an externally-provided `MotionValue` we can use the\n      // component's animation controls which will handle interactions with whileHover (etc),\n      // otherwise we just have to animate the `MotionValue` itself.\n      return _this.getAxisMotionValue(axis) ? _this.startAxisValueAnimation(axis, inertia) : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n    });\n    // Run all animations and then resolve the new drag constraints.\n    return Promise.all(momentumAnimations).then(function () {\n      var _a, _b;\n      (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n  VisualElementDragControls.prototype.stopMotion = function () {\n    var _this = this;\n    eachAxis(function (axis) {\n      var axisValue = _this.getAxisMotionValue(axis);\n      axisValue ? axisValue.stop() : _this.visualElement.stopLayoutAnimation();\n    });\n  };\n  VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!axisValue) return;\n    var currentValue = axisValue.get();\n    axisValue.set(currentValue);\n    axisValue.set(currentValue); // Set twice to hard-reset velocity\n    return startAnimation(axis, axisValue, 0, transition);\n  };\n  VisualElementDragControls.prototype.scalePoint = function () {\n    var _this = this;\n    var _a = this.props,\n      drag = _a.drag,\n      dragConstraints = _a.dragConstraints;\n    if (!isRefObject(dragConstraints) || !this.constraintsBox) return;\n    // Stop any current animations as there can be some visual glitching if we resize mid animation\n    this.stopMotion();\n    // Record the relative progress of the targetBox relative to the constraintsBox\n    var boxProgress = {\n      x: 0,\n      y: 0\n    };\n    eachAxis(function (axis) {\n      boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n    });\n    /**\n     * For each axis, calculate the current progress of the layout axis within the constraints.\n     * Then, using the latest layout and constraints measurements, reposition the new layout axis\n     * proportionally within the constraints.\n     */\n    this.updateConstraints(function () {\n      eachAxis(function (axis) {\n        if (!shouldDrag(axis, drag, null)) return;\n        // Calculate the position of the targetBox relative to the constraintsBox using the\n        // previously calculated progress\n        var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]),\n          min = _a.min,\n          max = _a.max;\n        _this.visualElement.setProjectionTargetAxis(axis, min, max);\n      });\n    });\n    /**\n     * If any other draggable components are queuing the same tasks synchronously\n     * this will wait until they've all been scheduled before flushing.\n     */\n    setTimeout(flushLayout, 1);\n  };\n  VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n    var _this = this;\n    this.cancelLayout = batchLayout(function (read, write) {\n      var ancestors = collectProjectingAncestors(_this.visualElement);\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.resetTransform();\n        });\n      });\n      read(function () {\n        return updateLayoutMeasurement(_this.visualElement);\n      });\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.restoreTransform();\n        });\n      });\n      read(function () {\n        _this.resolveDragConstraints();\n      });\n      if (onReady) write(onReady);\n    });\n  };\n  VisualElementDragControls.prototype.mount = function (visualElement) {\n    var _this = this;\n    var element = visualElement.getInstance();\n    /**\n     * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n     */\n    var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n      var _a = _this.props,\n        drag = _a.drag,\n        _b = _a.dragListener,\n        dragListener = _b === void 0 ? true : _b;\n      drag && dragListener && _this.start(event);\n    });\n    /**\n     * Attach a window resize listener to scale the draggable target within its defined\n     * constraints as the window resizes.\n     */\n    var stopResizeListener = addDomEvent(window, \"resize\", function () {\n      _this.scalePoint();\n    });\n    /**\n     * Ensure drag constraints are resolved correctly relative to the dragging element\n     * whenever its layout changes.\n     */\n    var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n      if (_this.isDragging) {\n        _this.resolveDragConstraints();\n      }\n    });\n    /**\n     * If the previous component with this same layoutId was dragging at the time\n     * it was unmounted, we want to continue the same gesture on this component.\n     */\n    var prevDragCursor = visualElement.prevDragCursor;\n    if (prevDragCursor) {\n      this.start(lastPointerEvent, {\n        cursorProgress: prevDragCursor\n      });\n    }\n    /**\n     * Return a function that will teardown the drag gesture\n     */\n    return function () {\n      stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n      stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n      stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n      _this.cancelDrag();\n    };\n  };\n  return VisualElementDragControls;\n}();\nfunction shouldDrag(direction, drag, currentDirection) {\n  return (drag === true || drag === direction) && (currentDirection === null || currentDirection === direction);\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n  if (lockThreshold === void 0) {\n    lockThreshold = 10;\n  }\n  var direction = null;\n  if (Math.abs(offset.y) > lockThreshold) {\n    direction = \"y\";\n  } else if (Math.abs(offset.x) > lockThreshold) {\n    direction = \"x\";\n  }\n  return direction;\n}\nexport { VisualElementDragControls, elementDragControls };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n  if (isLayoutDrag === void 0) {\n    isLayoutDrag = true;\n  }\n  var projectionParent = visualElement.getProjectionParent();\n  if (!projectionParent) return false;\n  var offset;\n  if (isLayoutDrag) {\n    offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n    removeBoxTransforms(offset, projectionParent.getLatestValues());\n  } else {\n    offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  }\n  eachAxis(function (axis) {\n    return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n  });\n  return true;\n}\nexport { convertToRelativeProjection };","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar drag = {\n  pan: makeRenderlessComponent(usePanGesture),\n  drag: makeRenderlessComponent(useDrag)\n};\nexport { drag };","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n  var onPan = _a.onPan,\n    onPanStart = _a.onPanStart,\n    onPanEnd = _a.onPanEnd,\n    onPanSessionStart = _a.onPanSessionStart,\n    visualElement = _a.visualElement;\n  var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n  var panSession = useRef(null);\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd && onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    if (panSession.current !== null) {\n      panSession.current.updateHandlers(handlers);\n    }\n  });\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, {\n      transformPagePoint: transformPagePoint\n    });\n  }\n  usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n  useUnmountEffect(function () {\n    return panSession.current && panSession.current.end();\n  });\n}\nexport { usePanGesture };","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n  var groupDragControls = props.dragControls,\n    visualElement = props.visualElement;\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var dragControls = useConstant(function () {\n    return new VisualElementDragControls({\n      visualElement: visualElement\n    });\n  });\n  dragControls.setProps(__assign(__assign({}, props), {\n    transformPagePoint: transformPagePoint\n  }));\n  // If we've been provided a DragControls for manual control over the drag gesture,\n  // subscribe this component to it on mount.\n  useEffect(function () {\n    return groupDragControls && groupDragControls.subscribe(dragControls);\n  }, [dragControls]);\n  // Mount the drag controls with the visualElement\n  useEffect(function () {\n    return dragControls.mount(visualElement);\n  }, []);\n}\nexport { useDrag };","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nfunction isCSSVariable(value) {\n  return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  var _a = __read(match, 3),\n    token = _a[1],\n    fallback = _a[2];\n  return [token, fallback];\n}\nvar maxDepth = 4;\nfunction getVariableValue(current, element, depth) {\n  if (depth === void 0) {\n    depth = 1;\n  }\n  invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n  var _a = __read(parseCSSVariable(current), 2),\n    token = _a[0],\n    fallback = _a[1];\n  // No CSS variable detected\n  if (!token) return;\n  // Attempt to read this CSS variable off the element\n  var resolved = window.getComputedStyle(element).getPropertyValue(token);\n  if (resolved) {\n    return resolved.trim();\n  } else if (isCSSVariable(fallback)) {\n    // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n    return getVariableValue(fallback, element, depth + 1);\n  } else {\n    return fallback;\n  }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n  var _b;\n  var target = __rest(_a, []);\n  var element = visualElement.getInstance();\n  if (!(element instanceof HTMLElement)) return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n  // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n  // only if they change but I think this reads clearer and this isn't a performance-critical path.\n  if (transitionEnd) {\n    transitionEnd = __assign({}, transitionEnd);\n  }\n  // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n  visualElement.forEachValue(function (value) {\n    var current = value.get();\n    if (!isCSSVariable(current)) return;\n    var resolved = getVariableValue(current, element);\n    if (resolved) value.set(resolved);\n  });\n  // Cycle through every target property and resolve CSS variables. Currently\n  // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n  for (var key in target) {\n    var current = target[key];\n    if (!isCSSVariable(current)) continue;\n    var resolved = getVariableValue(current, element);\n    if (!resolved) continue;\n    // Clone target if it hasn't already been\n    target[key] = resolved;\n    // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n    // CSS variable. This will ensure that after the animation the component will reflect\n    // changes in the value of the CSS variable.\n    if (transitionEnd) (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : transitionEnd[key] = current;\n  }\n  return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\nfunction pixelsToPercent(pixels, axis) {\n  return pixels / (axis.max - axis.min) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n  var target = _a.target;\n  /**\n   * If latest is a string, if it's a percentage we can return immediately as it's\n   * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n   */\n  if (typeof latest === \"string\") {\n    if (px.test(latest)) {\n      latest = parseFloat(latest);\n    } else {\n      return latest;\n    }\n  }\n  /**\n   * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n   * pixel value as a percentage of each axis\n   */\n  var x = pixelsToPercent(latest, target.x);\n  var y = pixelsToPercent(latest, target.y);\n  return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n  var delta = _a.delta,\n    treeScale = _a.treeScale;\n  var original = latest;\n  /**\n   * We need to first strip and store CSS variables from the string.\n   */\n  var containsCSSVariables = latest.includes(\"var(\");\n  var cssVariables = [];\n  if (containsCSSVariables) {\n    latest = latest.replace(cssVariableRegex, function (match) {\n      cssVariables.push(match);\n      return varToken;\n    });\n  }\n  var shadow = complex.parse(latest);\n  // TODO: Doesn't support multiple shadows\n  if (shadow.length > 5) return original;\n  var template = complex.createTransformer(latest);\n  var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n  // Calculate the overall context scale\n  var xScale = delta.x.scale * treeScale.x;\n  var yScale = delta.y.scale * treeScale.y;\n  shadow[0 + offset] /= xScale;\n  shadow[1 + offset] /= yScale;\n  /**\n   * Ideally we'd correct x and y scales individually, but because blur and\n   * spread apply to both we have to take a scale average and apply that instead.\n   * We could potentially improve the outcome of this by incorporating the ratio between\n   * the two scales.\n   */\n  var averageScale = mix(xScale, yScale, 0.5);\n  // Blur\n  if (typeof shadow[2 + offset] === \"number\") shadow[2 + offset] /= averageScale;\n  // Spread\n  if (typeof shadow[3 + offset] === \"number\") shadow[3 + offset] /= averageScale;\n  var output = template(shadow);\n  if (containsCSSVariables) {\n    var i_1 = 0;\n    output = output.replace(varToken, function () {\n      var cssVariable = cssVariables[i_1];\n      i_1++;\n      return cssVariable;\n    });\n  }\n  return output;\n}\nvar borderCorrectionDefinition = {\n  process: correctBorderRadius\n};\nvar defaultScaleCorrectors = {\n  borderRadius: __assign(__assign({}, borderCorrectionDefinition), {\n    applyTo: [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomLeftRadius\", \"borderBottomRightRadius\"]\n  }),\n  borderTopLeftRadius: borderCorrectionDefinition,\n  borderTopRightRadius: borderCorrectionDefinition,\n  borderBottomLeftRadius: borderCorrectionDefinition,\n  borderBottomRightRadius: borderCorrectionDefinition,\n  boxShadow: {\n    process: correctBoxShadow\n  }\n};\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\nvar progressTarget = 1000;\nvar Animate = /** @class */function (_super) {\n  __extends(Animate, _super);\n  function Animate() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * A mutable object that tracks the target viewport box\n     * for the current animation frame.\n     */\n    _this.frameTarget = axisBox();\n    /**\n     * The current animation target, we use this to check whether to start\n     * a new animation or continue the existing one.\n     */\n    _this.currentAnimationTarget = axisBox();\n    /**\n     * Track whether we're animating this axis.\n     */\n    _this.isAnimating = {\n      x: false,\n      y: false\n    };\n    _this.stopAxisAnimation = {\n      x: undefined,\n      y: undefined\n    };\n    _this.isAnimatingTree = false;\n    _this.animate = function (target, origin, _a) {\n      if (_a === void 0) {\n        _a = {};\n      }\n      var originBox = _a.originBox,\n        targetBox = _a.targetBox,\n        visibilityAction = _a.visibilityAction,\n        shouldStackAnimate = _a.shouldStackAnimate,\n        onComplete = _a.onComplete,\n        prevParent = _a.prevParent,\n        config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n      var _b = _this.props,\n        visualElement = _b.visualElement,\n        layout = _b.layout;\n      /**\n       * Early return if we've been instructed not to animate this render.\n       */\n      if (shouldStackAnimate === false) {\n        _this.isAnimatingTree = false;\n        return _this.safeToRemove();\n      }\n      /**\n       * Prioritise tree animations\n       */\n      if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n        return;\n      } else if (shouldStackAnimate) {\n        _this.isAnimatingTree = true;\n      }\n      /**\n       * Allow the measured origin (prev bounding box) and target (actual layout) to be\n       * overridden by the provided config.\n       */\n      origin = originBox || origin;\n      target = targetBox || target;\n      /**\n       * If this element has a projecting parent, there's an opportunity to animate\n       * it relatively to that parent rather than relatively to the viewport. This\n       * allows us to add orchestrated animations.\n       */\n      var isRelative = false;\n      var projectionParent = visualElement.getProjectionParent();\n      if (projectionParent) {\n        var prevParentViewportBox = projectionParent.prevViewportBox;\n        var parentLayout = projectionParent.getLayoutState().layout;\n        /**\n         * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n         */\n        if (prevParent) {\n          /**\n           * If we've been provided an explicit target box it means we're animating back\n           * to this previous parent. So we can make a relative box by comparing to the previous\n           * parent's layout\n           */\n          if (targetBox) {\n            parentLayout = prevParent.getLayoutState().layout;\n          }\n          /**\n           * Likewise if we've been provided an explicit origin box it means we're\n           * animating out from a different element. So we should figure out where that was\n           * on screen relative to the new parent element.\n           */\n          if (originBox && !checkIfParentHasChanged(prevParent, projectionParent) && prevParent.prevViewportBox) {\n            prevParentViewportBox = prevParent.prevViewportBox;\n          }\n        }\n        if (prevParentViewportBox && isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n          isRelative = true;\n          origin = calcRelativeOffset(prevParentViewportBox, origin);\n          target = calcRelativeOffset(parentLayout, target);\n        }\n      }\n      var boxHasMoved = hasMoved(origin, target);\n      var animations = eachAxis(function (axis) {\n        var _a, _b;\n        /**\n         * If layout is set to \"position\", we can resize the origin box based on the target\n         * box and only animate its position.\n         */\n        if (layout === \"position\") {\n          var targetLength = target[axis].max - target[axis].min;\n          origin[axis].max = origin[axis].min + targetLength;\n        }\n        if (visualElement.projection.isTargetLocked) {\n          return;\n        } else if (visibilityAction !== undefined) {\n          visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n        } else if (boxHasMoved) {\n          // If the box has moved, animate between it's current visual state and its\n          // final state\n          return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), {\n            isRelative: isRelative\n          }));\n        } else {\n          (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n          // If the box has remained in the same place, immediately set the axis target\n          // to the final desired state\n          return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n        }\n      });\n      // Force a render to ensure there's no flash of uncorrected bounding box.\n      visualElement.syncRender();\n      /**\n       * If this visualElement isn't present (ie it's been removed from the tree by the user but\n       * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n       * have successfully finished.\n       */\n      return Promise.all(animations).then(function () {\n        _this.isAnimatingTree = false;\n        onComplete && onComplete();\n        visualElement.notifyLayoutAnimationComplete();\n      });\n    };\n    return _this;\n  }\n  Animate.prototype.componentDidMount = function () {\n    var _this = this;\n    var visualElement = this.props.visualElement;\n    visualElement.animateMotionValue = startAnimation;\n    visualElement.enableLayoutProjection();\n    this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n    visualElement.layoutSafeToRemove = function () {\n      return _this.safeToRemove();\n    };\n    addScaleCorrection(defaultScaleCorrectors);\n  };\n  Animate.prototype.componentWillUnmount = function () {\n    var _this = this;\n    this.unsubLayoutReady();\n    eachAxis(function (axis) {\n      var _a, _b;\n      return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n  /**\n   * TODO: This manually performs animations on the visualElement's layout progress\n   * values. It'd be preferable to amend the startLayoutAxisAnimation\n   * API to accept more custom animations like this.\n   */\n  Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n    var _this = this;\n    var _b, _c;\n    var _d = _a === void 0 ? {} : _a,\n      transition = _d.transition,\n      isRelative = _d.isRelative;\n    /**\n     * If we're not animating to a new target, don't run this animation\n     */\n    if (this.isAnimating[axis] && axisIsEqual(target, this.currentAnimationTarget[axis])) {\n      return;\n    }\n    (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n    this.isAnimating[axis] = true;\n    var visualElement = this.props.visualElement;\n    var frameTarget = this.frameTarget[axis];\n    var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n    /**\n     * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n     * be re-incoporated into a subsequent spring animation.\n     */\n    layoutProgress.clearListeners();\n    layoutProgress.set(0);\n    layoutProgress.set(0);\n    /**\n     * Create an animation function to run once per frame. This will tween the visual bounding box from\n     * origin to target using the latest progress value.\n     */\n    var frame = function frame() {\n      // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n      var p = layoutProgress.get() / progressTarget;\n      // Tween the axis and update the visualElement with the latest values\n      tweenAxis(frameTarget, origin, target, p);\n      visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n    };\n    // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n    frame();\n    // Create a function to stop animation on this specific axis\n    var unsubscribeProgress = layoutProgress.onChange(frame);\n    this.stopAxisAnimation[axis] = function () {\n      _this.isAnimating[axis] = false;\n      layoutProgress.stop();\n      unsubscribeProgress();\n    };\n    this.currentAnimationTarget[axis] = target;\n    var layoutTransition = transition || visualElement.getDefaultTransition() || defaultLayoutTransition;\n    // Start the animation on this axis\n    var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n    return animation;\n  };\n  Animate.prototype.safeToRemove = function () {\n    var _a, _b;\n    (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n  Animate.prototype.render = function () {\n    return null;\n  };\n  return Animate;\n}(React.Component);\nfunction AnimateLayoutContextProvider(props) {\n  var _a = __read(usePresence(), 2),\n    safeToRemove = _a[1];\n  return React.createElement(Animate, __assign({}, props, {\n    safeToRemove: safeToRemove\n  }));\n}\nfunction hasMoved(a, b) {\n  return !isZeroBox(a) && !isZeroBox(b) && (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y));\n}\nvar zeroAxis = {\n  min: 0,\n  max: 0\n};\nfunction isZeroBox(a) {\n  return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n  return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n  duration: 0.45,\n  ease: [0.4, 0, 0.1, 1]\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n  return prevParent || !prevParent && !(originBox || targetBox);\n}\nexport { AnimateLayoutContextProvider };","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */function (_super) {\n  __extends(Measure, _super);\n  function Measure() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * If this is a child of a SyncContext, register the VisualElement with it on mount.\n   */\n  Measure.prototype.componentDidMount = function () {\n    var _a = this.props,\n      syncLayout = _a.syncLayout,\n      framerSyncLayout = _a.framerSyncLayout,\n      visualElement = _a.visualElement;\n    isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n    isSharedLayout(framerSyncLayout) && framerSyncLayout.register(visualElement);\n    visualElement.onUnmount(function () {\n      if (isSharedLayout(syncLayout)) {\n        syncLayout.remove(visualElement);\n      }\n      if (isSharedLayout(framerSyncLayout)) {\n        framerSyncLayout.remove(visualElement);\n      }\n    });\n  };\n  /**\n   * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n   * handle the snapshotting.\n   *\n   * If it is stand-alone component, add it to the batcher.\n   */\n  Measure.prototype.getSnapshotBeforeUpdate = function () {\n    var _a = this.props,\n      syncLayout = _a.syncLayout,\n      visualElement = _a.visualElement;\n    if (isSharedLayout(syncLayout)) {\n      syncLayout.syncUpdate();\n    } else {\n      snapshotViewportBox(visualElement);\n      syncLayout.add(visualElement);\n    }\n    return null;\n  };\n  Measure.prototype.componentDidUpdate = function () {\n    var syncLayout = this.props.syncLayout;\n    if (!isSharedLayout(syncLayout)) syncLayout.flush();\n  };\n  Measure.prototype.render = function () {\n    return null;\n  };\n  return Measure;\n}(React__default.Component);\nfunction MeasureContextProvider(props) {\n  var syncLayout = useContext(SharedLayoutContext);\n  var framerSyncLayout = useContext(FramerTreeLayoutContext);\n  return React__default.createElement(Measure, __assign({}, props, {\n    syncLayout: syncLayout,\n    framerSyncLayout: framerSyncLayout\n  }));\n}\nexport { MeasureContextProvider };","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\nvar layoutAnimations = {\n  measureLayout: MeasureContextProvider,\n  layoutAnimation: AnimateLayoutContextProvider\n};\nexport { layoutAnimations };","import { axisBox, delta } from '../../utils/geometry/index.js';\nvar createProjectionState = function createProjectionState() {\n  return {\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox()\n  };\n};\nfunction createLayoutState() {\n  return {\n    isHydrated: false,\n    layout: axisBox(),\n    layoutCorrected: axisBox(),\n    treeScale: {\n      x: 1,\n      y: 1\n    },\n    delta: delta(),\n    deltaFinal: delta(),\n    deltaTransform: \"\"\n  };\n}\nvar zeroLayout = createLayoutState();\nexport { createLayoutState, createProjectionState, zeroLayout };","import { zeroLayout } from '../../utils/state.js';\n\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n  var x = _a.x,\n    y = _a.y;\n  /**\n   * The translations we use to calculate are always relative to the viewport coordinate space.\n   * But when we apply scales, we also scale the coordinate space of an element and its children.\n   * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n   * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n   */\n  var xTranslate = x.translate / treeScale.x;\n  var yTranslate = y.translate / treeScale.y;\n  var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n  if (latestTransform) {\n    var rotate = latestTransform.rotate,\n      rotateX = latestTransform.rotateX,\n      rotateY = latestTransform.rotateY;\n    if (rotate) transform += \"rotate(\" + rotate + \") \";\n    if (rotateX) transform += \"rotateX(\" + rotateX + \") \";\n    if (rotateY) transform += \"rotateY(\" + rotateY + \") \";\n  }\n  transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n  return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\nfunction buildLayoutProjectionTransformOrigin(_a) {\n  var deltaFinal = _a.deltaFinal;\n  return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, {\n  x: 1,\n  y: 1\n});\nexport { buildLayoutProjectionTransform, buildLayoutProjectionTransformOrigin, identityProjection };","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.js';\nvar names = [\"LayoutMeasure\", \"BeforeLayoutMeasure\", \"LayoutUpdate\", \"ViewportBoxUpdate\", \"Update\", \"Render\", \"AnimationComplete\", \"LayoutAnimationComplete\", \"AnimationStart\", \"SetAxisTarget\", \"Unmount\"];\nfunction createLifecycles() {\n  var managers = names.map(function () {\n    return new SubscriptionManager();\n  });\n  var propSubscriptions = {};\n  var lifecycles = {\n    clearAllListeners: function clearAllListeners() {\n      return managers.forEach(function (manager) {\n        return manager.clear();\n      });\n    },\n    updatePropListeners: function updatePropListeners(props) {\n      return names.forEach(function (name) {\n        var _a;\n        (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n        var on = \"on\" + name;\n        var propListener = props[on];\n        if (propListener) {\n          propSubscriptions[name] = lifecycles[on](propListener);\n        }\n      });\n    }\n  };\n  managers.forEach(function (manager, i) {\n    lifecycles[\"on\" + names[i]] = function (handler) {\n      return manager.add(handler);\n    };\n    lifecycles[\"notify\" + names[i]] = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return manager.notify.apply(manager, __spreadArray([], __read(args)));\n    };\n  });\n  return lifecycles;\n}\nexport { createLifecycles };","import { resetBox, applyTreeDeltas } from '../../utils/geometry/delta-apply.js';\nimport { updateBoxDelta } from '../../utils/geometry/delta-calc.js';\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n  var delta = _a.delta,\n    layout = _a.layout,\n    layoutCorrected = _a.layoutCorrected,\n    treeScale = _a.treeScale;\n  var target = _b.target;\n  /**\n   * Reset the corrected box with the latest values from box, as we're then going\n   * to perform mutative operations on it.\n   */\n  resetBox(layoutCorrected, layout);\n  /**\n   * Apply all the parent deltas to this box to produce the corrected box. This\n   * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n   */\n  applyTreeDeltas(layoutCorrected, treeScale, treePath);\n  /**\n   * Update the delta between the corrected box and the target box before user-set transforms were applied.\n   * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n   * for our layout reprojection, but still allow them to be scaled correctly by the user.\n   * It might be that to simplify this we may want to accept that user-set scale is also corrected\n   * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n   * to allow people to choose whether these styles are corrected based on just the\n   * layout reprojection or the final bounding box.\n   */\n  updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\nexport { updateLayoutDeltas };","import { addUniqueItem, removeItem } from '../../utils/array.js';\nimport { compareByDepth } from './compare-by-depth.js';\nvar FlatTree = /** @class */function () {\n  function FlatTree() {\n    this.children = [];\n    this.isDirty = false;\n  }\n  FlatTree.prototype.add = function (child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  };\n  FlatTree.prototype.remove = function (child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  };\n  FlatTree.prototype.forEach = function (callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  };\n  return FlatTree;\n}();\nexport { FlatTree };","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { pipe } from 'popmotion';\nimport { Presence } from '../components/AnimateSharedLayout/types.js';\nimport { eachAxis } from '../utils/each-axis.js';\nimport { axisBox } from '../utils/geometry/index.js';\nimport { removeBoxTransforms, applyBoxTransforms } from '../utils/geometry/delta-apply.js';\nimport { calcRelativeBox, updateBoxDelta } from '../utils/geometry/delta-calc.js';\nimport { motionValue } from '../value/index.js';\nimport { isMotionValue } from '../value/utils/is-motion-value.js';\nimport { buildLayoutProjectionTransform } from './html/utils/build-projection-transform.js';\nimport { variantPriorityOrder } from './utils/animation-state.js';\nimport { createLifecycles } from './utils/lifecycles.js';\nimport { updateMotionValuesFromProps } from './utils/motion-values.js';\nimport { updateLayoutDeltas } from './utils/projection.js';\nimport { createLayoutState, createProjectionState } from './utils/state.js';\nimport { FlatTree } from './utils/flat-tree.js';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.js';\nimport { setCurrentViewportBox } from './dom/projection/relative-set.js';\nimport { isDraggable } from './utils/is-draggable.js';\nvar visualElement = function visualElement(_a) {\n  var _b = _a.treeType,\n    treeType = _b === void 0 ? \"\" : _b,\n    build = _a.build,\n    _getBaseTarget = _a.getBaseTarget,\n    _makeTargetAnimatable = _a.makeTargetAnimatable,\n    _measureViewportBox = _a.measureViewportBox,\n    renderInstance = _a.render,\n    readValueFromInstance = _a.readValueFromInstance,\n    _resetTransform = _a.resetTransform,\n    _restoreTransform = _a.restoreTransform,\n    removeValueFromRenderState = _a.removeValueFromRenderState,\n    _sortNodePosition = _a.sortNodePosition,\n    scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n  return function (_a, options) {\n    var parent = _a.parent,\n      props = _a.props,\n      presenceId = _a.presenceId,\n      blockInitialAnimation = _a.blockInitialAnimation,\n      visualState = _a.visualState;\n    if (options === void 0) {\n      options = {};\n    }\n    var latestValues = visualState.latestValues,\n      renderState = visualState.renderState;\n    /**\n     * The instance of the render-specific node that will be hydrated by the\n     * exposed React ref. So for example, this visual element can host a\n     * HTMLElement, plain object, or Three.js object. The functions provided\n     * in VisualElementConfig allow us to interface with this instance.\n     */\n    var instance;\n    /**\n     * Manages the subscriptions for a visual element's lifecycle, for instance\n     * onRender and onViewportBoxUpdate.\n     */\n    var lifecycles = createLifecycles();\n    /**\n     *\n     */\n    var projection = createProjectionState();\n    /**\n     * A reference to the nearest projecting parent. This is either\n     * undefined if we haven't looked for the nearest projecting parent,\n     * false if there is no parent performing layout projection, or a reference\n     * to the projecting parent.\n     */\n    var projectionParent;\n    /**\n     * This is a reference to the visual state of the \"lead\" visual element.\n     * Usually, this will be this visual element. But if it shares a layoutId\n     * with other visual elements, only one of them will be designated lead by\n     * AnimateSharedLayout. All the other visual elements will take on the visual\n     * appearance of the lead while they crossfade to it.\n     */\n    var leadProjection = projection;\n    var leadLatestValues = latestValues;\n    var unsubscribeFromLeadVisualElement;\n    /**\n     * The latest layout measurements and calculated projections. This\n     * is seperate from the target projection data in visualState as\n     * many visual elements might point to the same piece of visualState as\n     * a target, whereas they might each have different layouts and thus\n     * projection calculations needed to project into the same viewport box.\n     */\n    var layoutState = createLayoutState();\n    /**\n     *\n     */\n    var crossfader;\n    /**\n     * Keep track of whether the viewport box has been updated since the\n     * last time the layout projection was re-calculated.\n     */\n    var hasViewportBoxUpdated = false;\n    /**\n     * A map of all motion values attached to this visual element. Motion\n     * values are source of truth for any given animated value. A motion\n     * value might be provided externally by the component via props.\n     */\n    var values = new Map();\n    /**\n     * A map of every subscription that binds the provided or generated\n     * motion values onChange listeners to this visual element.\n     */\n    var valueSubscriptions = new Map();\n    /**\n     * A reference to the previously-provided motion values as returned\n     * from scrapeMotionValuesFromProps. We use the keys in here to determine\n     * if any motion values need to be removed after props are updated.\n     */\n    var prevMotionValues = {};\n    /**\n     * x/y motion values that track the progress of initiated layout\n     * animations.\n     *\n     * TODO: Target for removal\n     */\n    var projectionTargetProgress;\n    /**\n     * When values are removed from all animation props we need to search\n     * for a fallback value to animate to. These values are tracked in baseTarget.\n     */\n    var baseTarget = __assign({}, latestValues);\n    // Internal methods ========================\n    /**\n     * On mount, this will be hydrated with a callback to disconnect\n     * this visual element from its parent on unmount.\n     */\n    var removeFromVariantTree;\n    /**\n     *\n     */\n    function render() {\n      if (!instance) return;\n      if (element.isProjectionReady()) {\n        /**\n         * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n         * This is the final box that we will then project into by calculating a transform delta and\n         * applying it to the corrected box.\n         */\n        applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n        /**\n         * Update the delta between the corrected box and the final target box, after\n         * user-set transforms are applied to it. This will be used by the renderer to\n         * create a transform style that will reproject the element from its actual layout\n         * into the desired bounding box.\n         */\n        updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n      }\n      triggerBuild();\n      renderInstance(instance, renderState);\n    }\n    function triggerBuild() {\n      var valuesToRender = latestValues;\n      if (crossfader && crossfader.isActive()) {\n        var crossfadedValues = crossfader.getCrossfadeState(element);\n        if (crossfadedValues) valuesToRender = crossfadedValues;\n      }\n      build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n    }\n    function update() {\n      lifecycles.notifyUpdate(latestValues);\n    }\n    function updateLayoutProjection() {\n      if (!element.isProjectionReady()) return;\n      var delta = layoutState.delta,\n        treeScale = layoutState.treeScale;\n      var prevTreeScaleX = treeScale.x;\n      var prevTreeScaleY = treeScale.y;\n      var prevDeltaTransform = layoutState.deltaTransform;\n      updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n      hasViewportBoxUpdated && element.notifyViewportBoxUpdate(leadProjection.target, delta);\n      hasViewportBoxUpdated = false;\n      var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n      if (deltaTransform !== prevDeltaTransform ||\n      // Also compare calculated treeScale, for values that rely on this only for scale correction\n      prevTreeScaleX !== treeScale.x || prevTreeScaleY !== treeScale.y) {\n        element.scheduleRender();\n      }\n      layoutState.deltaTransform = deltaTransform;\n    }\n    function _updateTreeLayoutProjection() {\n      element.layoutTree.forEach(fireUpdateLayoutProjection);\n    }\n    /**\n     *\n     */\n    function bindToMotionValue(key, value) {\n      var removeOnChange = value.onChange(function (latestValue) {\n        latestValues[key] = latestValue;\n        props.onUpdate && sync.update(update, false, true);\n      });\n      var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n      valueSubscriptions.set(key, function () {\n        removeOnChange();\n        removeOnRenderRequest();\n      });\n    }\n    /**\n     * Any motion values that are provided to the element when created\n     * aren't yet bound to the element, as this would technically be impure.\n     * However, we iterate through the motion values and set them to the\n     * initial values for this component.\n     *\n     * TODO: This is impure and we should look at changing this to run on mount.\n     * Doing so will break some tests but this isn't neccessarily a breaking change,\n     * more a reflection of the test.\n     */\n    var initialMotionValues = scrapeMotionValuesFromProps(props);\n    for (var key in initialMotionValues) {\n      var value = initialMotionValues[key];\n      if (latestValues[key] !== undefined && isMotionValue(value)) {\n        value.set(latestValues[key], false);\n      }\n    }\n    /**\n     * Determine what role this visual element should take in the variant tree.\n     */\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    var element = __assign(__assign({\n      treeType: treeType,\n      /**\n       * This is a mirror of the internal instance prop, which keeps\n       * VisualElement type-compatible with React's RefObject.\n       */\n      current: null,\n      /**\n       * The depth of this visual element within the visual element tree.\n       */\n      depth: parent ? parent.depth + 1 : 0,\n      parent: parent,\n      children: new Set(),\n      /**\n       * An ancestor path back to the root visual element. This is used\n       * by layout projection to quickly recurse back up the tree.\n       */\n      path: parent ? __spreadArray(__spreadArray([], __read(parent.path)), [parent]) : [],\n      layoutTree: parent ? parent.layoutTree : new FlatTree(),\n      /**\n       *\n       */\n      presenceId: presenceId,\n      projection: projection,\n      /**\n       * If this component is part of the variant tree, it should track\n       * any children that are also part of the tree. This is essentially\n       * a shadow tree to simplify logic around how to stagger over children.\n       */\n      variantChildren: isVariantNode ? new Set() : undefined,\n      /**\n       * Whether this instance is visible. This can be changed imperatively\n       * by AnimateSharedLayout, is analogous to CSS's visibility in that\n       * hidden elements should take up layout, and needs enacting by the configured\n       * render function.\n       */\n      isVisible: undefined,\n      /**\n       * Normally, if a component is controlled by a parent's variants, it can\n       * rely on that ancestor to trigger animations further down the tree.\n       * However, if a component is created after its parent is mounted, the parent\n       * won't trigger that mount animation so the child needs to.\n       *\n       * TODO: This might be better replaced with a method isParentMounted\n       */\n      manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()),\n      /**\n       * This can be set by AnimatePresence to force components that mount\n       * at the same time as it to mount as if they have initial={false} set.\n       */\n      blockInitialAnimation: blockInitialAnimation,\n      /**\n       * Determine whether this component has mounted yet. This is mostly used\n       * by variant children to determine whether they need to trigger their\n       * own animations on mount.\n       */\n      isMounted: function isMounted() {\n        return Boolean(instance);\n      },\n      mount: function mount(newInstance) {\n        instance = element.current = newInstance;\n        element.pointTo(element);\n        if (isVariantNode && parent && !isControllingVariants) {\n          removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n      },\n      /**\n       *\n       */\n      unmount: function unmount() {\n        cancelSync.update(update);\n        cancelSync.render(render);\n        cancelSync.preRender(element.updateLayoutProjection);\n        valueSubscriptions.forEach(function (remove) {\n          return remove();\n        });\n        element.stopLayoutAnimation();\n        element.layoutTree.remove(element);\n        removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n        parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        lifecycles.clearAllListeners();\n      },\n      /**\n       * Add a child visual element to our set of children.\n       */\n      addVariantChild: function addVariantChild(child) {\n        var _a;\n        var closestVariantNode = element.getClosestVariantNode();\n        if (closestVariantNode) {\n          (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n          return function () {\n            return closestVariantNode.variantChildren.delete(child);\n          };\n        }\n      },\n      sortNodePosition: function sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!_sortNodePosition || treeType !== other.treeType) return 0;\n        return _sortNodePosition(element.getInstance(), other.getInstance());\n      },\n      /**\n       * Returns the closest variant node in the tree starting from\n       * this visual element.\n       */\n      getClosestVariantNode: function getClosestVariantNode() {\n        return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n      },\n      /**\n       * A method that schedules an update to layout projections throughout\n       * the tree. We inherit from the parent so there's only ever one\n       * job scheduled on the next frame - that of the root visual element.\n       */\n      scheduleUpdateLayoutProjection: parent ? parent.scheduleUpdateLayoutProjection : function () {\n        return sync.preRender(element.updateTreeLayoutProjection, false, true);\n      },\n      /**\n       * Expose the latest layoutId prop.\n       */\n      getLayoutId: function getLayoutId() {\n        return props.layoutId;\n      },\n      /**\n       * Returns the current instance.\n       */\n      getInstance: function getInstance() {\n        return instance;\n      },\n      /**\n       * Get/set the latest static values.\n       */\n      getStaticValue: function getStaticValue(key) {\n        return latestValues[key];\n      },\n      setStaticValue: function setStaticValue(key, value) {\n        return latestValues[key] = value;\n      },\n      /**\n       * Returns the latest motion value state. Currently only used to take\n       * a snapshot of the visual element - perhaps this can return the whole\n       * visual state\n       */\n      getLatestValues: function getLatestValues() {\n        return latestValues;\n      },\n      /**\n       * Set the visiblity of the visual element. If it's changed, schedule\n       * a render to reflect these changes.\n       */\n      setVisibility: function setVisibility(visibility) {\n        if (element.isVisible === visibility) return;\n        element.isVisible = visibility;\n        element.scheduleRender();\n      },\n      /**\n       * Make a target animatable by Popmotion. For instance, if we're\n       * trying to animate width from 100px to 100vw we need to measure 100vw\n       * in pixels to determine what we really need to animate to. This is also\n       * pluggable to support Framer's custom value types like Color,\n       * and CSS variables.\n       */\n      makeTargetAnimatable: function makeTargetAnimatable(target, canMutate) {\n        if (canMutate === void 0) {\n          canMutate = true;\n        }\n        return _makeTargetAnimatable(element, target, props, canMutate);\n      },\n      // Motion values ========================\n      /**\n       * Add a motion value and bind it to this visual element.\n       */\n      addValue: function addValue(key, value) {\n        // Remove existing value if it exists\n        if (element.hasValue(key)) element.removeValue(key);\n        values.set(key, value);\n        latestValues[key] = value.get();\n        bindToMotionValue(key, value);\n      },\n      /**\n       * Remove a motion value and unbind any active subscriptions.\n       */\n      removeValue: function removeValue(key) {\n        var _a;\n        values.delete(key);\n        (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n        valueSubscriptions.delete(key);\n        delete latestValues[key];\n        removeValueFromRenderState(key, renderState);\n      },\n      /**\n       * Check whether we have a motion value for this key\n       */\n      hasValue: function hasValue(key) {\n        return values.has(key);\n      },\n      /**\n       * Get a motion value for this key. If called with a default\n       * value, we'll create one if none exists.\n       */\n      getValue: function getValue(key, defaultValue) {\n        var value = values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n          value = motionValue(defaultValue);\n          element.addValue(key, value);\n        }\n        return value;\n      },\n      /**\n       * Iterate over our motion values.\n       */\n      forEachValue: function forEachValue(callback) {\n        return values.forEach(callback);\n      },\n      /**\n       * If we're trying to animate to a previously unencountered value,\n       * we need to check for it in our state and as a last resort read it\n       * directly from the instance (which might have performance implications).\n       */\n      readValue: function readValue(key) {\n        var _a;\n        return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options);\n      },\n      /**\n       * Set the base target to later animate back to. This is currently\n       * only hydrated on creation and when we first read a value.\n       */\n      setBaseTarget: function setBaseTarget(key, value) {\n        baseTarget[key] = value;\n      },\n      /**\n       * Find the base target for a value thats been removed from all animation\n       * props.\n       */\n      getBaseTarget: function getBaseTarget(key) {\n        if (_getBaseTarget) {\n          var target = _getBaseTarget(props, key);\n          if (target !== undefined && !isMotionValue(target)) return target;\n        }\n        return baseTarget[key];\n      }\n    }, lifecycles), {\n      /**\n       * Build the renderer state based on the latest visual state.\n       */\n      build: function build() {\n        triggerBuild();\n        return renderState;\n      },\n      /**\n       * Schedule a render on the next animation frame.\n       */\n      scheduleRender: function scheduleRender() {\n        sync.render(render, false, true);\n      },\n      /**\n       * Synchronously fire render. It's prefered that we batch renders but\n       * in many circumstances, like layout measurement, we need to run this\n       * synchronously. However in those instances other measures should be taken\n       * to batch reads/writes.\n       */\n      syncRender: render,\n      /**\n       * Update the provided props. Ensure any newly-added motion values are\n       * added to our map, old ones removed, and listeners updated.\n       */\n      setProps: function setProps(newProps) {\n        props = newProps;\n        lifecycles.updatePropListeners(newProps);\n        prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n      },\n      getProps: function getProps() {\n        return props;\n      },\n      // Variants ==============================\n      /**\n       * Returns the variant definition with a given name.\n       */\n      getVariant: function getVariant(name) {\n        var _a;\n        return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name];\n      },\n      /**\n       * Returns the defined default transition on this component.\n       */\n      getDefaultTransition: function getDefaultTransition() {\n        return props.transition;\n      },\n      /**\n       * Used by child variant nodes to get the closest ancestor variant props.\n       */\n      getVariantContext: function getVariantContext(startAtParent) {\n        if (startAtParent === void 0) {\n          startAtParent = false;\n        }\n        if (startAtParent) return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n        if (!isControllingVariants) {\n          var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n          if (props.initial !== undefined) {\n            context_1.initial = props.initial;\n          }\n          return context_1;\n        }\n        var context = {};\n        for (var i = 0; i < numVariantProps; i++) {\n          var name_1 = variantProps[i];\n          var prop = props[name_1];\n          if (isVariantLabel(prop) || prop === false) {\n            context[name_1] = prop;\n          }\n        }\n        return context;\n      },\n      // Layout projection ==============================\n      /**\n       * Enable layout projection for this visual element. Won't actually\n       * occur until we also have hydrated layout measurements.\n       */\n      enableLayoutProjection: function enableLayoutProjection() {\n        projection.isEnabled = true;\n        element.layoutTree.add(element);\n      },\n      /**\n       * Lock the projection target, for instance when dragging, so\n       * nothing else can try and animate it.\n       */\n      lockProjectionTarget: function lockProjectionTarget() {\n        projection.isTargetLocked = true;\n      },\n      unlockProjectionTarget: function unlockProjectionTarget() {\n        element.stopLayoutAnimation();\n        projection.isTargetLocked = false;\n      },\n      getLayoutState: function getLayoutState() {\n        return layoutState;\n      },\n      setCrossfader: function setCrossfader(newCrossfader) {\n        crossfader = newCrossfader;\n      },\n      isProjectionReady: function isProjectionReady() {\n        return projection.isEnabled && projection.isHydrated && layoutState.isHydrated;\n      },\n      /**\n       * Start a layout animation on a given axis.\n       */\n      startLayoutAnimation: function startLayoutAnimation(axis, transition, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n        var progress = element.getProjectionAnimationProgress()[axis];\n        var _a = isRelative ? projection.relativeTarget[axis] : projection.target[axis],\n          min = _a.min,\n          max = _a.max;\n        var length = max - min;\n        progress.clearListeners();\n        progress.set(min);\n        progress.set(min); // Set twice to hard-reset velocity\n        progress.onChange(function (v) {\n          element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n        });\n        return element.animateMotionValue(axis, progress, 0, transition);\n      },\n      /**\n       * Stop layout animations.\n       */\n      stopLayoutAnimation: function stopLayoutAnimation() {\n        eachAxis(function (axis) {\n          return element.getProjectionAnimationProgress()[axis].stop();\n        });\n      },\n      /**\n       * Measure the current viewport box with or without transforms.\n       * Only measures axis-aligned boxes, rotate and skew must be manually\n       * removed with a re-render to work.\n       */\n      measureViewportBox: function measureViewportBox(withTransform) {\n        if (withTransform === void 0) {\n          withTransform = true;\n        }\n        var viewportBox = _measureViewportBox(instance, options);\n        if (!withTransform) removeBoxTransforms(viewportBox, latestValues);\n        return viewportBox;\n      },\n      /**\n       * Get the motion values tracking the layout animations on each\n       * axis. Lazy init if not already created.\n       */\n      getProjectionAnimationProgress: function getProjectionAnimationProgress() {\n        projectionTargetProgress || (projectionTargetProgress = {\n          x: motionValue(0),\n          y: motionValue(0)\n        });\n        return projectionTargetProgress;\n      },\n      /**\n       * Update the projection of a single axis. Schedule an update to\n       * the tree layout projection.\n       */\n      setProjectionTargetAxis: function setProjectionTargetAxis(axis, min, max, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n        var target;\n        if (isRelative) {\n          if (!projection.relativeTarget) {\n            projection.relativeTarget = axisBox();\n          }\n          target = projection.relativeTarget[axis];\n        } else {\n          projection.relativeTarget = undefined;\n          target = projection.target[axis];\n        }\n        projection.isHydrated = true;\n        target.min = min;\n        target.max = max;\n        // Flag that we want to fire the onViewportBoxUpdate event handler\n        hasViewportBoxUpdated = true;\n        lifecycles.notifySetAxisTarget();\n      },\n      /**\n       * Rebase the projection target on top of the provided viewport box\n       * or the measured layout. This ensures that non-animating elements\n       * don't fall out of sync differences in measurements vs projections\n       * after a page scroll or other relayout.\n       */\n      rebaseProjectionTarget: function rebaseProjectionTarget(force, box) {\n        if (box === void 0) {\n          box = layoutState.layout;\n        }\n        var _a = element.getProjectionAnimationProgress(),\n          x = _a.x,\n          y = _a.y;\n        var shouldRebase = !projection.relativeTarget && !projection.isTargetLocked && !x.isAnimating() && !y.isAnimating();\n        if (force || shouldRebase) {\n          eachAxis(function (axis) {\n            var _a = box[axis],\n              min = _a.min,\n              max = _a.max;\n            element.setProjectionTargetAxis(axis, min, max);\n          });\n        }\n      },\n      /**\n       * Notify the visual element that its layout is up-to-date.\n       * Currently Animate.tsx uses this to check whether a layout animation\n       * needs to be performed.\n       */\n      notifyLayoutReady: function notifyLayoutReady(config) {\n        setCurrentViewportBox(element);\n        element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n      },\n      /**\n       * Temporarily reset the transform of the instance.\n       */\n      resetTransform: function resetTransform() {\n        return _resetTransform(element, instance, props);\n      },\n      restoreTransform: function restoreTransform() {\n        return _restoreTransform(instance, renderState);\n      },\n      updateLayoutProjection: updateLayoutProjection,\n      updateTreeLayoutProjection: function updateTreeLayoutProjection() {\n        element.layoutTree.forEach(fireResolveRelativeTargetBox);\n        /**\n         * Schedule the projection updates at the end of the current preRender\n         * step. This will ensure that all layout trees will first resolve\n         * relative projection boxes into viewport boxes, and *then*\n         * update projections.\n         */\n        sync.preRender(_updateTreeLayoutProjection, false, true);\n        // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n      },\n\n      getProjectionParent: function getProjectionParent() {\n        if (projectionParent === undefined) {\n          var foundParent = false;\n          // Search backwards through the tree path\n          for (var i = element.path.length - 1; i >= 0; i--) {\n            var ancestor = element.path[i];\n            if (ancestor.projection.isEnabled) {\n              foundParent = ancestor;\n              break;\n            }\n          }\n          projectionParent = foundParent;\n        }\n        return projectionParent;\n      },\n      resolveRelativeTargetBox: function resolveRelativeTargetBox() {\n        var relativeParent = element.getProjectionParent();\n        if (!projection.relativeTarget || !relativeParent) return;\n        calcRelativeBox(projection, relativeParent.projection);\n        if (isDraggable(relativeParent)) {\n          var target = projection.target;\n          applyBoxTransforms(target, target, relativeParent.getLatestValues());\n        }\n      },\n      shouldResetTransform: function shouldResetTransform() {\n        return Boolean(props._layoutResetTransform);\n      },\n      /**\n       *\n       */\n      pointTo: function pointTo(newLead) {\n        leadProjection = newLead.projection;\n        leadLatestValues = newLead.getLatestValues();\n        /**\n         * Subscribe to lead component's layout animations\n         */\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        unsubscribeFromLeadVisualElement = pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n          var _a;\n          if (element.isPresent) {\n            element.presence = Presence.Present;\n          } else {\n            (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n          }\n        }));\n      },\n      // TODO: Clean this up\n      isPresent: true,\n      presence: Presence.Entering\n    });\n    return element;\n  };\n};\nfunction fireResolveRelativeTargetBox(child) {\n  child.resolveRelativeTargetBox();\n}\nfunction fireUpdateLayoutProjection(child) {\n  child.updateLayoutProjection();\n}\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder));\nvar numVariantProps = variantProps.length;\nexport { visualElement };","import { motionValue } from '../../value/index.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nfunction updateMotionValuesFromProps(element, next, prev) {\n  var _a;\n  for (var key in next) {\n    var nextValue = next[key];\n    var prevValue = prev[key];\n    if (isMotionValue(nextValue)) {\n      /**\n       * If this is a motion value found in props or style, we want to add it\n       * to our visual element's motion value map.\n       */\n      element.addValue(key, nextValue);\n    } else if (isMotionValue(prevValue)) {\n      /**\n       * If we're swapping to a new motion value, create a new motion value\n       * from that\n       */\n      element.addValue(key, motionValue(nextValue));\n    } else if (prevValue !== nextValue) {\n      /**\n       * If this is a flat value that has changed, update the motion value\n       * or create one if it doesn't exist. We only want to do this if we're\n       * not handling the value with our animation state.\n       */\n      if (element.hasValue(key)) {\n        var existingValue = element.getValue(key);\n        // TODO: Only update values that aren't being animated or even looked at\n        !existingValue.hasAnimated && existingValue.set(nextValue);\n      } else {\n        element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n      }\n    }\n  }\n  // Handle removed values\n  for (var key in prev) {\n    if (next[key] === undefined) element.removeValue(key);\n  }\n  return next;\n}\nexport { updateMotionValuesFromProps };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nfunction setCurrentViewportBox(visualElement) {\n  var projectionParent = visualElement.getProjectionParent();\n  if (!projectionParent) {\n    visualElement.rebaseProjectionTarget();\n    return;\n  }\n  var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  eachAxis(function (axis) {\n    visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n  });\n}\nexport { setCurrentViewportBox };","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.js';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.js';\nimport { findDimensionValueType } from '../value-types/dimensions.js';\nvar positionalKeys = new Set([\"width\", \"height\", \"top\", \"left\", \"right\", \"bottom\", \"x\", \"y\"]);\nvar isPositionalKey = function isPositionalKey(key) {\n  return positionalKeys.has(key);\n};\nvar hasPositionalKey = function hasPositionalKey(target) {\n  return Object.keys(target).some(isPositionalKey);\n};\nvar setAndResetVelocity = function setAndResetVelocity(value, to) {\n  // Looks odd but setting it twice doesn't render, it'll just\n  // set both prev and current to the latest value\n  value.set(to, false);\n  value.set(to);\n};\nvar isNumOrPxType = function isNumOrPxType(v) {\n  return v === number || v === px;\n};\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n  BoundingBoxDimension[\"width\"] = \"width\";\n  BoundingBoxDimension[\"height\"] = \"height\";\n  BoundingBoxDimension[\"left\"] = \"left\";\n  BoundingBoxDimension[\"right\"] = \"right\";\n  BoundingBoxDimension[\"top\"] = \"top\";\n  BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\nvar getPosFromMatrix = function getPosFromMatrix(matrix, pos) {\n  return parseFloat(matrix.split(\", \")[pos]);\n};\nvar getTranslateFromMatrix = function getTranslateFromMatrix(pos2, pos3) {\n  return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform) return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n      return getPosFromMatrix(matrix3d[1], pos3);\n    } else {\n      var matrix = transform.match(/^matrix\\((.+)\\)$/);\n      if (matrix) {\n        return getPosFromMatrix(matrix[1], pos2);\n      } else {\n        return 0;\n      }\n    }\n  };\n};\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) {\n  return !transformKeys.has(key);\n});\nfunction removeNonTranslationalTransform(visualElement) {\n  var removedTransforms = [];\n  nonTranslationalTransformKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (value !== undefined) {\n      removedTransforms.push([key, value.get()]);\n      value.set(key.startsWith(\"scale\") ? 1 : 0);\n    }\n  });\n  // Apply changes to element before measurement\n  if (removedTransforms.length) visualElement.syncRender();\n  return removedTransforms;\n}\nvar positionalValues = {\n  // Dimensions\n  width: function width(_a) {\n    var x = _a.x;\n    return x.max - x.min;\n  },\n  height: function height(_a) {\n    var y = _a.y;\n    return y.max - y.min;\n  },\n  top: function top(_bbox, _a) {\n    var top = _a.top;\n    return parseFloat(top);\n  },\n  left: function left(_bbox, _a) {\n    var left = _a.left;\n    return parseFloat(left);\n  },\n  bottom: function bottom(_a, _b) {\n    var y = _a.y;\n    var top = _b.top;\n    return parseFloat(top) + (y.max - y.min);\n  },\n  right: function right(_a, _b) {\n    var x = _a.x;\n    var left = _b.left;\n    return parseFloat(left) + (x.max - x.min);\n  },\n  // Transform\n  x: getTranslateFromMatrix(4, 13),\n  y: getTranslateFromMatrix(5, 14)\n};\nvar convertChangedValueTypes = function convertChangedValueTypes(target, visualElement, changedKeys) {\n  var originBbox = visualElement.measureViewportBox();\n  var element = visualElement.getInstance();\n  var elementComputedStyle = getComputedStyle(element);\n  var display = elementComputedStyle.display,\n    top = elementComputedStyle.top,\n    left = elementComputedStyle.left,\n    bottom = elementComputedStyle.bottom,\n    right = elementComputedStyle.right,\n    transform = elementComputedStyle.transform;\n  var originComputedStyle = {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    transform: transform\n  };\n  // If the element is currently set to display: \"none\", make it visible before\n  // measuring the target bounding box\n  if (display === \"none\") {\n    visualElement.setStaticValue(\"display\", target.display || \"block\");\n  }\n  // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n  visualElement.syncRender();\n  var targetBbox = visualElement.measureViewportBox();\n  changedKeys.forEach(function (key) {\n    // Restore styles to their **calculated computed style**, not their actual\n    // originally set style. This allows us to animate between equivalent pixel units.\n    var value = visualElement.getValue(key);\n    setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n    target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n  });\n  return target;\n};\nvar checkAndConvertChangedValueTypes = function checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) {\n  if (origin === void 0) {\n    origin = {};\n  }\n  if (transitionEnd === void 0) {\n    transitionEnd = {};\n  }\n  target = __assign({}, target);\n  transitionEnd = __assign({}, transitionEnd);\n  var targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n  // We want to remove any transform values that could affect the element's bounding box before\n  // it's measured. We'll reapply these later.\n  var removedTransformValues = [];\n  var hasAttemptedToRemoveTransformValues = false;\n  var changedValueTypeKeys = [];\n  targetPositionalKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (!visualElement.hasValue(key)) return;\n    var from = origin[key];\n    var to = target[key];\n    var fromType = findDimensionValueType(from);\n    var toType;\n    // TODO: The current implementation of this basically throws an error\n    // if you try and do value conversion via keyframes. There's probably\n    // a way of doing this but the performance implications would need greater scrutiny,\n    // as it'd be doing multiple resize-remeasure operations.\n    if (isKeyframesTarget(to)) {\n      var numKeyframes = to.length;\n      for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n        if (!toType) {\n          toType = findDimensionValueType(to[i]);\n          invariant(toType === fromType || isNumOrPxType(fromType) && isNumOrPxType(toType), \"Keyframes must be of the same dimension as the current value\");\n        } else {\n          invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n        }\n      }\n    } else {\n      toType = findDimensionValueType(to);\n    }\n    if (fromType !== toType) {\n      // If they're both just number or px, convert them both to numbers rather than\n      // relying on resize/remeasure to convert (which is wasteful in this situation)\n      if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n        var current = value.get();\n        if (typeof current === \"string\") {\n          value.set(parseFloat(current));\n        }\n        if (typeof to === \"string\") {\n          target[key] = parseFloat(to);\n        } else if (Array.isArray(to) && toType === px) {\n          target[key] = to.map(parseFloat);\n        }\n      } else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) && (toType === null || toType === void 0 ? void 0 : toType.transform) && (from === 0 || to === 0)) {\n        // If one or the other value is 0, it's safe to coerce it to the\n        // type of the other without measurement\n        if (from === 0) {\n          value.set(toType.transform(from));\n        } else {\n          target[key] = fromType.transform(to);\n        }\n      } else {\n        // If we're going to do value conversion via DOM measurements, we first\n        // need to remove non-positional transform values that could affect the bbox measurements.\n        if (!hasAttemptedToRemoveTransformValues) {\n          removedTransformValues = removeNonTranslationalTransform(visualElement);\n          hasAttemptedToRemoveTransformValues = true;\n        }\n        changedValueTypeKeys.push(key);\n        transitionEnd[key] = transitionEnd[key] !== undefined ? transitionEnd[key] : target[key];\n        setAndResetVelocity(value, to);\n      }\n    }\n  });\n  if (changedValueTypeKeys.length) {\n    var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n    // If we removed transform values, reapply them before the next render\n    if (removedTransformValues.length) {\n      removedTransformValues.forEach(function (_a) {\n        var _b = __read(_a, 2),\n          key = _b[0],\n          value = _b[1];\n        visualElement.getValue(key).set(value);\n      });\n    }\n    // Reapply original values\n    visualElement.syncRender();\n    return {\n      target: convertedTarget,\n      transitionEnd: transitionEnd\n    };\n  } else {\n    return {\n      target: target,\n      transitionEnd: transitionEnd\n    };\n  }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n  return hasPositionalKey(target) ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) : {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\nexport { BoundingBoxDimension, unitConversion };","import { resolveCSSVariables } from './css-variables-conversion.js';\nimport { unitConversion } from './unit-conversion.js';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nvar parseDomVariant = function parseDomVariant(visualElement, target, origin, transitionEnd) {\n  var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n  target = resolved.target;\n  transitionEnd = resolved.transitionEnd;\n  return unitConversion(visualElement, target, origin, transitionEnd);\n};\nexport { parseDomVariant };","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.js';\nimport { getBoundingBox } from '../dom/projection/measure.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.js';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.js';\nimport { isTransformProp } from './utils/transform.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { renderHTML } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from './utils/build-projection-transform.js';\nfunction getComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\nvar htmlConfig = {\n  treeType: \"dom\",\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    if (isTransformProp(key)) {\n      var defaultType = getDefaultValueType(key);\n      return defaultType ? defaultType.default || 0 : 0;\n    } else {\n      var computedStyle = getComputedStyle(domElement);\n      return (isCSSVariable(key) ? computedStyle.getPropertyValue(key) : computedStyle[key]) || 0;\n    }\n  },\n  sortNodePosition: function sortNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  },\n  getBaseTarget: function getBaseTarget(props, key) {\n    var _a;\n    return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n  },\n  measureViewportBox: function measureViewportBox(element, _a) {\n    var transformPagePoint = _a.transformPagePoint;\n    return getBoundingBox(element, transformPagePoint);\n  },\n  /**\n   * Reset the transform on the current Element. This is called as part\n   * of a batched process across the entire layout tree. To remove this write\n   * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n   * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n   * works\n   */\n  resetTransform: function resetTransform(element, domElement, props) {\n    var transformTemplate = props.transformTemplate;\n    domElement.style.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\";\n    // Ensure that whatever happens next, we restore our transform on the next frame\n    element.scheduleRender();\n  },\n  restoreTransform: function restoreTransform(instance, mutableState) {\n    instance.style.transform = mutableState.style.transform;\n  },\n  removeValueFromRenderState: function removeValueFromRenderState(key, _a) {\n    var vars = _a.vars,\n      style = _a.style;\n    delete vars[key];\n    delete style[key];\n  },\n  /**\n   * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n   * can be animated by Motion.\n   */\n  makeTargetAnimatable: function makeTargetAnimatable(element, _a, _b, isMounted) {\n    var transformValues = _b.transformValues;\n    if (isMounted === void 0) {\n      isMounted = true;\n    }\n    var transition = _a.transition,\n      transitionEnd = _a.transitionEnd,\n      target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n    var origin = getOrigin(target, transition || {}, element);\n    /**\n     * If Framer has provided a function to convert `Color` etc value types, convert them\n     */\n    if (transformValues) {\n      if (transitionEnd) transitionEnd = transformValues(transitionEnd);\n      if (target) target = transformValues(target);\n      if (origin) origin = transformValues(origin);\n    }\n    if (isMounted) {\n      checkTargetForNewValues(element, target, origin);\n      var parsed = parseDomVariant(element, target, origin, transitionEnd);\n      transitionEnd = parsed.transitionEnd;\n      target = parsed.target;\n    }\n    return __assign({\n      transition: transition,\n      transitionEnd: transitionEnd\n    }, target);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(element, renderState, latestValues, projection, layoutState, options, props) {\n    if (element.isVisible !== undefined) {\n      renderState.style.visibility = element.isVisible ? \"visible\" : \"hidden\";\n    }\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderHTML\n};\nvar htmlVisualElement = visualElement(htmlConfig);\nexport { getComputedStyle, htmlConfig, htmlVisualElement };","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function isNumericalString(v) {\n  return /^\\-?\\d*\\.?\\d+$/.test(v);\n};\nexport { isNumericalString };","import { __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { htmlConfig } from '../html/visual-element.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { camelToDash } from '../dom/utils/camel-to-dash.js';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.js';\nimport { isTransformProp } from '../html/utils/transform.js';\nimport { renderSVG } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from '../html/utils/build-projection-transform.js';\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), {\n  getBaseTarget: function getBaseTarget(props, key) {\n    return props[key];\n  },\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    var _a;\n    if (isTransformProp(key)) {\n      return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n    }\n    key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n    return domElement.getAttribute(key);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(_element, renderState, latestValues, projection, layoutState, options, props) {\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderSVG\n}));\nexport { svgVisualElement };","import { htmlVisualElement } from '../html/visual-element.js';\nimport { svgVisualElement } from '../svg/visual-element.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nvar createDomVisualElement = function createDomVisualElement(Component, options) {\n  return isSVGComponent(Component) ? svgVisualElement(options, {\n    enableHardwareAcceleration: false\n  }) : htmlVisualElement(options, {\n    enableHardwareAcceleration: true\n  });\n};\nexport { createDomVisualElement };","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/createMotionProxy(function (Component, config) {\n  return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n  return createMotionComponent(createDomMotionConfig(key, {\n    forwardMotionProps: false\n  }, featureBundle, createDomVisualElement));\n}\nexport { createDomMotionComponent, motion };","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n  var _b = _a.forwardMotionProps,\n    forwardMotionProps = _b === void 0 ? false : _b;\n  var baseConfig = isSVGComponent(Component) ? svgMotionConfig : htmlMotionConfig;\n  return __assign(__assign({}, baseConfig), {\n    preloadedFeatures: preloadedFeatures,\n    useRender: createUseRender(forwardMotionProps),\n    createVisualElement: createVisualElement,\n    Component: Component\n  });\n}\nexport { createDomMotionConfig };","import sync from 'framesync';\nimport { copyAxisBox } from '../../../utils/geometry/index.js';\nimport { compareByDepth } from '../../utils/compare-by-depth.js';\nfunction isProjecting(visualElement) {\n  var isEnabled = visualElement.projection.isEnabled;\n  return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n  if (ancestors === void 0) {\n    ancestors = [];\n  }\n  var parent = visualElement.parent;\n  if (parent) collectProjectingAncestors(parent, ancestors);\n  if (isProjecting(visualElement)) ancestors.push(visualElement);\n  return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n  var children = [];\n  var addChild = function addChild(child) {\n    if (isProjecting(child)) children.push(child);\n    child.children.forEach(addChild);\n  };\n  visualElement.children.forEach(addChild);\n  return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n  if (visualElement.shouldResetTransform()) return;\n  var layoutState = visualElement.getLayoutState();\n  visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n  layoutState.isHydrated = true;\n  layoutState.layout = visualElement.measureViewportBox();\n  layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n  visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n  sync.update(function () {\n    return visualElement.rebaseProjectionTarget();\n  });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n  if (visualElement.shouldResetTransform()) return;\n  visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n  /**\n   * Update targetBox to match the prevViewportBox. This is just to ensure\n   * that targetBox is affected by scroll in the same way as the measured box\n   */\n  visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\nexport { collectProjectingAncestors, collectProjectingChildren, snapshotViewportBox, updateLayoutMeasurement };","var unresolvedJobs = new Set();\nfunction pushJob(stack, job, pointer) {\n  if (!stack[pointer]) stack[pointer] = [];\n  stack[pointer].push(job);\n}\nfunction batchLayout(callback) {\n  unresolvedJobs.add(callback);\n  return function () {\n    return unresolvedJobs.delete(callback);\n  };\n}\nfunction flushLayout() {\n  if (!unresolvedJobs.size) return;\n  var pointer = 0;\n  var reads = [[]];\n  var writes = [];\n  var setRead = function setRead(job) {\n    return pushJob(reads, job, pointer);\n  };\n  var setWrite = function setWrite(job) {\n    pushJob(writes, job, pointer);\n    pointer++;\n  };\n  /**\n   * Resolve jobs into their array stacks\n   */\n  unresolvedJobs.forEach(function (callback) {\n    callback(setRead, setWrite);\n    pointer = 0;\n  });\n  unresolvedJobs.clear();\n  /**\n   * Execute jobs\n   */\n  var numStacks = writes.length;\n  for (var i = 0; i <= numStacks; i++) {\n    reads[i] && reads[i].forEach(executeJob);\n    writes[i] && writes[i].forEach(executeJob);\n  }\n}\nvar executeJob = function executeJob(job) {\n  return job();\n};\nexport { batchLayout, flushLayout };","var compareByDepth = function compareByDepth(a, b) {\n  return a.depth - b.depth;\n};\nexport { compareByDepth };","function noop(any) {\n  return any;\n}\nexport { noop };","import { __assign } from 'tslib';\nimport { noop } from '../noop.js';\n\n/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToAxisBox(_a) {\n  var top = _a.top,\n    left = _a.left,\n    right = _a.right,\n    bottom = _a.bottom;\n  return {\n    x: {\n      min: left,\n      max: right\n    },\n    y: {\n      min: top,\n      max: bottom\n    }\n  };\n}\nfunction convertAxisBoxToBoundingBox(_a) {\n  var x = _a.x,\n    y = _a.y;\n  return {\n    top: y.min,\n    bottom: y.max,\n    left: x.min,\n    right: x.max\n  };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoundingBox(_a, transformPoint) {\n  var top = _a.top,\n    left = _a.left,\n    bottom = _a.bottom,\n    right = _a.right;\n  if (transformPoint === void 0) {\n    transformPoint = noop;\n  }\n  var topLeft = transformPoint({\n    x: left,\n    y: top\n  });\n  var bottomRight = transformPoint({\n    x: right,\n    y: bottom\n  });\n  return {\n    top: topLeft.y,\n    left: topLeft.x,\n    bottom: bottomRight.y,\n    right: bottomRight.x\n  };\n}\n/**\n * Create an empty axis box of zero size\n */\nfunction axisBox() {\n  return {\n    x: {\n      min: 0,\n      max: 1\n    },\n    y: {\n      min: 0,\n      max: 1\n    }\n  };\n}\nfunction copyAxisBox(box) {\n  return {\n    x: __assign({}, box.x),\n    y: __assign({}, box.y)\n  };\n}\n/**\n * Create an empty box delta\n */\nvar zeroDelta = {\n  translate: 0,\n  scale: 1,\n  origin: 0,\n  originPoint: 0\n};\nfunction delta() {\n  return {\n    x: __assign({}, zeroDelta),\n    y: __assign({}, zeroDelta)\n  };\n}\nexport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox, copyAxisBox, delta, transformBoundingBox };","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n  var ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = init();\n  }\n  return ref.current;\n}\nexport { useConstant };","import { useEffect } from 'react';\nfunction useUnmountEffect(callback) {\n  return useEffect(function () {\n    return function () {\n      return callback();\n    };\n  }, []);\n}\nexport { useUnmountEffect };","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\nexport default memoize;","import memoize from '@emotion/memoize';\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */ && prop.charCodeAt(1) === 110\n  /* n */ && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */);\n\nexport default index;"],"names":["visuallyHiddenStyle","border","clip","height","width","margin","padding","overflow","whiteSpace","position","VisuallyHidden","baseStyle","displayName","VisuallyHiddenInput","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_excluded","spin","transform","Spinner","props","ref","styles","_omitThemingProps","_omitThemingProps$lab","label","_omitThemingProps$thi","thickness","_omitThemingProps$spe","speed","_omitThemingProps$emp","emptyColor","className","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_className","cx","spinnerStyles","display","borderColor","borderStyle","borderRadius","borderWidth","borderBottomColor","borderLeftColor","animation","__css","_excluded$4","_createContext","strict","name","ButtonGroupProvider","useButtonGroup","ButtonGroup","size","colorScheme","variant","_props$spacing","spacing","isAttached","isDisabled","context","groupStyles","borderEndRadius","borderStartRadius","marginStart","value","role","_excluded$3","ButtonSpinner","placement","_props$children","children","color","marginProp","_extends2","alignItems","fontSize","lineHeight","_excluded$2","ButtonIcon","_children","focusable","alignSelf","flexShrink","_excluded$1","Button","_React$useState","isButton","setIsButton","group","_omitThemingProps$isD","isLoading","isActive","isFullWidth","leftIcon","rightIcon","loadingText","_omitThemingProps$ico","iconSpacing","type","spinner","_omitThemingProps$spi","spinnerPlacement","as","buttonStyles","_styles$_focus","_focus","zIndex","appearance","justifyContent","userSelect","verticalAlign","outline","_useButtonType","node","tagName","undefined","_ref","defaultType","contentProps","disabled","opacity","ButtonContent","marginEnd","IconButton","icon","isRound","ariaLabel","element","fallbackIcon","path","stroke","strokeWidth","strokeLinecap","fill","d","strokeMiterlimit","cy","r","viewBox","Icon","_props$color","_props$focusable","shared","w","h","_viewBox","_path","Icon$1","_excluded$h","AspectRatio","_props$ratio","ratio","child","_before","content","paddingBottom","top","right","bottom","left","objectFit","_excluded$g","Badge","_excluded$f","_excluded2$5","Box","Square","_props$centerContent","centerContent","boxSize","flexGrow","Circle","Center","_excluded$d","Code","_excluded$c","Container","flexDirection","_excluded$b","_excluded2$4","Divider","_useStyleConfig","borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","_omitThemingProps$ori","orientation","dividerStyles","vertical","horizontal","_excluded$a","Flex","direction","align","justify","wrap","basis","grow","shrink","flexWrap","flexBasis","_excluded$9","Grid","area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns","gridArea","gridTemplateAreas","gridGap","gridRowGap","gridColumnGap","gridAutoColumns","gridColumn","gridRow","gridAutoFlow","gridAutoRows","gridTemplateRows","gridTemplateColumns","_excluded$8","Heading","_excluded$7","Kbd","fontFamily","_excluded$6","Link","isExternal","rel","_excluded$5","_excluded2$2","_excluded3","errorMessage","StylesProvider","useStyles","List","_omitThemingProps$sty","styleType","stylePosition","validChildren","spacingStyle","mt","listStyleType","listStylePosition","container","OrderedList","UnorderedList","ListItem","item","ListIcon","SimpleGrid","count","columns","spacingX","spacingY","minChildWidth","n","Spacer","flex","justifySelf","selector","StackItem","minWidth","Stack","isInline","directionProp","divider","shouldWrapChildren","options","directionStyles","marginTop","marginBottom","getStackStyles","dividerStyle","my","mx","getDividerStyles","hasDivider","shouldUseChildren","clones","map","index","isLast","_child","_divider","HStack","VStack","Text","decoration","casing","aliasedProps","textAlign","textDecoration","textTransform","_excluded2$1","Wrap","_spacingX$spacingY","_spacingX$spacingY$sp","x","_spacingX$spacingY$sp2","y","theme","childrenToRender","WrapItem","TransitionEasings","ease","easeIn","easeOut","easeInOut","TransitionVariants","enter","exit","maxWidth","slideTransition","_options$direction","TransitionDefaults","duration","withDelay","transition","delay","defaultTransitions","variants$4","_transition$exit","animateOpacity","startingHeight","transitionEnd","parseInt","toString","_ref2","_transition$enter","endingHeight","Collapse","isOpen","unmountOnExit","_props$animateOpacity","_props$startingHeight","_props$endingHeight","style","mounted","setMounted","timeout","setTimeout","clearTimeout","condition","Boolean","message","hasStartingHeight","parseFloat","custom","show","animate","initial","variants","fadeConfig","_temp","_temp2","Fade","scaleFadeConfig","reverse","initialScale","scale","ScaleFade","_props$reverse","_props$initialScale","defaultTransition","damping","stiffness","variants$1","Slide","_props$direction","transitionStyles","computedStyle","slideFadeConfig","offsetX","offsetY","_ref3","_transition$exit2","offset","SlideFade","_props$offsetX","_props$offsetY","presenceId","getPresenceId","id","PresenceChild","_a","isPresent","_onExitComplete","onExitComplete","presenceAffectsLayout","presenceChildren","newChildrenMap","useMemo","childId","set","allComplete","forEach","isComplete","register","delete","_","PresenceContext","Map","getChildKey","AnimatePresence","_b","exitBeforeEnter","_c","forceRender","unloadingRef","useRef","useState","forcedRenderCount","setForcedRenderCount","current","useCallback","useForceUpdate","layoutContext","useContext","SharedLayoutContext","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","push","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","presentKeys","targetKeys","numPresent","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement","usePresence","useUniqueId","useEffect","counter","incrementId","Presence","VisibilityAction","createContext","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","queue","flush","parent","read","write","order","Array","from","sort","ancestors","resetTransform","restoreTransform","presence","assignProjectionToSnapshot","clear","prevViewportBox","projection","FramerTreeLayoutContext","isSharedLayout","createDefinition","propNames","isEnabled","some","featureDefinitions","measureLayout","drag","focus","hover","tap","pan","layoutAnimation","LazyContext","featureNames","numFeatures","MotionConfigContext","transformPagePoint","p","isStatic","MotionContext","LayoutGroupContext","isBrowser","window","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","Component","visualState","createVisualElement","config","lazyContext","visualElement","presenceContext","layoutId","layoutGroupId","useLayoutId","visualElementRef","renderer","blockInitialAnimation","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","isVariantLabels","v","isArray","isVariantLabel","resolveVariantFromProps","definition","currentValues","currentVelocity","resolveVariant","getProps","forEachValue","getCurrent","velocity","getVelocity","checkIfControllingVariants","start","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","useCreateMotionContext","inherit","getCurrentTreeVariants","variantLabelsAsDependency","prop","join","preloadedFeatures","useRender","useVisualState","features","loadFeatures","forwardRef","externalRef","name_1","useFeatures","Provider","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","Proxy","_target","lowercaseSVGElements","isSVGComponent","includes","test","valueScaleCorrection","transformAxes","transformProps","sortTransformProps","a","b","operationKey","axesKey","transformPropSet","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","layout","isMotionValue","translateAlias","z","transformPerspective","isCSSVariable","startsWith","getValueAsType","clamp","min","max","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","split","parse","degrees","percent","px","vh","vw","progressPercentage","number","alpha","default","round","numberValueTypes","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxHeight","paddingTop","paddingRight","paddingLeft","marginRight","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","originX","originY","originZ","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","state","latestValues","layoutState","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","isHydrated","correctedValue","process","applyTo","num","deltaFinal","treeScale","transformIsDefault","enableHardwareAcceleration","_d","allowTransformNone","transformString","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","origin","progressToPixels","progress","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","createElement","CAMEL_CASE_PATTERN","camelToDash","str","replace","toLowerCase","renderHTML","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps","newValues","toUpperCase","isAnimationControls","isKeyframesTarget","resolveMotionValue","unwrappedValue","mix","toValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","values","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","svgMotionConfig","getBBox","getBoundingClientRect","e","getTotalLength","AnimationType","htmlMotionConfig","addDomEvent","eventName","handler","addEventListener","removeEventListener","useDomEvent","isMouseEvent","event","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","button","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","callback","info","setActive","Hover","isNodeOrChild","parentElement","combineFunctions","pipe","transformers","_i","reduce","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","Focus","onHoverStart","onHoverEnd","shallowCompare","next","prev","prevLength","safeMin","findSpring","envelope","derivative","bounce","_e","mass","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","c","exp","pow","f","g","initialGuess","result","approximateRoot","isNaN","sqrt","durationKeys","physicsKeys","isSpringType","spring","to","restSpeed","restDelta","done","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","isColorString","testProp","splitColor","aName","bName","cName","match","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","hex","substr","hsla","hue","saturation","lightness","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","notAnimatable","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","colorToken","numberToken","analyse","numColors","colors","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","concat","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","power","reverseEasing","easing","mirrorEasing","createBackIn","linear","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","bounceOut","p2","bounceIn","defaultEasing","keyframes","times","o","convertOffsetToTimes","_value","defaultOffset","createInterpolator","types","decay","timeConstant","_f","modifyTarget","amplitude","ideal","loopElapsed","elapsed","framesync","update","passTimestamp","stop","driverControls","latest","interpolateFromNumber","autoplay","driver","_g","repeat","repeatMax","_h","repeatType","_j","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","velocityPerSecond","frameDuration","secondsToMilliseconds","seconds","a1","a2","calcBezier","getSlope","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","backgroundColor","maxDefaults","applyDefaultFilter","slice","defaultValue","functionRegex","filter","functions","defaultValueTypes","outlineColor","borderTopColor","borderRightColor","WebkitFilter","getDefaultValueType","defaultValueType","convertTransitionToAnimationOptions","yoyo","flip","loop","isEasingArray","getPopmotionAnimationOptions","valueKey","transitionFactory","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","bounceStiffness","bounceDamping","_onUpdate","isOutOfBounds","boundaryNearest","startAnimation","startSpring","prev_1","current_1","boundary_1","heading_1","inertia","potentialUnitType","delayTimer","controls","getDelayFromTransition","addUniqueItem","arr","removeItem","SubscriptionManager","subscriptions","_this","notify","numSubscriptions","getSize","MotionValue","init","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","render","timestamp","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","Promise","resolve","stopAnimation","then","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","getDefaultTransition","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","all","animateChildren","first","last","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","allAnimatedKeys","buildResolvedTypeValues","acc","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","eachAxis","applyConstraints","elastic","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","getBoundingBox","box","isNear","maxDistance","calcLength","sourceLength","targetLength","updateAxisDelta","originPoint","translate","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","calcRelativeOffsetAxis","calcRelativeOffset","checkIfParentHasChanged","prevId","getLayoutId","nextId","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","tree","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","getAxisMotionValue","isExternalDrag","rebaseProjectionTarget","measureViewportBox","scheduleUpdateLayoutProjection","axisValue","resolveDragConstraints","dragPropagation","onDragStart","dragDirectionLock","lockThreshold","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","getLayoutState","layoutCorrected","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","cssVariableRegex","getVariableValue","depth","exec","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","_super","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevParentViewportBox","parentLayout","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","isTargetLocked","animateAxis","setVisibility","notifyLayoutAnimationComplete","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","correctors","addScaleCorrection","componentWillUnmount","axisIsEqual","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","isZeroBox","zeroAxis","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","componentDidUpdate","layoutAnimations","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","names","updateLayoutDeltas","treePath","treeLength","applyTreeDeltas","FlatTree","isDirty","treeType","build","_getBaseTarget","_makeTargetAnimatable","_measureViewportBox","renderInstance","readValueFromInstance","_resetTransform","_restoreTransform","removeValueFromRenderState","_sortNodePosition","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","args","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","_updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","isVisible","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","other","updateTreeLayoutProjection","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","newProps","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","shouldResetTransform","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","compareDocumentPosition","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","isProjectionTranform","htmlVisualElement","svgVisualElement","getAttribute","_element","featureBundle","motion","baseConfig","isProjecting","collectProjectingAncestors","collectProjectingChildren","addChild","updateLayoutMeasurement","notifyBeforeLayoutMeasure","notifyLayoutMeasure","snapshotViewportBox","unresolvedJobs","pushJob","stack","job","pointer","batchLayout","flushLayout","reads","writes","setRead","setWrite","numStacks","executeJob","compareByDepth","noop","any","convertBoundingBoxToAxisBox","convertAxisBoxToBoundingBox","transformBoundingBox","topLeft","bottomRight","axisBox","copyAxisBox","zeroDelta","useConstant","useUnmountEffect","reactPropsRegex","fn","cache","arg","charCodeAt"],"sourceRoot":""}